!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const i=n(1),r=n(21),o=n(24),a=n(25);const s=function(e){document.getElementById("redirecting").classList.remove("hidden"),e.getIdToken().then(function(e){const t=function(e){const t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}("csrfToken");return u("/sessionLogin",e,t).then(function(){window.location.assign("/videos")},function(e){window.location.assign("/")})})},u=function(e,t,n){return a.ajax({type:"POST",url:e,data:{idToken:t,csrfToken:n},contentType:"application/x-www-form-urlencoded"})};i.initializeApp(o),i.auth().setPersistence(i.auth.Auth.Persistence.NONE);const c=new r.auth.AuthUI(i.auth());window.addEventListener("load",function(){c.start("#firebaseui-container",{callbacks:{signInSuccess:function(e,t,n){return s(e),!1},uiShown:function(){document.getElementById("loading").classList.add("hidden")}},signInFlow:"popup",signInOptions:[{provider:i.auth.GoogleAuthProvider.PROVIDER_ID},{provider:i.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!0}],tosUrl:"https://www.google.com",credentialHelper:r.auth.CredentialHelper.NONE})})},function(e,t,n){var i=n(2);n(12),n(14),n(17),n(19),e.exports=i},function(e,t,n){n(3),e.exports=n(9).default},function(e,t,n){"use strict";n.r(t),function(e,t){n(8);var i=setTimeout;function r(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,i)}else(1===e._state?s:u)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void h((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}var i,r}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(e,t)},n)}i[e]=a,0==--r&&t(i)}catch(e){n(e)}}for(var a=0;a<i.length;a++)o(a,i[a])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var f=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();function d(e,t){return e(t={exports:{}},t.exports),t.exports}f.Promise||(f.Promise=o);var p=d(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),v=d(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),g=(v.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),m=function(e){if(!g(e))throw TypeError(e+" is not an object!");return e},y=function(e){try{return!!e()}catch(e){return!0}},b=!y(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),_=p.document,w=g(_)&&g(_.createElement),E=!b&&!y(function(){return 7!=Object.defineProperty((e="div",w?_.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),C=Object.defineProperty,S={f:b?Object.defineProperty:function(e,t,n){if(m(e),t=function(e,t){if(!g(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!g(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!g(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!g(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}(t,!0),m(n),E)try{return C(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},T=b?function(e,t,n){return S.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,n))}:function(e,t,n){return e[t]=n,e},I={}.hasOwnProperty,A=function(e,t){return I.call(e,t)},N=0,k=Math.random(),R=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++N+k).toString(36))},x=d(function(e){var t=R("src"),n=Function.toString,i=(""+n).split("toString");v.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,r,o){var a="function"==typeof r;a&&(A(r,"name")||T(r,"name",n)),e[n]!==r&&(a&&(A(r,t)||T(r,t,e[n]?""+e[n]:i.join(String(n)))),e===p?e[n]=r:o?e[n]?e[n]=r:T(e,n,r):(delete e[n],T(e,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),D=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},O=function(e,t,n){var i,r,o,a,s=e&O.F,u=e&O.G,c=e&O.S,l=e&O.P,h=e&O.B,f=u?p:c?p[t]||(p[t]={}):(p[t]||{}).prototype,d=u?v:v[t]||(v[t]={}),g=d.prototype||(d.prototype={});for(i in u&&(n=t),n)o=((r=!s&&f&&void 0!==f[i])?f:n)[i],a=h&&r?D(o,p):l&&"function"==typeof o?D(Function.call,o):o,f&&x(f,i,o,e&O.U),d[i]!=o&&T(d,i,a),l&&g[i]!=o&&(g[i]=o)};p.core=v,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128;var P=O,L={}.toString,M=function(e){return L.call(e).slice(8,-1)},F=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==M(e)?e.split(""):Object(e)},U=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},j=Math.ceil,B=Math.floor,W=Math.min,H=function(e){return e>0?W(function(e){return isNaN(e=+e)?0:(e>0?B:j)(e)}(e),9007199254740991):0},V=Array.isArray||function(e){return"Array"==M(e)},q=p["__core-js_shared__"]||(p["__core-js_shared__"]={}),K=function(e){return q[e]||(q[e]={})},G=d(function(e){var t=K("wks"),n=p.Symbol,i="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=i&&n[e]||(i?n:R)("Symbol."+e))}).store=t}),z=G("species"),Y=function(e,t){return new(function(e){var t;return V(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!V(t.prototype)||(t=void 0),g(t)&&null===(t=t[z])&&(t=void 0)),void 0===t?Array:t}(e))(t)},Q=function(e,t){var n=1==e,i=2==e,r=3==e,o=4==e,a=6==e,s=5==e||a,u=t||Y;return function(t,c,l){for(var h,f,d=Object(U(t)),p=F(d),v=D(c,l,3),g=H(p.length),m=0,y=n?u(t,g):i?u(t,0):void 0;g>m;m++)if((s||m in p)&&(f=v(h=p[m],m,d),e))if(n)y[m]=f;else if(f)switch(e){case 3:return!0;case 5:return h;case 6:return m;case 2:y.push(h)}else if(o)return!1;return a?-1:r||o?o:y}},X=G("unscopables"),$=Array.prototype;null==$[X]&&T($,X,{});var J=function(e){$[X][e]=!0},Z=Q(5),ee=!0;"find"in[]&&Array(1).find(function(){ee=!1}),P(P.P+P.F*ee,"Array",{find:function(e){return Z(this,e,arguments.length>1?arguments[1]:void 0)}}),J("find");v.Array.find;var te=Q(6),ne=!0;"findIndex"in[]&&Array(1).findIndex(function(){ne=!1}),P(P.P+P.F*ne,"Array",{findIndex:function(e){return te(this,e,arguments.length>1?arguments[1]:void 0)}}),J("findIndex");v.Array.findIndex;var ie=G("match"),re=function(e,t,n){if(g(i=t)&&(void 0!==(r=i[ie])?r:"RegExp"==M(i)))throw TypeError("String#"+n+" doesn't accept regex!");var i,r;return String(U(e))},oe=G("match"),ae="".startsWith;P(P.P+P.F*function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[oe]=!1,!"/./"[e](t)}catch(e){}}return!0}("startsWith"),"String",{startsWith:function(e){var t=re(this,e,"startsWith"),n=H(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return ae?ae.call(t,i,n):t.slice(n,n+i.length)===i}});v.String.startsWith}.call(this,n(4).setImmediate,n(5))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(6),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,u=1,c={},l=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,i(u),u++},f.clearImmediate=d}function d(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(5),n(7))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},v.call(g.prototype),v.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];y.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=g,e.Response=y,e.fetch=function(e,n){return new Promise(function(i,r){var o=new g(e,n),a=new XMLHttpRequest;a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new y(r,n))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function d(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&i(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!r(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e,t,n,i=h(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e,t){var n,i,r=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),o.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";n.r(t),n.d(t,"firebase",function(){return l});var i=n(10),r=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o="[DEFAULT]",a=[],s=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=Object(i.deepCopy)(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){a.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){a=a.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(i){t.push(e.services_[n][i])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=o),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==o?t:void 0,i=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=i}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;Object(i.deepExtend)(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(a.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),a=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},e}();function u(e,t){throw c.create(e,t)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new i.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=function e(){var t={},n={},a={},c={__esModule:!0,initializeApp:function(e,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var i=n;n={name:i}}var a=n;void 0===a.name&&(a.name=o);var l=a.name;"string"==typeof l&&l||u("bad-app-name",{name:l+""}),r(t,l)&&u("duplicate-app",{name:l});var h=new s(e,a,c);return t[l]=h,f(h,"create"),h},app:l,apps:null,Promise:Promise,SDK_VERSION:"4.13.0",INTERNAL:{registerService:function(e,t,r,o,f){n[e]&&u("duplicate-service",{name:e}),n[e]=t,o&&(a[e]=o,h().forEach(function(e){o("create",e)}));var d=function(t){return void 0===t&&(t=l()),"function"!=typeof t[e]&&u("invalid-app-argument",{name:e}),t[e]()};return void 0!==r&&Object(i.deepExtend)(d,r),c[e]=d,s.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this._getService.bind(this,e);return i.apply(this,f?t:[])},d},createFirebaseNamespace:e,extendNamespace:function(e){Object(i.deepExtend)(c,e)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,removeApp:function(e){f(t[e],"delete"),delete t[e]},factories:n,useAsService:d,Promise:Promise,deepExtend:i.deepExtend}};function l(e){return r(t,e=e||o)||u("no-app",{name:e}),t[e]}function h(){return Object.keys(t).map(function(e){return t[e]})}function f(e,t){Object.keys(n).forEach(function(n){var i=d(e,n);null!==i&&a[i]&&a[i](t,e)})}function d(e,t){if("serverAuth"===t)return null;var n=t;return e.options,n}return Object(i.patchProperty)(c,"default",c),Object.defineProperty(c,"apps",{get:h}),Object(i.patchProperty)(l,"App",s),c}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var o=e[r],a=r+1<e.length,s=a?e[r+1]:0,u=r+2<e.length,c=u?e[r+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),i.push(n[l],n[h],n[f],n[d])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,i=0;n<e.length;){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(a>>10)),t[i++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var o=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0,s=++r<e.length?n[e.charAt(r)]:64,u=++r<e.length?n[e.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(i.push(c),64!=s){var l=a<<4&240|s>>2;if(i.push(l),64!=u){var h=s<<6&192|u;i.push(h)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,i){n?t.reject(n):t.resolve(i),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,i))}},e}(),f=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},d="FirebaseError",p=Error.captureStackTrace;var v=function(e,t){if(this.code=e,this.message=t,p)p(this,g.prototype.create);else{var n=Error.apply(this,arguments);this.name=d,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}};v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v.prototype.name=d;var g=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,i=this.errors[e],r=this.service+"/"+e;n=void 0===i?"Error":i.replace(this.pattern,function(e,n){var i=t[n];return void 0!==i?i.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+r+").";var o=new v(r,n);for(var a in t)t.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=t[a]);return o},e}();function m(e){return JSON.parse(e)}var y=function(e){var t={},n={},i={},r="";try{var o=e.split(".");t=m(c(o[0])||""),n=m(c(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:i,signature:r}},b=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},_=function(e,t){return b(t,function(t,n){e[t]=n}),e},w=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return i},E=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return i.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):i<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=r}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<t;){if(0==o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++i,++o==this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++i,++o==this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)e[i]=this.chain_[n]>>r&255,++i;return e},t}(function(){this.blockSize=-1});var C=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var i,r=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&"function"==typeof e[r])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=S),void 0===i.error&&(i.error=S),void 0===i.complete&&(i.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}}),this.observers.push(i),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function S(){}function T(e,t,n){var i="";switch(t){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=e+" failed: ";return r+=i+" argument "}t.assert=o,t.assertionError=a,t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.CONSTANTS=r,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.patchProperty=function(e,t,n){e[t]=n},t.Deferred=h,t.getUA=f,t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.ErrorFactory=g,t.FirebaseError=v,t.patchCapture=function(e){var t=p;return p=e,t},t.jsonEval=m,t.stringify=function(e){return JSON.stringify(e)},t.decode=y,t.isAdmin=function(e){var t=y(e).claims;return"object"==typeof t&&!0===t.admin},t.issuedAtTime=function(e){var t=y(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.isValidFormat=function(e){var t=y(e),n=t.claims;return!!t.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t,n,i=y(e).claims,r=Math.floor((new Date).getTime()/1e3);return"object"==typeof i&&(i.hasOwnProperty("nbf")?t=i.nbf:i.hasOwnProperty("iat")&&(t=i.iat),n=i.hasOwnProperty("exp")?i.exp:t+86400),r&&t&&n&&r>=t&&r<=n},t.clone=function(e){return _({},e)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},t.extend=_,t.findKey=w,t.findValue=function(e,t,n){var i=w(e,t,n);return i&&e[i]},t.forEach=b,t.getAnyKey=function(e){for(var t in e)return t},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.getValues=function(e){var t=[],n=0;for(var i in e)t[n++]=e[i];return t},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isNonNullObject=function(e){return"object"==typeof e&&null!==e},t.map=function(e,t,n){var i={};for(var r in e)i[r]=t.call(n,e[r],r,e);return i},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.querystring=function(e){var t=[];return b(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.Sha1=E,t.async=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.createSubscribe=function(e,t){var n=new C(e,t);return n.subscribe.bind(n)},t.errorPrefix=T,t.validateArgCount=function(e,t,n,i){var r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},t.validateCallback=function(e,t,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(T(e,t,i)+"must be a valid function.")},t.validateContextObject=function(e,t,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(T(e,t,i)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(T(e,t,i)+"must be a valid firebase namespace.")},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);if(r>=55296&&r<=56319){var a=r-55296;o(++i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(a<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return r}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return f}),n.d(t,"__values",function(){return d}),n.d(t,"__read",function(){return p}),n.d(t,"__spread",function(){return v}),n.d(t,"__await",function(){return g}),n.d(t,"__asyncGenerator",function(){return m}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return _}),n.d(t,"__importStar",function(){return w}),n.d(t,"__importDefault",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,i){t(n,i,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})}function h(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function m(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){r[e]&&(i[e]=function(t){return new Promise(function(n,i){o.push([e,t,n,i])>1||s(e,t)})})}function s(e,t){try{(n=r[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){e[i]&&(t[i]=function(t){return(n=!n)?{value:g(e[i](t)),done:"return"===i}:r?r(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):d(e)}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){n(13)},function(e,t,n){(function(e){(function(){var e,t=n(9).default,i=i||{},r=this;function o(e){return"string"==typeof e}function a(e){return"boolean"==typeof e}function s(){}function u(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function c(e){return null===e}function l(e){return"array"==u(e)}function h(e){var t=u(e);return"array"==t||"object"==t&&"number"==typeof e.length}function f(e){return"function"==u(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now||function(){return+new Date};function w(e,t){function n(){}n.prototype=t.prototype,e.lb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ad=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function E(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function C(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function S(e){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function T(e,t){for(var n="",i=(e=e.split("%s")).length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");S.call(this,n+e[i])}function I(e,t){throw new T("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function A(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function N(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function k(){this.b=this.a=null}w(S,Error),S.prototype.name="CustomError",w(T,S),T.prototype.name="AssertionError",A.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var R=new A(function(){return new D},function(e){e.reset()});function x(){var e=pe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function D(){this.next=this.b=this.a=null}k.prototype.add=function(e,t){var n=R.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},D.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},D.prototype.reset=function(){this.next=this.b=this.a=null};var O=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(o(e))return o(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},P=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=o(e)?e.split(""):e,a=0;a<i;a++)a in r&&t.call(n,r[a],a,e)};var L=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r=o(e)?e.split(""):e,a=0;a<n;a++)a in r&&(i[a]=t.call(void 0,r[a],a,e));return i},M=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=o(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function F(e,t){return 0<=O(e,t)}function U(e,t){var n;return(n=0<=(t=O(e,t)))&&Array.prototype.splice.call(e,t,1),n}function j(e,t){!function(e,t){var n=e.length,i=o(e)?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(void 0,i[n],n,e)}(e,function(n,i){t.call(void 0,n,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&0})}function B(e){return Array.prototype.concat.apply([],arguments)}function W(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function H(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}var V=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function q(e){return J.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(G,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(z,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Y,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Q,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(X,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace($,"&#0;")),e):e}var K,G=/&/g,z=/</g,Y=/>/g,Q=/"/g,X=/'/g,$=/\x00/g,J=/[\x00&<>"']/;function Z(e,t){return-1!=e.indexOf(t)}function ee(e,t){return e<t?-1:e>t?1:0}e:{var te=r.navigator;if(te){var ne=te.userAgent;if(ne){K=ne;break e}}K=""}function ie(e){return Z(K,e)}function re(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function oe(e){for(var t in e)return!1;return!0}function ae(e){var t,n={};for(t in e)n[t]=e[t];return n}var se,ue,ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<ce.length;o++)n=ce[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function he(e){r.setTimeout(function(){throw e},0)}function fe(e,t){ue||function(){if(r.Promise&&r.Promise.resolve){var e=r.Promise.resolve(void 0);ue=function(){e.then(ve)}}else ue=function(){var e=ve;!f(r.setImmediate)||r.Window&&r.Window.prototype&&!ie("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(se||(se=function(){var e=r.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ie("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=y(function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),void 0!==e&&!ie("Trident")&&!ie("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).rb;n.rb=null,e()}},function(e){i.next={rb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){r.setTimeout(e,0)}}()),se(e)):r.setImmediate(e)}}(),de||(ue(),de=!0),pe.add(e,t)}var de=!1,pe=new k;function ve(){for(var e;e=x();){try{e.a.call(e.b)}catch(e){he(e)}N(R,e)}de=!1}function ge(e,t){if(this.a=me,this.j=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=s)try{var n=this;e.call(t,function(e){Ne(n,ye,e)},function(e){if(!(e instanceof Le))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Ne(n,be,e)})}catch(e){Ne(this,be,e)}}var me=0,ye=2,be=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var we=new A(function(){return new _e},function(e){e.reset()});function Ee(e,t,n){var i=we.get();return i.g=e,i.b=t,i.f=n,i}function Ce(e){if(e instanceof ge)return e;var t=new ge(s);return Ne(t,ye,e),t}function Se(e){return new ge(function(t,n){n(e)})}function Te(e,t,n){ke(e,t,n,null)||fe(b(t,e))}function Ie(e,t){e.b||e.a!=ye&&e.a!=be||Re(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ae(e,t,n,i){var r=Ee(null,null,null);return r.a=new ge(function(e,o){r.g=t?function(n){try{var r=t.call(i,n);e(r)}catch(e){o(e)}}:e,r.b=n?function(t){try{var r=n.call(i,t);void 0===r&&t instanceof Le?o(t):e(r)}catch(e){o(e)}}:o}),r.a.c=e,Ie(e,r),r.a}function Ne(e,t,n){e.a==me&&(e===n&&(t=be,n=new TypeError("Promise cannot resolve to itself")),e.a=1,ke(n,e.Kc,e.Lc,e)||(e.j=n,e.a=t,e.c=null,Re(e),t!=be||n instanceof Le||function(e,t){e.g=!0,fe(function(){e.g&&Pe.call(null,t)})}(e,n)))}function ke(e,t,n,i){if(e instanceof ge)return Ie(e,Ee(t||s,n||null,i)),!0;if(C(e))return e.then(t,n,i),!0;if(d(e))try{var r=e.then;if(f(r))return function(e,t,n,i,r){function o(e){a||(a=!0,i.call(r,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,n.call(r,e))},o)}catch(e){o(e)}}(e,r,t,n,i),!0}catch(e){return n.call(i,e),!0}return!1}function Re(e){e.h||(e.h=!0,fe(e.Ub,e))}function xe(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function De(e,t,n,i){if(n==be&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Oe(t,n,i);else try{t.c?t.g.call(t.f):Oe(t,n,i)}catch(e){Pe.call(null,e)}N(we,t)}function Oe(e,t,n){t==ye?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}ge.prototype.then=function(e,t,n){return Ae(this,f(e)?e:null,f(t)?t:null,n)},E(ge),(e=ge.prototype).ha=function(e,t){return(e=Ee(e,e,t)).c=!0,Ie(this,e),this},e.m=function(e,t){return Ae(this,null,e,t)},e.cancel=function(e){this.a==me&&fe(function(){!function e(t,n){if(t.a==me)if(t.c){var i=t.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,s.a==t&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==me&&1==r?e(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):xe(i),De(i,o,be,n)))}t.c=null}else Ne(t,be,n)}(this,new Le(e))},this)},e.Kc=function(e){this.a=me,Ne(this,ye,e)},e.Lc=function(e){this.a=me,Ne(this,be,e)},e.Ub=function(){for(var e;e=xe(this);)De(this,e,this.a,this.j);this.h=!1};var Pe=he;function Le(e){S.call(this,e)}function Me(){0!=Fe&&(Ue[this[p]||(this[p]=++v)]=this),this.pa=this.pa,this.oa=this.oa}w(Le,S),Le.prototype.name="cancel";var Fe=0,Ue={};function je(e){if(!e.pa&&(e.pa=!0,e.ua(),0!=Fe)){var t=e[p]||(e[p]=++v);if(0!=Fe&&e.oa&&0<e.oa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ue[t]}}function Be(e){return Be[" "](e),e}Me.prototype.pa=!1,Me.prototype.ua=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()},Be[" "]=s;var We,He,Ve=ie("Opera"),qe=ie("Trident")||ie("MSIE"),Ke=ie("Edge"),Ge=Ke||qe,ze=ie("Gecko")&&!(Z(K.toLowerCase(),"webkit")&&!ie("Edge"))&&!(ie("Trident")||ie("MSIE"))&&!ie("Edge"),Ye=Z(K.toLowerCase(),"webkit")&&!ie("Edge");function Qe(){var e=r.document;return e?e.documentMode:void 0}e:{var Xe="",$e=(He=K,ze?/rv:([^\);]+)(\)|;)/.exec(He):Ke?/Edge\/([\d\.]+)/.exec(He):qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(He):Ye?/WebKit\/(\S+)/.exec(He):Ve?/(?:Version)[ \/]?(\S+)/.exec(He):void 0);if($e&&(Xe=$e?$e[1]:""),qe){var Je=Qe();if(null!=Je&&Je>parseFloat(Xe)){We=String(Je);break e}}We=Xe}var Ze,et={};function tt(e){return function(e,t){var n=et;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=V(String(We)).split("."),i=V(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ee(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ee(0==a[2].length,0==s[2].length)||ee(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}var nt=r.document;Ze=nt&&qe?Qe()||("CSS1Compat"==nt.compatMode?parseInt(We,10):5):void 0;var it=Object.freeze||function(e){return e},rt=!qe||9<=Number(Ze),ot=qe&&!tt("9"),at=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return r.addEventListener("test",s,t),r.removeEventListener("test",s,t),e}();function st(e,t){this.type=e,this.b=this.target=t,this.Eb=!0}function ut(e,t){if(st.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(ze){e:{try{Be(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=o(e.pointerType)?e.pointerType:ct[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}st.prototype.preventDefault=function(){this.Eb=!1},w(ut,st);var ct=it({2:"touch",3:"pen",4:"mouse"});ut.prototype.preventDefault=function(){ut.lb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ot)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},ut.prototype.f=function(){return this.a};var lt="closure_listenable_"+(1e6*Math.random()|0),ht=0;function ft(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.La=r,this.key=++ht,this.ma=this.Ha=!1}function dt(e){e.ma=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function pt(e){this.src=e,this.a={},this.b=0}function vt(e,t){var n=t.type;n in e.a&&U(e.a[n],t)&&(dt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function gt(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.ma&&o.listener==t&&o.capture==!!n&&o.La==i)return r}return-1}pt.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=gt(e,t,i,r);return-1<a?(t=e[a],n||(t.Ha=!1)):((t=new ft(t,this.src,o,!!i,r)).Ha=n,e.push(t)),t};var mt="closure_lm_"+(1e6*Math.random()|0),yt={};function bt(e,t,n,i,r){if(i&&i.once)wt(e,t,n,i,r);else if(l(t))for(var o=0;o<t.length;o++)bt(e,t[o],n,i,r);else n=Rt(n),e&&e[lt]?Dt(e,t,n,d(i)?!!i.capture:!!i,r):_t(e,t,n,!1,i,r)}function _t(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=d(r)?!!r.capture:!!r,s=Nt(e);if(s||(e[mt]=s=new pt(e)),!(n=s.add(t,n,i,a,o)).proxy){if(i=function(){var e=At,t=rt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)at||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(St(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}0}}function wt(e,t,n,i,r){if(l(t))for(var o=0;o<t.length;o++)wt(e,t[o],n,i,r);else n=Rt(n),e&&e[lt]?Ot(e,t,n,d(i)?!!i.capture:!!i,r):_t(e,t,n,!0,i,r)}function Et(e,t,n,i,r){if(l(t))for(var o=0;o<t.length;o++)Et(e,t[o],n,i,r);else i=d(i)?!!i.capture:!!i,n=Rt(n),e&&e[lt]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=gt(o=e.a[t],n,i,r))&&(dt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Nt(e))&&(t=e.a[t.toString()],e=-1,t&&(e=gt(t,n,i,r)),(n=-1<e?t[e]:null)&&Ct(n))}function Ct(e){if("number"!=typeof e&&e&&!e.ma){var t=e.src;if(t&&t[lt])vt(t.u,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(St(n),i):t.addListener&&t.removeListener&&t.removeListener(i),0,(n=Nt(t))?(vt(n,e),0==n.b&&(n.src=null,t[mt]=null)):dt(e)}}}function St(e){return e in yt?yt[e]:yt[e]="on"+e}function Tt(e,t,n,i){var r=!0;if((e=Nt(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ma&&(o=It(o,i),r=r&&!1!==o)}return r}function It(e,t){var n=e.listener,i=e.La||e.src;return e.Ha&&Ct(e),n.call(i,t)}function At(e,t){if(e.ma)return!0;if(!rt){if(!t)e:{t=["window","event"];for(var n=r,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new ut(i=t,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){e:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){o=!0}(o||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=t.b;o;o=o.parentNode)i.push(o);for(e=e.type,o=i.length-1;0<=o;o--){t.b=i[o];var a=Tt(i[o],e,!0,t);n=n&&a}for(o=0;o<i.length;o++)t.b=i[o],a=Tt(i[o],e,!1,t),n=n&&a}return n}return It(e,new ut(t,this))}function Nt(e){return(e=e[mt])instanceof pt?e:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(e){return f(e)?e:(e[kt]||(e[kt]=function(t){return e.handleEvent(t)}),e[kt])}function xt(){Me.call(this),this.u=new pt(this),this.Mb=this,this.Ta=null}function Dt(e,t,n,i,r){e.u.add(String(t),n,!1,i,r)}function Ot(e,t,n,i,r){e.u.add(String(t),n,!0,i,r)}function Pt(e,t,n,i){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&vt(e.u,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Eb}function Lt(e,t,n){if(f(e))n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function Mt(e){var t=null;return new ge(function(n,i){-1==(t=Lt(function(){n(void 0)},e))&&i(Error("Failed to schedule timer."))}).m(function(e){throw r.clearTimeout(t),e})}function Ft(e){if(e.S&&"function"==typeof e.S)return e.S();if(o(e))return e.split("");if(h(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}function Ut(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(h(e)||o(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var i in t=[],n=0,e)t[n++]=i;return t}}function jt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof jt)for(n=e.U(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Bt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];Wt(e.b,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.c!=e.a.length){var r={};for(n=t=0;t<e.a.length;)Wt(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}w(xt,Me),xt.prototype[lt]=!0,xt.prototype.addEventListener=function(e,t,n,i){bt(this,e,t,n,i)},xt.prototype.removeEventListener=function(e,t,n,i){Et(this,e,t,n,i)},xt.prototype.dispatchEvent=function(e){var t,n=this.Ta;if(n)for(t=[];n;n=n.Ta)t.push(n);n=this.Mb;var i=e.type||e;if(o(e))e=new st(e,n);else if(e instanceof st)e.target=e.target||n;else{var r=e;le(e=new st(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var s=e.b=t[a];r=Pt(s,i,!0,e)&&r}if(r=Pt(s=e.b=n,i,!0,e)&&r,r=Pt(s,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Pt(s=e.b=t[a],i,!1,e)&&r;return r},xt.prototype.ua=function(){if(xt.lb.ua.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)0,dt(n[i]);delete t.a[e],t.b--}}this.Ta=null},(e=jt.prototype).S=function(){Bt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.U=function(){return Bt(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Wt(this.b,e)?this.b[e]:t},e.set=function(e,t){Wt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.U(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}};var Ht=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vt(e,t){if(this.b=this.l=this.c="",this.j=null,this.h=this.g="",this.f=!1,e instanceof Vt){this.f=void 0!==t?t:e.f,qt(this,e.c),this.l=e.l,this.b=e.b,Kt(this,e.j),this.g=e.g,t=e.a;var n=new an;n.c=t.c,t.a&&(n.a=new jt(t.a),n.b=t.b),Gt(this,n),this.h=e.h}else e&&(n=String(e).match(Ht))?(this.f=!!t,qt(this,n[1]||"",!0),this.l=$t(n[2]||""),this.b=$t(n[3]||"",!0),Kt(this,n[4]),this.g=$t(n[5]||"",!0),Gt(this,n[6]||"",!0),this.h=$t(n[7]||"")):(this.f=!!t,this.a=new an(null,this.f))}function qt(e,t,n){e.c=n?$t(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Kt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.j=t}else e.j=null}function Gt(e,t,n){t instanceof an?(e.a=t,function(e,t){t&&!e.f&&(sn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(cn(this,t),hn(this,n,e))},e)),e.f=t}(e.a,e.f)):(n||(t=Jt(t,rn)),e.a=new an(t,e.f))}function zt(e,t,n){e.a.set(t,n)}function Yt(e,t){return e.a.get(t)}function Qt(e){return e instanceof Vt?new Vt(e):new Vt(e,void 0)}function Xt(e,t){var n=new Vt(null,void 0);return qt(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function $t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jt(e,t,n){return o(e)?(e=encodeURI(e).replace(t,Zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vt.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Jt(t,en,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Jt(t,en,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.j)&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jt(n,"/"==n.charAt(0)?nn:tn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Jt(n,on)),e.join("")};var en=/[#\/\?@]/g,tn=/[#\?:]/g,nn=/[#\?]/g,rn=/[#\?@]/g,on=/#/g;function an(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function sn(e){e.a||(e.a=new jt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function un(e){var t=Ut(e);if(void 0===t)throw Error("Keys are undefined");var n=new an(null,void 0);e=Ft(e);for(var i=0;i<t.length;i++){var r=t[i],o=e[i];l(o)?hn(n,r,o):n.add(r,o)}return n}function cn(e,t){sn(e),t=fn(e,t),Wt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Wt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Bt(e)))}function ln(e,t){return sn(e),t=fn(e,t),Wt(e.a.b,t)}function hn(e,t,n){cn(e,t),0<n.length&&(e.c=null,e.a.set(fn(e,t),W(n)),e.b+=n.length)}function fn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=an.prototype).add=function(e,t){sn(this),this.c=null,e=fn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){sn(this),this.a.forEach(function(n,i){P(n,function(n){e.call(t,n,i,this)},this)},this)},e.U=function(){sn(this);for(var e=this.a.S(),t=this.a.U(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},e.S=function(e){sn(this);var t=[];if(o(e))ln(this,e)&&(t=B(t,this.a.get(fn(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=B(t,e[n])}return t},e.set=function(e,t){return sn(this),this.c=null,ln(this,e=fn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return 0<(e=e?this.S(e):[]).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.S(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.c=e.join("&")};var dn=!qe||9<=Number(Ze);function pn(){this.a="",this.b=gn}function vn(e){return e instanceof pn&&e.constructor===pn&&e.b===gn?e.a:(I("expected object of type Const, got '"+e+"'"),"type_error:Const")}pn.prototype.la=!0,pn.prototype.ja=function(){return this.a},pn.prototype.toString=function(){return"Const{"+this.a+"}"};var gn={};function mn(e){var t=new pn;return t.a=e,t}function yn(){this.a="",this.b=Cn}function bn(e){return e instanceof yn&&e.constructor===yn&&e.b===Cn?e.a:(I("expected object of type TrustedResourceUrl, got '"+e+"' of type "+u(e)),"type_error:TrustedResourceUrl")}function _n(e,t){var n=vn(e);if(!En.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=new yn;return t.a=e,t}(e=n.replace(wn,function(e,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[i])instanceof pn?vn(e):encodeURIComponent(String(e))}))}mn(""),yn.prototype.la=!0,yn.prototype.ja=function(){return this.a},yn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var wn=/%{(\w+)}/g,En=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Cn={};function Sn(){this.a="",this.b=Nn}function Tn(e){return e instanceof Sn&&e.constructor===Sn&&e.b===Nn?e.a:(I("expected object of type SafeUrl, got '"+e+"' of type "+u(e)),"type_error:SafeUrl")}Sn.prototype.la=!0,Sn.prototype.ja=function(){return this.a},Sn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var In=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function An(e){return e instanceof Sn?e:(e=e.la?e.ja():String(e),In.test(e)||(e="about:invalid#zClosurez"),kn(e))}var Nn={};function kn(e){var t=new Sn;return t.a=e,t}function Rn(){this.a="",this.b=xn}kn("about:blank"),Rn.prototype.la=!0,Rn.prototype.ja=function(){return this.a},Rn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xn={};function Dn(e){var t=new Rn;return t.a=e,t}function On(e){var t=document;return o(e)?t.getElementById(e):e}function Pn(e,t){re(t,function(t,n){t&&t.la&&(t=t.ja()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ln.hasOwnProperty(n)?e.setAttribute(Ln[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}Dn("<!DOCTYPE html>"),Dn(""),Dn("<br>");var Ln={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Mn(e,t,n){var i=arguments,r=document,a=String(i[0]),s=i[1];if(!dn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',q(s.name),'"'),s.type){a.push(' type="',q(s.type),'"');var u={};le(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=r.createElement(a),s&&(o(s)?a.className=s:l(s)?a.className=s.join(" "):Pn(a,s)),2<i.length&&function(e,t,n){function i(n){n&&t.appendChild(o(n)?e.createTextNode(n):n)}for(var r=2;r<n.length;r++){var a=n[r];!h(a)||d(a)&&0<a.nodeType?i(a):P(Fn(a)?W(a):a,i)}}(r,a,i),a}function Fn(e){if(e&&"number"==typeof e.length){if(d(e))return"function"==typeof e.item||"string"==typeof e.item;if(f(e))return"function"==typeof e.item}return!1}function Un(e){var t=[];return function e(t,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(l(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),e(t,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&("function"!=typeof(a=n[r])&&(i.push(o),Hn(r,i),i.push(":"),e(t,a,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":Hn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new jn,e,t),t.join("")}function jn(){}var Bn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Wn=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Hn(e,t){t.push('"',e.replace(Wn,function(e){var t=Bn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Bn[e]=t),t}),'"')}function Vn(){var e=si();return qe&&!!Ze&&11==Ze||/Edge\/\d+/.test(e)}function qn(){return r.window&&r.window.location.href||self&&self.location&&self.location.href||""}function Kn(e,t){t=t||r.window;var n="about:blank";e&&(n=Tn(An(e))),t.location.href=n}function Gn(e){return!!((e=(e||si()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function zn(e){e=e||r.window;try{e.close()}catch(e){}}function Yn(e,t,n){var i=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=si().toLowerCase(),i&&(t.target=i,Z(n,"crios/")&&(t.target="_blank")),ri(si())==ni&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),i=window,t=n instanceof Sn?n:An(void 0!==n.href?n.href:String(n)),n=e.target||n.target,r=[],e)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(e[a]?1:0))}var a=r.join(",");if((ie("iPhone")&&!ie("iPod")&&!ie("iPad")||ie("iPad")||ie("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(a=i.document.createElement("A"),t instanceof Sn||t instanceof Sn||(t=t.la?t.ja():String(t),In.test(t)||(t="about:invalid#zClosurez"),t=kn(t)),a.href=Tn(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=i.open("",n,a),e=Tn(t),a&&(Ge&&Z(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,mn("b/12014412, meta tag with sanitized URL"),e=Dn(e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+q(e)+'">'),a.document.write(function(e){return e instanceof Rn&&e.constructor===Rn&&e.b===xn?e.a:(I("expected object of type SafeHtml, got '"+e+"' of type "+u(e)),"type_error:SafeHtml")}(e)),a.document.close())):(a=i.open(Tn(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var Qn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function Xn(){var e=null;return new ge(function(t){"complete"==r.document.readyState?t():(e=function(){t()},wt(window,"load",e))}).m(function(t){throw Et(window,"load",e),t})}function $n(e){return e=e||si(),!("file:"!==fi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jn(){var e=r.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Zn(){return"object"!=typeof r.window&&"function"==typeof r.importScripts}function ei(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":Zn()?"Worker":"Browser"}function ti(){var e=ei();return"ReactNative"===e||"Node"===e}var ni="Firefox",ii="Chrome";function ri(e){var t=e.toLowerCase();return Z(t,"opera/")||Z(t,"opr/")||Z(t,"opios/")?"Opera":Z(t,"iemobile")?"IEMobile":Z(t,"msie")||Z(t,"trident/")?"IE":Z(t,"edge/")?"Edge":Z(t,"firefox/")?ni:Z(t,"silk/")?"Silk":Z(t,"blackberry")?"Blackberry":Z(t,"webos")?"Webos":!Z(t,"safari/")||Z(t,"chrome/")||Z(t,"crios/")||Z(t,"android")?!Z(t,"chrome/")&&!Z(t,"crios/")||Z(t,"edge/")?Z(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":ii:"Safari"}var oi={Qc:"FirebaseCore-web",Sc:"FirebaseUI-web"};function ai(e,t){t=t||[];var n,i=[],r={};for(n in oi)r[oi[n]]=!0;for(n=0;n<t.length;n++)void 0!==r[t[n]]&&(delete r[t[n]],i.push(t[n]));return i.sort(),(t=i).length||(t=["FirebaseCore-web"]),"Browser"===(i=ei())?i=ri(r=si()):"Worker"===i&&(i=ri(r=si())+"-"+i),i+"/JsCore/"+e+"/"+t.join(",")}function si(){return r.navigator&&r.navigator.userAgent||""}function ui(e,t){e=e.split("."),t=t||r;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function ci(){try{var e=r.localStorage,t=mi();if(e)return e.setItem(t,"1"),e.removeItem(t),!Vn()||!!r.indexedDB}catch(e){return Zn()&&!!r.indexedDB}return!1}function li(){return(hi()||"chrome-extension:"===fi()||$n())&&!ti()&&ci()&&!Zn()}function hi(){return"http:"===fi()||"https:"===fi()}function fi(){return r.location&&r.location.protocol||null}function di(e){return!Gn(e=e||si())&&ri(e)!=ni}function pi(e){return void 0===e?null:Un(e)}function vi(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function gi(e){if(null!==e)return JSON.parse(e)}function mi(e){return e||Math.floor(1e9*Math.random()).toString()}function yi(e){return"Safari"!=ri(e=e||si())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function bi(){var e=r.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function _i(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=si(),t=ei(),this.b=Gn(e)||"ReactNative"===t}function wi(){var e=r.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Ei(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Ci(){return!(!ui("fireauth.oauthhelper",r)&&!ui("fireauth.iframe",r))}_i.prototype.get=function(){var e=r.navigator;return!e||"boolean"!=typeof e.onLine||!hi()&&"chrome-extension:"!==fi()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Si,Ti={};try{var Ii={};Object.defineProperty(Ii,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ii,"abcd",{configurable:!0,enumerable:!0,value:2}),Si=2==Ii.abcd}catch(He){Si=!1}function Ai(e,t,n){Si?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Ni(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Ai(e,n,t[n])}function ki(e){var t={};return Ni(t,e),t}function Ri(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Ai(t,n,Ri(e[n]));return t}function xi(e){var t={},n=e[Oi],i=e[Pi];if(!(e=e[Li])||e!=Di&&!n)throw Error("Invalid provider user info!");t[Fi]=i||null,t[Mi]=n||null,Ai(this,ji,e),Ai(this,Ui,Ri(t))}var Di="EMAIL_SIGNIN",Oi="email",Pi="newEmail",Li="requestType",Mi="email",Fi="fromEmail",Ui="data",ji="operation";function Bi(e,t){this.code=Hi+e,this.message=t||Vi[e]||""}function Wi(e){var t=e&&e.code;return t?new Bi(t.substring(Hi.length),e.message):null}w(Bi,Error),Bi.prototype.C=function(){return{code:this.code,message:this.message}},Bi.prototype.toJSON=function(){return this.C()};var Hi="auth/",Vi={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function qi(e){var t=e[Yi];if(void 0===t)throw new Bi("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Bi("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ki];if(n&&"object"==typeof n){t=n[$i];var i=n[Qi];if(n=n[Xi],"string"==typeof t&&t.length){if(this.a=t,void 0!==i&&"boolean"!=typeof i)throw new Bi("argument-error",Qi+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Bi("argument-error",Xi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Bi("argument-error",$i+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new Bi("missing-android-pkg-name")}}else if(void 0!==n)throw new Bi("argument-error",Ki+" property must be a non null object when specified.");if(this.f=null,(t=e[zi])&&"object"==typeof t){if("string"==typeof(t=t[Ji])&&t.length)this.f=t;else if(void 0!==t)throw new Bi("argument-error",Ji+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Bi("argument-error",zi+" property must be a non null object when specified.");if(void 0!==(e=e[Gi])&&"boolean"!=typeof e)throw new Bi("argument-error",Gi+" property must be a boolean when specified.");this.c=!!e}var Ki="android",Gi="handleCodeInApp",zi="iOS",Yi="url",Qi="installApp",Xi="minimumVersion",$i="packageName",Ji="bundleId";function Zi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t)null===t[n]&&delete t[n];return t}var er=null,tr=null;function nr(e){var t="";return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=tr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!er){er={},tr={};for(var e=0;65>e;e++)er[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),tr[er[e]]=e,62<=e&&(tr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){t+=String.fromCharCode(e)}),t}function ir(e){this.c=e.sub,_(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function rr(e){return(e=or(e))&&e.sub&&e.iss&&e.aud&&e.exp?new ir(e):null}function or(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(nr(e))}catch(e){}return null}ir.prototype.f=function(){return this.b};var ar="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),sr=["client_id","response_type","scope","redirect_uri","state"],ur={Rc:{Ma:"locale",Aa:500,za:600,Na:"facebook.com",cb:sr},Tc:{Ma:null,Aa:500,za:620,Na:"github.com",cb:sr},Uc:{Ma:"hl",Aa:515,za:680,Na:"google.com",cb:sr},$c:{Ma:"lang",Aa:485,za:705,Na:"twitter.com",cb:ar}};function cr(e){for(var t in ur)if(ur[t].Na==e)return ur[t];return null}function lr(e){var t={};t["facebook.com"]=vr,t["google.com"]=mr,t["github.com"]=gr,t["twitter.com"]=yr;var n=e&&e[fr];try{if(n)return t[n]?new t[n](e):new pr(e);if(void 0!==e[hr])return new dr(e)}catch(e){}return null}var hr="idToken",fr="providerId";function dr(e){var t=e[fr];if(!t&&e[hr]){var n=rr(e[hr]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Ai(this,"providerId",t),Ai(this,"isNewUser",n)}function pr(e){dr.call(this,e),Ai(this,"profile",Ri((e=gi(e.rawUserInfo||"{}"))||{}))}function vr(e){if(pr.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function gr(e){if(pr.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ai(this,"username",this.profile&&this.profile.login||null)}function mr(e){if(pr.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function yr(e){if(pr.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ai(this,"username",e.screenName||null)}function br(e){this.a=Qt(e)}function _r(e){var t=Qt(e),n=Yt(t,"link"),i=Yt(Qt(n),"link");return t=Yt(t,"deep_link_id"),Yt(Qt(t),"link")||t||i||n||e}function wr(e,t){return e.then(function(e){if(e[ta]){var n=rr(e[ta]);if(!n||t!=n.c)throw new Bi("user-mismatch");return e}throw new Bi("user-mismatch")}).m(function(e){throw e&&e.code&&e.code==Hi+"user-not-found"?new Bi("user-mismatch"):e})}function Er(e,t,n){if(t.idToken||t.accessToken)t.idToken&&Ai(this,"idToken",t.idToken),t.accessToken&&Ai(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Bi("internal-error","failed to construct a credential");Ai(this,"accessToken",t.oauthToken),Ai(this,"secret",t.oauthTokenSecret)}Ai(this,"providerId",e),Ai(this,"signInMethod",n)}function Cr(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:un(t).toString(),requestUri:"http://localhost"}}function Sr(e,t){this.Ac=t||[],Ni(this,{providerId:e,isOAuthProvider:!0}),this.tb={},this.Za=(cr(e)||{}).Ma||null,this.Xa=null}function Tr(e){Sr.call(this,e,sr),this.a=[]}function Ir(){Tr.call(this,"facebook.com")}function Ar(e){if(!e)throw new Bi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new Ir).credential(null,t)}function Nr(){Tr.call(this,"github.com")}function kr(e){if(!e)throw new Bi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new Nr).credential(null,t)}function Rr(){Tr.call(this,"google.com"),this.ta("profile")}function xr(e,t){var n=e;return d(e)&&(n=e.idToken,t=e.accessToken),(new Rr).credential(n,t)}function Dr(){Sr.call(this,"twitter.com",ar)}function Or(e,t){var n=e;if(d(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Bi("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Er("twitter.com",n,"twitter.com")}function Pr(e,t,n){this.a=e,this.b=t,Ai(this,"providerId","password"),Ai(this,"signInMethod",n===Lr.EMAIL_LINK_SIGN_IN_METHOD?Lr.EMAIL_LINK_SIGN_IN_METHOD:Lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Lr(){Ni(this,{providerId:"password",isOAuthProvider:!1})}function Mr(e,t){if(!(t=Fr(t)))throw new Bi("argument-error","Invalid email link!");return new Pr(e,t,Lr.EMAIL_LINK_SIGN_IN_METHOD)}function Fr(e){var t=Yt((e=new br(e=_r(e))).a,"oobCode")||null;return"signIn"===(Yt(e.a,"mode")||null)&&t?t:null}function Ur(e){if(!(e.Ra&&e.Qa||e.Ea&&e.Z))throw new Bi("internal-error");this.a=e,Ai(this,"providerId","phone"),Ai(this,"signInMethod","phone")}function jr(e){return e.a.Ea&&e.a.Z?{temporaryProof:e.a.Ea,phoneNumber:e.a.Z}:{sessionInfo:e.a.Ra,code:e.a.Qa}}function Br(e){try{this.a=e||t.auth()}catch(e){throw new Bi("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ni(this,{providerId:"phone",isOAuthProvider:!1})}function Wr(e,t){if(!e)throw new Bi("missing-verification-id");if(!t)throw new Bi("missing-verification-code");return new Ur({Ra:e,Qa:t})}function Hr(e){if(e.temporaryProof&&e.phoneNumber)return new Ur({Ea:e.temporaryProof,Z:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,i=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return xr(e,n);case"facebook.com":return Ar(n);case"github.com":return kr(n);case"twitter.com":return Or(n,i);default:return new Tr(t).credential(e,n)}}catch(e){return null}}function Vr(e){if(!e.isOAuthProvider)throw new Bi("invalid-oauth-provider")}function qr(e,t,n,i,r){if(this.b=e,this.c=t||null,this.f=n||null,this.g=i||null,this.a=r||null,!this.f&&!this.a)throw new Bi("invalid-auth-event");if(this.f&&this.a)throw new Bi("invalid-auth-event");if(this.f&&!this.g)throw new Bi("invalid-auth-event")}function Kr(e){return(e=e||{}).type?new qr(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Wi(e.error)):null}function Gr(){this.b=null,this.a=[]}w(pr,dr),w(vr,pr),w(gr,pr),w(mr,pr),w(yr,pr),Er.prototype.xa=function(e){return ya(e,Cr(this))},Er.prototype.c=function(e,t){var n=Cr(this);return n.idToken=t,ba(e,n)},Er.prototype.f=function(e,t){return wr(_a(e,Cr(this)),t)},Er.prototype.C=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e},Sr.prototype.Ca=function(e){return this.tb=ae(e),this},w(Tr,Sr),Tr.prototype.ta=function(e){return F(this.a,e)||this.a.push(e),this},Tr.prototype.yb=function(){return W(this.a)},Tr.prototype.credential=function(e,t){if(!e&&!t)throw new Bi("argument-error","credential failed: must provide the ID token and/or the access token.");return new Er(this.providerId,{idToken:e||null,accessToken:t||null},this.providerId)},w(Ir,Tr),Ai(Ir,"PROVIDER_ID","facebook.com"),Ai(Ir,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(Nr,Tr),Ai(Nr,"PROVIDER_ID","github.com"),Ai(Nr,"GITHUB_SIGN_IN_METHOD","github.com"),w(Rr,Tr),Ai(Rr,"PROVIDER_ID","google.com"),Ai(Rr,"GOOGLE_SIGN_IN_METHOD","google.com"),w(Dr,Sr),Ai(Dr,"PROVIDER_ID","twitter.com"),Ai(Dr,"TWITTER_SIGN_IN_METHOD","twitter.com"),Pr.prototype.xa=function(e){return this.signInMethod==Lr.EMAIL_LINK_SIGN_IN_METHOD?Qa(e,Na,{email:this.a,oobCode:this.b}):Qa(e,Ka,{email:this.a,password:this.b})},Pr.prototype.c=function(e,t){return this.signInMethod==Lr.EMAIL_LINK_SIGN_IN_METHOD?Qa(e,ka,{idToken:t,email:this.a,oobCode:this.b}):Qa(e,ja,{idToken:t,email:this.a,password:this.b})},Pr.prototype.f=function(e,t){return wr(this.xa(e),t)},Pr.prototype.C=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Ni(Lr,{PROVIDER_ID:"password"}),Ni(Lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ni(Lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ur.prototype.xa=function(e){return e.Sa(jr(this))},Ur.prototype.c=function(e,t){var n=jr(this);return n.idToken=t,Qa(e,za,n)},Ur.prototype.f=function(e,t){var n=jr(this);return n.operation="REAUTH",wr(e=Qa(e,Ya,n),t)},Ur.prototype.C=function(){var e={providerId:"phone"};return this.a.Ra&&(e.verificationId=this.a.Ra),this.a.Qa&&(e.verificationCode=this.a.Qa),this.a.Ea&&(e.temporaryProof=this.a.Ea),this.a.Z&&(e.phoneNumber=this.a.Z),e},Br.prototype.Sa=function(e,t){var n=this.a.b;return Ce(t.verify()).then(function(i){if(!o(i))throw new Bi("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return Qa(e,Fa,t)}(n,{phoneNumber:e,recaptchaToken:i}).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new Bi("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Ni(Br,{PROVIDER_ID:"phone"}),Ni(Br,{PHONE_SIGN_IN_METHOD:"phone"}),qr.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.C()}};var zr=null;function Yr(e){var t="unauthorized-domain",n=void 0,i=Qt(e);e=i.b,"chrome-extension"==(i=i.c)?n=H("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==i||"https"==i?n=H("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Bi.call(this,t,n)}function Qr(e,t,n){Bi.call(this,e,n),(e=t||{}).ub&&Ai(this,"email",e.ub),e.Z&&Ai(this,"phoneNumber",e.Z),e.credential&&Ai(this,"credential",e.credential)}function Xr(e){if(e.code){var t=e.code||"";0==t.indexOf(Hi)&&(t=t.substring(Hi.length));var n={credential:Hr(e)};if(e.email)n.ub=e.email;else{if(!e.phoneNumber)return new Bi(t,e.message||void 0);n.Z=e.phoneNumber}return new Qr(t,n,e.message)}return null}Gr.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=ui("universalLinks.subscribe",r))&&e(null,this.b))},Gr.prototype.unsubscribe=function(e){j(this.a,function(t){return t==e})},w(Yr,Bi),w(Qr,Bi),Qr.prototype.C=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.C();return t&&le(e,t),e},Qr.prototype.toJSON=function(){return this.C()};var $r,Jr=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Zr(){}function eo(e){return e.c||(e.c=e.b())}function to(){}function no(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var i=t[n];try{return new ActiveXObject(i),e.f=i}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function io(){}function ro(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=y(this.bc,this),this.a.onerror=y(this.zb,this),this.a.onprogress=y(this.cc,this),this.a.ontimeout=y(this.fc,this)}function oo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ao(e,t,n){this.reset(e,t,n,void 0,void 0)}Zr.prototype.c=null,w(to,Zr),to.prototype.a=function(){var e=no(this);return e?new ActiveXObject(e):new XMLHttpRequest},to.prototype.b=function(){var e={};return no(this)&&(e[0]=!0,e[1]=!0),e},$r=new to,w(io,Zr),io.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ro;throw Error("Unsupported browser")},io.prototype.b=function(){return{}},(e=ro.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.bc=function(){this.status=200,this.responseText=this.a.responseText,oo(this,4)},e.zb=function(){this.status=500,this.responseText="",oo(this,4)},e.fc=function(){this.zb()},e.cc=function(){this.status=200,oo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ao.prototype.a=null;function so(e){this.f=e,this.b=this.c=this.a=null}function uo(e,t){this.name=e,this.value=t}ao.prototype.reset=function(e,t,n,i,r){"number"==typeof r||0,i||_(),delete this.a},uo.prototype.toString=function(){return this.name};var co=new uo("SEVERE",1e3),lo=new uo("WARNING",900),ho=new uo("CONFIG",700),fo=new uo("FINE",500);so.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(I("Root logger has no level set."),null)}(this).value)for(f(t)&&(t=t()),e=new ao(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var po={},vo=null;function go(e){var t;if(vo||(vo=new so(""),po[""]=vo,vo.c=ho),!(t=po[e])){t=new so(e);var n=e.lastIndexOf("."),i=e.substr(n+1);(n=go(e.substr(0,n))).b||(n.b={}),n.b[i]=t,t.a=n,po[e]=t}return t}function mo(e,t){e&&e.log(fo,t,void 0)}function yo(e){this.f=e}function bo(e){xt.call(this),this.j=e,this.readyState=_o,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=go("goog.net.FetchXmlHttp")}w(yo,Zr),yo.prototype.a=function(){return new bo(this.f)},yo.prototype.b=function(e){return function(){return e}}({}),w(bo,xt);var _o=0;function wo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Eo(e){xt.call(this),this.headers=new jt,this.D=e||null,this.c=!1,this.B=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.j=this.G=!1,this.g=0,this.s=null,this.o=Co,this.v=this.O=!1}(e=bo.prototype).open=function(e,t){if(this.readyState!=_o)throw this.abort(),Error("Error reopening a connection");this.h=e,this.c=t,this.readyState=1,wo(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.g,method:this.h,credentials:void 0,cache:void 0};e&&(t.body=e),this.j.fetch(new Request(this.c,t)).then(this.ec.bind(this),this.Ab.bind(this))},e.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,wo(this)),this.readyState=_o},e.ec=function(e){this.a&&(this.b||(this.b=e.headers,this.readyState=2,wo(this)),this.a&&(this.readyState=3,wo(this),this.a&&e.text().then(this.dc.bind(this,e),this.Ab.bind(this))))},e.dc=function(e,t){this.a&&(this.status=e.status,this.statusText=e.statusText,this.responseText=t,this.readyState=4,wo(this))},e.Ab=function(e){var t=this.f;t&&t.log(lo,"Failed to fetch url "+this.c,e instanceof Error?e:Error(e)),this.a&&(this.readyState=4,wo(this))},e.setRequestHeader=function(e,t){this.g.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.f)&&e.log(lo,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.f;return e&&e.log(lo,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},w(Eo,xt);var Co="";Eo.prototype.b=go("goog.net.XhrIo");var So=/^https?$/i,To=["POST","PUT"];function Io(e,t,n,i,a){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.N=n,e.G=!1,e.c=!0,e.a=e.D?e.D.a():$r.a(),e.B=e.D?eo(e.D):eo($r),e.a.onreadystatechange=y(e.Db,e);try{mo(e.b,Lo(e,"Opening Xhr")),e.I=!0,e.a.open(n,String(t),!0),e.I=!1}catch(t){return mo(e.b,Lo(e,"Error opening Xhr: "+t.message)),void No(e,t)}t=i||"";var s=new jt(e.headers);a&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||o(e))P(e,t,void 0);else for(var n=Ut(e),i=Ft(e),r=i.length,a=0;a<r;a++)t.call(void 0,i[a],n&&n[a],e)}(a,function(e,t){s.set(t,e)}),a=function(e){e:{for(var t=Ao,n=e.length,i=o(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:o(e)?e.charAt(t):e[t]}(s.U()),i=r.FormData&&t instanceof r.FormData,!F(To,n)||a||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.o&&(e.a.responseType=e.o),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{Do(e),0<e.g&&(e.v=function(e){return qe&&tt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),mo(e.b,Lo(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=y(e.Fa,e)):e.s=Lt(e.Fa,e.g,e)),mo(e.b,Lo(e,"Sending request")),e.j=!0,e.a.send(t),e.j=!1}catch(t){mo(e.b,Lo(e,"Send error: "+t.message)),No(e,t)}}function Ao(e){return"content-type"==e.toLowerCase()}function No(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ko(e),xo(e)}function ko(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ro(e){if(e.c&&void 0!==i)if(e.B[1]&&4==Oo(e)&&2==Po(e))mo(e.b,Lo(e,"Local request error detected and ignored"));else if(e.j&&4==Oo(e))Lt(e.Db,0,e);else if(e.dispatchEvent("readystatechange"),4==Oo(e)){mo(e.b,Lo(e,"Request complete")),e.c=!1;try{var t,n=Po(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(t=o)){var a;if(a=0===n){var s=String(e.l).match(Ht)[1]||null;if(!s&&r.self&&r.self.location){var u=r.self.location.protocol;s=u.substr(0,u.length-1)}a=!So.test(s?s.toLowerCase():"")}t=a}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Oo(e)?e.a.statusText:""}catch(t){mo(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Po(e)+"]",ko(e)}}finally{xo(e)}}}function xo(e,t){if(e.a){Do(e);var n=e.a,i=e.B[0]?s:null;e.a=null,e.B=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(t){(e=e.b)&&e.log(co,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Do(e){e.a&&e.v&&(e.a.ontimeout=null),e.s&&(r.clearTimeout(e.s),e.s=null)}function Oo(e){return e.a?e.a.readyState:0}function Po(e){try{return 2<Oo(e)?e.a.status:-1}catch(e){return-1}}function Lo(e,t){return t+" ["+e.N+" "+e.l+" "+Po(e)+"]"}function Mo(e,t){this.g=[],this.v=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.j=!1,this.h=0,this.b=null,this.l=0}function Fo(e,t,n){e.a=!0,e.c=n,e.f=!t,Wo(e)}function Uo(e){if(e.a){if(!e.u)throw new Ho(e);e.u=!1}}function jo(e,t,n,i){e.g.push([t,n,i]),e.a&&Wo(e)}function Bo(e){return M(e.g,function(e){return f(e[1])})}function Wo(e){if(e.h&&e.a&&Bo(e)){var t=e.h,n=Ko[t];n&&(r.clearTimeout(n.a),delete Ko[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var i=n=!1;e.g.length&&!e.j;){var o=e.g.shift(),a=o[0],s=o[1];if(o=o[2],a=e.f?s:a)try{var u=a.call(o||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(C(t)||"function"==typeof r.Promise&&t instanceof r.Promise)&&(i=!0,e.j=!0)}catch(i){t=i,e.f=!0,Bo(e)||(n=!0)}}e.c=t,i&&(u=y(e.o,e,!0),i=y(e.o,e,!1),t instanceof Mo?(jo(t,u,i),t.B=!0):t.then(u,i)),n&&(t=new qo(t),Ko[t.a]=t,e.h=t.a)}function Ho(){S.call(this)}function Vo(){S.call(this)}function qo(e){this.a=r.setTimeout(y(this.c,this),0),this.b=e}(e=Eo.prototype).Fa=function(){void 0!==i&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",mo(this.b,Lo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(mo(this.b,Lo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xo(this))},e.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xo(this,!0)),Eo.lb.ua.call(this)},e.Db=function(){this.pa||(this.I||this.j||this.f?Ro(this):this.tc())},e.tc=function(){Ro(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Co:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(co,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return mo(this.b,"Can not get response: "+e.message),null}},Mo.prototype.cancel=function(e){if(this.a)this.c instanceof Mo&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.s,this):this.u=!0,this.a||(e=new Vo(this),Uo(this),Fo(this,!1,e))}},Mo.prototype.o=function(e,t){this.j=!1,Fo(this,e,t)},Mo.prototype.D=function(){Uo(this),Fo(this,!0,null)},Mo.prototype.then=function(e,t,n){var i,r,o=new ge(function(e,t){i=e,r=t});return jo(this,i,function(e){e instanceof Vo?o.cancel():r(e)}),o.then(e,t,n)},E(Mo),w(Ho,S),Ho.prototype.message="Deferred has already fired",Ho.prototype.name="AlreadyCalledError",w(Vo,S),Vo.prototype.message="Deferred was canceled",Vo.prototype.name="CanceledError",qo.prototype.c=function(){throw delete Ko[this.a],this.b};var Ko={};function Go(e){var t={},n=t.document||document,i=bn(e),r=document.createElement("SCRIPT"),o={Fb:r,Fa:void 0},a=new Mo(zo,o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Yo(r,!0);var e=new $o(Xo,"Timeout reached for loading script "+i);Uo(a),Fo(a,!1,e)},u),o.Fa=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Yo(r,t.bd||!1,s),a.D())},r.onerror=function(){Yo(r,!0,s);var e=new $o(Qo,"Error while loading script "+i);Uo(a),Fo(a,!1,e)},le(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Pn(r,o),r.src=bn(e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),a}function zo(){if(this&&this.Fb){var e=this.Fb;e&&"SCRIPT"==e.tagName&&Yo(e,!0,this.Fa)}}function Yo(e,t,n){null!=n&&r.clearTimeout(n),e.onload=s,e.onerror=s,e.onreadystatechange=s,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Qo=0,Xo=1;function $o(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),S.call(this,n),this.code=e}function Jo(e){this.f=e}function Zo(e,n,i){if(this.b=e,e=n||{},this.j=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=e.secureTokenTimeout||na,this.f=ae(e.secureTokenHeaders||ia),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||ra,this.a=ae(e.firebaseHeaders||oa),i&&(this.a["X-Client-Version"]=i,this.f["X-Client-Version"]=i),i="Node"==ei(),!(i=r.XMLHttpRequest||i&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!Zn())throw new Bi("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Zn()?this.c=new yo(self):ti()?this.c=new Jo(i):this.c=new io}w($o,S),w(Jo,Zr),Jo.prototype.a=function(){return new this.f},Jo.prototype.b=function(){return{}};var ea,ta="idToken",na=new _i(3e4,6e4),ia={"Content-Type":"application/x-www-form-urlencoded"},ra=new _i(3e4,6e4),oa={"Content-Type":"application/json"};function aa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function sa(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function ua(e,t,n,i,o,a,s){(function(){var e=si();return!((e=ri(e)!=ii?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||qe&&Ze&&!(9<Ze))})()||Zn()?e=y(e.o,e):(ea||(ea=new ge(function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{r[la]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=_n(ca,{onload:la});!function(e,t){jo(e,null,t,void 0)}(Go(n),function(){t(Error("CORS_UNSUPPORTED"))})}}(e,t)})),e=y(e.u,e)),e(t,n,i,o,a,s)}Zo.prototype.o=function(e,t,n,i,o,a){if(Zn()&&(void 0===r.fetch||void 0===r.Headers||void 0===r.Request))throw new Bi("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Eo(this.c);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}Dt(s,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return mo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)}),Ot(s,"ready",function(){u&&clearTimeout(u),je(this)}),Ot(s,"timeout",function(){u&&clearTimeout(u),je(this),t&&t(null)}),Io(s,e,n,i,o)};var ca=mn("https://apis.google.com/js/client.js?onload=%{onload}"),la="__fcb"+Math.floor(1e6*Math.random()).toString();function ha(e){if(!Jr.test(e.email))throw new Bi("invalid-email")}function fa(e){"email"in e&&ha(e)}function da(e){if(!e[ta])throw new Bi("internal-error")}function pa(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Bi("internal-error")}else{if(!e.sessionInfo)throw new Bi("missing-verification-id");if(!e.code)throw new Bi("missing-verification-code")}}Zo.prototype.u=function(e,t,n,i,r){var o=this;ea.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:i,headers:r,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).m(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Zo.prototype.jb=function(){return Qa(this,Ba,{})},Zo.prototype.mb=function(e,t){return Qa(this,Ua,{idToken:e,email:t})},Zo.prototype.nb=function(e,t){return Qa(this,ja,{idToken:e,password:t})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ga(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Bi("internal-error")}function ma(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xr(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xr(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xr(e)):e.errorMessage&&(t=Xa(e.errorMessage)),t)throw t;if(!e[ta])throw new Bi("internal-error")}function ya(e,t){return t.returnIdpCredential=!0,Qa(e,Wa,t)}function ba(e,t){return t.returnIdpCredential=!0,Qa(e,Va,t)}function _a(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Qa(e,Ha,t)}function wa(e){if(!e.oobCode)throw new Bi("invalid-action-code")}(e=Zo.prototype).ob=function(e,t){var n={idToken:e},i=[];return re(va,function(e,r){var o=t[r];null===o?i.push(e):r in t&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Qa(this,Ua,n)},e.gb=function(e,t){return le(e={requestType:"PASSWORD_RESET",email:e},t),Qa(this,Oa,e)},e.hb=function(e,t){return le(e={requestType:"EMAIL_SIGNIN",email:e},t),Qa(this,xa,e)},e.fb=function(e,t){return le(e={requestType:"VERIFY_EMAIL",idToken:e},t),Qa(this,Da,e)},e.Sa=function(e){return Qa(this,Ga,e)},e.Wa=function(e,t){return Qa(this,Ma,{oobCode:e,newPassword:t})},e.Ia=function(e){return Qa(this,Ca,{oobCode:e})},e.Ua=function(e){return Qa(this,Ea,{oobCode:e})};var Ea={endpoint:"setAccountInfo",A:wa,ba:"email"},Ca={endpoint:"resetPassword",A:wa,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Bi("internal-error")}},Sa={endpoint:"signupNewUser",A:function(e){if(ha(e),!e.password)throw new Bi("weak-password")},J:da,R:!0},Ta={endpoint:"createAuthUri"},Ia={endpoint:"deleteAccount",T:["idToken"]},Aa={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],A:function(e){if(!l(e.deleteProvider))throw new Bi("internal-error")}},Na={endpoint:"emailLinkSignin",T:["email","oobCode"],A:ha,J:da,R:!0},ka={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],A:ha,J:da,R:!0},Ra={endpoint:"getAccountInfo"},xa={endpoint:"getOobConfirmationCode",T:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Bi("internal-error");ha(e)},ba:"email"},Da={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Bi("internal-error")},ba:"email"},Oa={endpoint:"getOobConfirmationCode",T:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Bi("internal-error");ha(e)},ba:"email"},Pa={pb:!0,endpoint:"getProjectConfig",Cb:"GET"},La={pb:!0,endpoint:"getRecaptchaParam",Cb:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new Bi("internal-error")}},Ma={endpoint:"resetPassword",A:wa,ba:"email"},Fa={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],ba:"sessionInfo"},Ua={endpoint:"setAccountInfo",T:["idToken"],A:fa,R:!0},ja={endpoint:"setAccountInfo",T:["idToken"],A:function(e){if(fa(e),!e.password)throw new Bi("weak-password")},J:da,R:!0},Ba={endpoint:"signupNewUser",J:da,R:!0},Wa={endpoint:"verifyAssertion",A:ga,J:ma,R:!0},Ha={endpoint:"verifyAssertion",A:ga,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Bi("user-not-found");if(e.errorMessage)throw Xa(e.errorMessage);if(!e[ta])throw new Bi("internal-error")},R:!0},Va={endpoint:"verifyAssertion",A:function(e){if(ga(e),!e.idToken)throw new Bi("internal-error")},J:ma,R:!0},qa={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new Bi("invalid-custom-token")},J:da,R:!0},Ka={endpoint:"verifyPassword",A:function(e){if(ha(e),!e.password)throw new Bi("wrong-password")},J:da,R:!0},Ga={endpoint:"verifyPhoneNumber",A:pa,J:da},za={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new Bi("internal-error");pa(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xr(e);da(e)}},Ya={Tb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pa,J:da};function Qa(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var i=e[t[n]];if(null==i||""===i)return!1}return!0}(n,t.T))return Se(new Bi("internal-error"));var i,r=t.Cb||"POST";return Ce(n).then(t.A).then(function(){return t.R&&(n.returnSecureToken=!0),function(e,t,n,i,r,o){var a=Qt(e.g+t);zt(a,"key",e.b),o&&zt(a,"cb",_().toString());var s="GET"==n;if(s)for(var u in i)i.hasOwnProperty(u)&&zt(a,u,i[u]);return new ge(function(t,o){ua(e,a.toString(),function(e){e?e.error?o($a(e,r||{})):t(e):o(new Bi("network-request-failed"))},n,s?void 0:Un(vi(i)),e.a,e.h.get())})}(e,t.endpoint,r,n,t.Tb,t.pb||!1)}).then(function(e){return i=e}).then(t.J).then(function(){if(!t.ba)return i;if(!(t.ba in i))throw new Bi("internal-error");return i[t.ba]})}function Xa(e){return $a({error:{errors:[{message:e}],code:400,message:e}})}function $a(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Bi(i[n]):null)return n;for(var r in n=e.error&&e.error.message||"",le(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,i)if(0===n.indexOf(r))return new Bi(i[r],t);return!t&&e&&(t=pi(e)),new Bi("internal-error",t)}var Ja,Za={Wc:{Ya:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://securetoken.googleapis.com/v1/token",id:"p"},Yc:{Ya:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Zc:{Ya:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",eb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function es(e){for(var t in Za)if(Za[t].id===e)return{firebaseEndpoint:(e=Za[t]).Ya,secureTokenEndpoint:e.eb};return null}function ts(e){this.b=e,this.a=null,this.ab=function(e){return(as||(as=new ge(function(e,t){function n(){bi(),ui("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){bi(),t(Error("Network Error"))},timeout:rs.get()})}if(ui("gapi.iframes.Iframe"))e();else if(ui("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();r[i]=function(){ui("gapi.load")?n():t(Error("Network Error"))},Ce(Go(i=_n(is,{onload:i}))).m(function(){t(Error("Network Error"))})}}).m(function(e){throw as=null,e}))).then(function(){return new ge(function(t,n){ui("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:ui("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),t()}e.a=i,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},os.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}(this)}Ja=es("__EID__")?"__EID__":void 0;var ns,is=mn("https://apis.google.com/js/api.js?onload=%{onload}"),rs=new _i(3e4,6e4),os=new _i(5e3,15e3),as=null;function ss(e,t,n){this.j=e,this.g=t,this.h=n,this.f=null,this.a=Xt(this.j,"/__/auth/iframe"),zt(this.a,"apiKey",this.g),zt(this.a,"appName",this.h),this.b=null,this.c=[]}function us(e,t,n,i,r){this.o=e,this.u=t,this.c=n,this.l=i,this.h=this.g=this.j=null,this.a=r,this.f=null}function cs(e){try{return t.app(e).auth().Ka()}catch(e){return[]}}function ls(e,t,n,i,r){this.u=e,this.f=t,this.b=n,this.c=i||null,this.h=r||null,this.o=this.s=this.v=null,this.g=[],this.l=this.a=null}function hs(e){var t=qn();return function(e){return Qa(e,Pa,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=Qt(t),i=n.c;n=n.b;for(var r=0;r<e.length;r++){var o=e[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=Qt(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Qn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Yr(qn())})}function fs(e){return e.l?e.l:(e.l=Xn().then(function(){if(!e.s){var t=e.c,n=e.h,i=cs(e.b),r=new ss(e.u,e.f,e.b);r.f=t,r.b=n,r.c=W(i||[]),e.s=r.toString()}e.j=new ts(e.s),function(e){if(!e.j)throw Error("IfcHandler must be initialized!");!function(e,t){e.ab.then(function(){e.a.register("authEvent",t,ui("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.j,function(t){var n={};if(t&&t.authEvent){var i=!1;for(t=Kr(t.authEvent),n=0;n<e.g.length;n++)i=e.g[n](t)||i;return(n={}).status=i?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)})}(e)}),e.l)}function ds(e){return e.o||(e.v=e.c?ai(e.c,cs(e.b)):null,e.o=new Zo(e.f,es(e.h),e.v)),e.o}function ps(e,t,n,i,r,o,a,s,u,c){return(e=new us(e,t,n,i,r)).j=o,e.g=a,e.h=s,e.b=ae(u||null),e.f=c,e.toString()}function vs(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Bi("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function gs(){if(!bs())throw new Bi("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=r.indexedDB,this.type="indexedDB"}function ms(e){return new ge(function(t,n){var i=e.g.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(i):function(e){return new ge(function(t,n){var i=e.g.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){t()},i.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return ms(e)}).then(function(e){t(e)}).m(function(e){n(e)})}})}function ys(e){return e.h||(e.h=ms(e)),e.h}function bs(){try{return!!r.indexedDB}catch(e){return!1}}function _s(e){return e.objectStore("firebaseLocalStorage")}function ws(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Es(e){return new ge(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})}function Cs(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ce().then(function(){return bs()?(ns||(ns=new gs),(n=ns).set("__sak","!").then(function(){return n.get("__sak")}).then(function(e){if("!"!==e)throw Error("indexedDB not supported!");return n.P("__sak")}).then(function(){return n}).m(function(){return t.c})):t.c}).then(function(e){return t.type=e.type,e.Y(function(e){P(t.a,function(t){t(e)})}),e})}function Ss(){this.a={},this.type="inMemory"}function Ts(){if(!function(){var e="Node"==ei();if(!(e=Is()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ei())throw new Bi("internal-error","The LocalStorage compatibility library was not found.");throw new Bi("web-storage-unsupported")}this.a=Is()||t.INTERNAL.node.localStorage,this.type="localStorage"}function Is(){try{var e=r.localStorage,t=mi();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function As(){this.type="nullStorage"}function Ns(){if(!function(){var e="Node"==ei();if(!(e=ks()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ei())throw new Bi("internal-error","The SessionStorage compatibility library was not found.");throw new Bi("web-storage-unsupported")}this.a=ks()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ks(){try{var e=r.sessionStorage,t=mi();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Rs(){var e={};e.Browser=Os,e.Node=Ps,e.ReactNative=Ls,e.Worker=Ms,this.a=e[ei()]}ss.prototype.toString=function(){return this.f?zt(this.a,"v",this.f):cn(this.a.a,"v"),this.b?zt(this.a,"eid",this.b):cn(this.a.a,"eid"),this.c.length?zt(this.a,"fw",this.c.join(",")):cn(this.a.a,"fw"),this.a.toString()},us.prototype.toString=function(){var e=Xt(this.o,"/__/auth/handler");if(zt(e,"apiKey",this.u),zt(e,"appName",this.c),zt(e,"authType",this.l),this.a.isOAuthProvider){var n=this.a;try{var i=t.app(this.c).auth().ca()}catch(e){i=null}for(var r in n.Xa=i,zt(e,"providerId",this.a.providerId),i=vi((n=this.a).tb))i[r]=i[r].toString();r=n.Ac,i=ae(i);for(var o=0;o<r.length;o++){var a=r[o];a in i&&delete i[a]}n.Za&&n.Xa&&!i[n.Za]&&(i[n.Za]=n.Xa),oe(i)||zt(e,"customParameters",pi(i))}if("function"==typeof this.a.yb&&((n=this.a.yb()).length&&zt(e,"scopes",n.join(","))),this.j?zt(e,"redirectUrl",this.j):cn(e.a,"redirectUrl"),this.g?zt(e,"eventId",this.g):cn(e.a,"eventId"),this.h?zt(e,"v",this.h):cn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Yt(e,s)&&zt(e,s,this.b[s]);return this.f?zt(e,"eid",this.f):cn(e.a,"eid"),(s=cs(this.c)).length&&zt(e,"fw",s.join(",")),e.toString()},(e=ls.prototype).Da=function(e,t,n){var i=new Bi("popup-closed-by-user"),r=new Bi("web-storage-unsupported"),o=this,a=!1;return this.ea().then(function(){(function(e){var t={type:"webStorageSupport"};return fs(e).then(function(){return function(e,t){return e.ab.then(function(){return new ge(function(n){e.a.send(t.type,t,n,ui("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.j,t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&zn(e),t(r),a=!0)})}).m(function(){}).then(function(){if(!a)return function(e){return new ge(function(t){return function n(){Mt(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!a)return Mt(n).then(function(){t(i)})})},e.Gb=function(){var e=si();return!di(e)&&!yi(e)},e.Bb=function(){return!1},e.xb=function(e,t,n,i,r,o,a){if(!e)return Se(new Bi("popup-blocked"));if(a&&!di())return this.ea().m(function(t){zn(e),r(t)}),i(),Ce();this.a||(this.a=hs(ds(this)));var s=this;return this.a.then(function(){var t=s.ea().m(function(t){throw zn(e),r(t),t});return i(),t}).then(function(){(Vr(n),a)||Kn(ps(s.u,s.f,s.b,t,n,null,o,s.c,void 0,s.h),e)}).m(function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e})},e.Ba=function(e,t,n){this.a||(this.a=hs(ds(this)));var i=this;return this.a.then(function(){Vr(t),Kn(ps(i.u,i.f,i.b,e,t,qn(),n,i.c,void 0,i.h))}).m(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},e.ea=function(){var e=this;return fs(this).then(function(){return e.j.ab}).m(function(){throw e.a=null,new Bi("network-request-failed")})},e.Lb=function(){return!0},e.va=function(e){this.g.push(e)},e.Ja=function(e){j(this.g,function(t){return t==e})},(e=vs.prototype).get=function(e){return Ce(this.a.getItem(e)).then(function(e){return e&&gi(e)})},e.set=function(e,t){return Ce(this.a.setItem(e,pi(t)))},e.P=function(e){return Ce(this.a.removeItem(e))},e.Y=function(){},e.aa=function(){},(e=gs.prototype).set=function(e,t){var n,i=!1,r=this;return ys(this).then(function(t){return Es((t=_s(ws(n=t,!0))).get(e))}).then(function(o){var a=_s(ws(n,!0));return o?(o.value=t,Es(a.put(o))):(r.b++,i=!0,(o={}).fbase_key=e,o.value=t,Es(a.add(o)))}).then(function(){r.f[e]=t}).ha(function(){i&&r.b--})},e.get=function(e){return ys(this).then(function(t){return Es(_s(ws(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.P=function(e){var t=!1,n=this;return ys(this).then(function(i){return t=!0,n.b++,Es(_s(ws(i,!0)).delete(e))}).then(function(){delete n.f[e]}).ha(function(){t&&n.b--})},e.Jc=function(){var e=this;return ys(this).then(function(e){var t=_s(ws(e,!1));return t.getAll?Es(t.getAll()):new ge(function(e,n){var i=[],r=t.openCursor();r.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t.continue()):e(i)},r.onerror=function(e){n(Error(e.target.errorCode))}})}).then(function(t){var n={},i=[];if(0==e.b){for(i=0;i<t.length;i++)n[t[i].fbase_key]=t[i].value;i=function e(t,n){var i,r=[];for(i in t)if(i in n)if(typeof t[i]!=typeof n[i])r.push(i);else if(l(t[i])){e:{var o=void 0,a=t[i],s=n[i];for(o in a)if(!(o in s)||a[o]!==s[o]){o=!1;break e}for(o in s)if(!(o in a)){o=!1;break e}o=!0}o||r.push(i)}else"object"==typeof t[i]&&null!=t[i]&&null!=n[i]?0<e(t[i],n[i]).length&&r.push(i):t[i]!==n[i]&&r.push(i);else r.push(i);for(i in n)i in t||r.push(i);return r}(e.f,n),e.f=n}return i})},e.Y=function(e){0==this.a.length&&function(e){e.c&&e.c.cancel("STOP_EVENT"),function t(){e.c=Mt(800).then(y(e.Jc,e)).then(function(t){0<t.length&&P(e.a,function(e){e(t)})}).then(t).m(function(e){"STOP_EVENT"!=e.message&&t()});return e.c}()}(this),this.a.push(e)},e.aa=function(e){j(this.a,function(t){return t==e}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},(e=Cs.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.P=function(e){return this.b.then(function(t){return t.P(e)})},e.Y=function(e){this.a.push(e)},e.aa=function(e){j(this.a,function(t){return t==e})},(e=Ss.prototype).get=function(e){return Ce(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ce()},e.P=function(e){return delete this.a[e],Ce()},e.Y=function(){},e.aa=function(){},(e=Ts.prototype).get=function(e){var t=this;return Ce().then(function(){return gi(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Ce().then(function(){var i=pi(t);null===i?n.P(e):n.a.setItem(e,i)})},e.P=function(e){var t=this;return Ce().then(function(){t.a.removeItem(e)})},e.Y=function(e){r.window&&bt(r.window,"storage",e)},e.aa=function(e){r.window&&Et(r.window,"storage",e)},(e=As.prototype).get=function(){return Ce(null)},e.set=function(){return Ce()},e.P=function(){return Ce()},e.Y=function(){},e.aa=function(){},(e=Ns.prototype).get=function(e){var t=this;return Ce().then(function(){return gi(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Ce().then(function(){var i=pi(t);null===i?n.P(e):n.a.setItem(e,i)})},e.P=function(e){var t=this;return Ce().then(function(){t.a.removeItem(e)})},e.Y=function(){},e.aa=function(){};var xs,Ds,Os={w:Ts,Pa:Ns},Ps={w:Ts,Pa:Ns},Ls={w:vs,Pa:As},Ms={w:Ts,Pa:As},Fs={Vc:"local",NONE:"none",Xc:"session"};function Us(){var e=!(yi(si())||!Jn()),t=di(),n=ci();this.o=e,this.h=t,this.l=n,this.a={},xs||(xs=new Rs),e=xs;try{this.g=!Vn()&&Ci()||!r.indexedDB?new e.a.w:new Cs(Zn()?new Ss:new e.a.w)}catch(e){this.g=new Ss,this.h=!0}try{this.j=new e.a.Pa}catch(e){this.j=new Ss}this.u=new Ss,this.f=y(this.Kb,this),this.b={}}function js(){return Ds||(Ds=new Us),Ds}function Bs(e,t){switch(t){case"session":return e.j;case"none":return e.u;default:return e.g}}function Ws(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Hs(e,t,n){return n=Ws(t,n),"local"==t.w&&(e.b[n]=null),Bs(e,t.w).P(n)}function Vs(e){e.c&&(clearInterval(e.c),e.c=null)}function qs(e){this.a=e,this.b=js()}(e=Us.prototype).get=function(e,t){return Bs(this,e.w).get(Ws(e,t))},e.set=function(e,t,n){var i=Ws(e,n),r=this,o=Bs(this,e.w);return o.set(i,t).then(function(){return o.get(i)}).then(function(t){"local"==e.w&&(r.b[i]=t)})},e.addListener=function(e,t,n){e=Ws(e,t),this.l&&(this.b[e]=r.localStorage.getItem(e)),oe(this.a)&&(Bs(this,"local").Y(this.f),this.h||(Vn()||!Ci())&&r.indexedDB||!this.l||function(e){Vs(e),e.c=setInterval(function(){for(var t in e.a){var n=r.localStorage.getItem(t),i=e.b[t];n!=i&&(e.b[t]=n,n=new ut({type:"storage",key:t,target:window,oldValue:i,newValue:n,a:!0}),e.Kb(n))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Ws(e,t),this.a[e]&&(j(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),oe(this.a)&&(Bs(this,"local").aa(this.f),Vs(this))},e.Kb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var o=r.localStorage.getItem(n);o!==i&&(this.b[n]=o,this.Va(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Bs(this,"local").aa(this.f):Vs(this),this.o)if(n=r.localStorage.getItem(t),(i=e.a.newValue)!==n)null!==i?r.localStorage.setItem(t,i):r.localStorage.removeItem(t);else if(this.b[t]===i&&void 0===e.a.a)return;var a=this;n=function(){void 0===e.a.a&&a.b[t]===r.localStorage.getItem(t)||(a.b[t]=r.localStorage.getItem(t),a.Va(t))},qe&&Ze&&10==Ze&&r.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else P(e,y(this.Va,this))},e.Va=function(e){this.a[e]&&P(this.a[e],function(e){e()})};var Ks,Gs={name:"authEvent",w:"local"};function zs(){this.a=js()}function Ys(e,t){this.b=-1,this.b=Qs,this.f=r.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.j=e,this.h=t,this.l=r.Int32Array?new Int32Array(64):Array(64),void 0!==Ks||(Ks=r.Int32Array?new Int32Array(nu):nu),this.reset()}w(Ys,function(){this.b=-1});for(var Qs=64,Xs=Qs-1,$s=[],Js=0;Js<Xs;Js++)$s[Js]=0;var Zs=B(128,$s);function eu(e){for(var t=e.f,n=e.l,i=0,r=0;r<t.length;)n[i++]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r=4*i;for(t=16;64>t;t++){r=0|n[t-15],i=0|n[t-2];var o=(0|n[t-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[t-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[t]=o+a|0}i=0|e.a[0],r=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Ks[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}e.a[0]=e.a[0]+i|0,e.a[1]=e.a[1]+r|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function tu(e,t,n){void 0===n&&(n=t.length);var i=0,r=e.c;if(o(t))for(;i<n;)e.f[r++]=t.charCodeAt(i++),r==e.b&&(eu(e),r=0);else{if(!h(t))throw Error("message must be string or array");for(;i<n;){var a=t[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[r++]=a,r==e.b&&(eu(e),r=0)}}e.c=r,e.g+=n}Ys.prototype.reset=function(){this.g=this.c=0,this.a=r.Int32Array?new Int32Array(this.h):W(this.h)};var nu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function iu(){Ys.call(this,8,ru)}w(iu,Ys);var ru=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ou(e,t,n,i,r){this.u=e,this.j=t,this.l=n,this.o=i||null,this.s=r||null,this.h=t+":"+n,this.v=new zs,this.g=new qs(this.h),this.f=null,this.b=[],this.a=this.c=null}function au(e){return new Bi("invalid-cordova-configuration",e)}function su(e){var t=new iu;tu(t,e),e=[];var n=8*t.g;56>t.c?tu(t,Zs,56-t.c):tu(t,Zs,t.b-(t.c-56));for(var i=63;56<=i;i--)t.f[i]=255&n,n/=256;for(eu(t),i=n=0;i<t.j;i++)for(var r=24;0<=r;r-=8)e[n++]=t.a[i]>>r&255;return function(e){return L(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}function uu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function cu(e){return e.f||(e.f=e.ea().then(function(){return new ge(function(t){e.va(function n(i){return t(i),e.Ja(n),!1}),function(e){function t(t){i=!0,o&&o.cancel(),lu(e).then(function(i){var r=n;if(i&&t&&t.url){var o=null;-1!=(r=_r(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=gi(Yt(o=Qt(r),"firebaseError")||null))?Wi(o):null)?new qr(i.b,i.c,null,null,o):new qr(i.b,i.c,r,i.g)),r=o||n}uu(e,r)})}var n=new qr("unknown",null,null,null,new Bi("no-auth-event")),i=!1,o=Mt(500).then(function(){return lu(e).then(function(){i||uu(e,n)})}),a=r.handleOpenURL;r.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(ui("BuildInfo.packageName",r).toLowerCase()+"://")&&t({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}},zr||(zr=new Gr),zr.subscribe(t)}(e)})})),e.f}function lu(e){var t=null;return function(e){return e.b.get(Gs,e.a).then(function(e){return Kr(e)})}(e.g).then(function(n){return t=n,Hs((n=e.g).b,Gs,n.a)}).then(function(){return t})}function hu(e){this.a=e,this.b=js()}(e=ou.prototype).ea=function(){return this.ya?this.ya:this.ya=($n(void 0)?Xn().then(function(){return new ge(function(e,t){var n=r.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):Se(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof ui("universalLinks.subscribe",r))throw au("cordova-universal-links-plugin is not installed");if(void 0===ui("BuildInfo.packageName",r))throw au("cordova-plugin-buildinfo is not installed");if("function"!=typeof ui("cordova.plugins.browsertab.openUrl",r))throw au("cordova-plugin-browsertab is not installed");if("function"!=typeof ui("cordova.InAppBrowser.open",r))throw au("cordova-plugin-inappbrowser is not installed")},function(){throw new Bi("cordova-not-ready")})},e.Da=function(e,t){return t(new Bi("operation-not-supported-in-this-environment")),Ce()},e.xb=function(){return Se(new Bi("operation-not-supported-in-this-environment"))},e.Lb=function(){return!1},e.Gb=function(){return!0},e.Bb=function(){return!0},e.Ba=function(e,t,n){if(this.c)return Se(new Bi("redirect-operation-pending"));var i=this,o=r.document,a=null,s=null,u=null,c=null;return this.c=Ce().then(function(){return Vr(t),cu(i)}).then(function(){return function(e,t,n,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new qr(t,i,null,o,new Bi("no-auth-event")),s=ui("BuildInfo.packageName",r);if("string"!=typeof s)throw new Bi("invalid-cordova-configuration");var u=ui("BuildInfo.displayName",r),c={};if(si().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!si().toLowerCase().match(/android/))return Se(new Bi("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=su(o),c.sessionId=o;var l=ps(e.u,e.j,e.l,t,n,null,i,e.o,c,e.s);return e.ea().then(function(){var t=e.h;return e.v.a.set(Gs,a.C(),t)}).then(function(){var t=ui("cordova.plugins.browsertab.isAvailable",r);if("function"!=typeof t)throw new Bi("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=ui("cordova.plugins.browsertab.openUrl",r)))throw new Bi("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=ui("cordova.InAppBrowser.open",r)))throw new Bi("invalid-cordova-configuration");t=!(!(t=si()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.a=n(l,t?"_blank":"_system","location=yes")}})})}(i,e,t,n)}).then(function(){return new ge(function(e,t){s=function(){var t=ui("cordova.plugins.browsertab.close",r);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.va(s),u=function(){a||(a=Mt(2e3).then(function(){t(new Bi("redirect-cancelled-by-user"))}))},c=function(){wi()&&u()},o.addEventListener("resume",u,!1),si().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).m(function(e){return lu(i).then(function(){throw e})})}).ha(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ja(s),i.c=null})},e.va=function(e){this.b.push(e),cu(this).m(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new qr("unknown",null,null,null,new Bi("no-auth-event")),e(t))})},e.Ja=function(e){j(this.b,function(t){return t==e})};var fu={name:"pendingRedirect",w:"session"};function du(e){return Hs(e.b,fu,e.a)}function pu(e,t,n){this.v=e,this.l=t,this.u=n,this.h=[],this.f=!1,this.j=y(this.o,this),this.c=new Su,this.s=new Nu,this.g=new hu(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.s,this.b.linkViaPopup=this.s,this.b.reauthViaPopup=this.s,this.a=vu(this.v,this.l,this.u,Ja)}function vu(e,n,i,r){var o=t.SDK_VERSION||null;return $n()?new ou(e,n,i,o,r):new ls(e,n,i,o,r)}function gu(e){e.f||(e.f=!0,e.a.va(e.j));var t=e.a;return e.a.ea().m(function(n){throw e.a==t&&e.reset(),n})}function mu(e){e.a.Gb()&&gu(e).m(function(t){var n=new qr("unknown",null,null,null,new Bi("operation-not-supported-in-this-environment"));wu(t)&&e.o(n)}),e.a.Bb()||Tu(e.c)}pu.prototype.reset=function(){this.f=!1,this.a.Ja(this.j),this.a=vu(this.v,this.l,this.u)},pu.prototype.subscribe=function(e){if(F(this.h,e)||this.h.push(e),!this.f){var t=this;(function(e){return e.b.get(fu,e.a).then(function(e){return"pending"==e})})(this.g).then(function(e){e?du(t.g).then(function(){gu(t).m(function(e){var n=new qr("unknown",null,null,null,new Bi("operation-not-supported-in-this-environment"));wu(e)&&t.o(n)})}):mu(t)}).m(function(){mu(t)})}},pu.prototype.unsubscribe=function(e){j(this.h,function(t){return t==e})},pu.prototype.o=function(e){if(!e)throw new Bi("invalid-auth-event");for(var t=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.qb(e.b,e.c)){(t=this.b[e.b])&&t.h(e,i),t=!0;break}}return Tu(this.c),t};var yu=new _i(2e3,1e4),bu=new _i(3e4,6e4);function _u(e,t,n,i,r,o){return e.a.xb(t,n,i,function(){e.f||(e.f=!0,e.a.va(e.j))},function(){e.reset()},r,o)}function wu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}pu.prototype.da=function(){return this.c.da()},pu.prototype.Ba=function(e,t,n){var i,r=this;return function(e){return e.b.set(fu,"pending",e.a)}(this.g).then(function(){return r.a.Ba(e,t,n).m(function(e){if(wu(e))throw new Bi("operation-not-supported-in-this-environment");return i=e,du(r.g).then(function(){throw i})}).then(function(){return r.a.Lb()?new ge(function(){}):du(r.g).then(function(){return r.da()}).then(function(){}).m(function(){})})})},pu.prototype.Da=function(e,t,n,i){return this.a.Da(n,function(n){e.ga(t,null,n,i)},yu.get())};var Eu={};function Cu(e,t,n){var i=t+":"+n;return Eu[i]||(Eu[i]=new pu(e,t,n)),Eu[i]}function Su(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function Tu(e){e.g||(e.g=!0,Au(e,!1,null,null))}function Iu(e,t){if(e.b=function(){return Ce(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Au(e,t,n,i){t?i?function(e,t){if(e.b=function(){return Se(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,i):Iu(e,n):Iu(e,{user:null}),e.f=[],e.c=[]}function Nu(){}function ku(e,t){this.a=t,Ai(this,"verificationId",e)}function Ru(e,t,n,i){return new Br(e).Sa(t,n).then(function(e){return new ku(e,i)})}function xu(e){var t=or(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Bi("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ni(this,{token:e,expirationTime:Ei(1e3*t.exp),authTime:Ei(1e3*t.auth_time),issuedAtTime:Ei(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Du(e,t,n){if(this.h=e,this.j=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ou(e){this.f=e,this.b=this.a=null,this.c=0}function Pu(e,t){var n=t[ta],i=t.refreshToken;t=Lu(t.expiresIn),e.b=n,e.c=t,e.a=i}function Lu(e){return _()+1e3*parseInt(e,10)}function Mu(e,t){return function(e,t){return new ge(function(n,i){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ua(e,e.j+"?key="+encodeURIComponent(e.b),function(e){e?e.error?i($a(e)):e.access_token&&e.refresh_token?n(e):i(new Bi("internal-error")):i(new Bi("network-request-failed"))},"POST",un(t).toString(),e.f,e.l.get()):i(new Bi("internal-error"))})}(e.f,t).then(function(t){return e.b=t.access_token,e.c=Lu(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).m(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function Fu(e,t){this.a=e||null,this.b=t||null,Ni(this,{lastSignInTime:Ei(t||null),creationTime:Ei(e||null)})}function Uu(e,t,n,i,r,o){Ni(this,{uid:e,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:t})}function ju(e,t){for(var n in st.call(this,e),t)this[n]=t[n]}function Bu(e,n,i){this.D=[],this.G=e.apiKey,this.s=e.appName,this.B=e.authDomain||null,e=t.SDK_VERSION?ai(t.SDK_VERSION):null,this.b=new Zo(this.G,es(Ja),e),this.h=new Ou(this.b),zu(this,n[ta]),Pu(this.h,n),Ai(this,"refreshToken",this.h.a),Xu(this,i||{}),xt.call(this),this.I=!1,this.B&&li()&&(this.a=Cu(this.B,this.G,this.s)),this.N=[],this.j=null,this.l=function(e){return new Du(function(){return e.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-_()-3e5;return 0<t?t:0})}(this),this.V=y(this.Ga,this);var r=this;this.ia=null,this.sa=function(e){r.na(e.g)},this.X=null,this.O=[],this.ra=function(e){Hu(r,e.c)},this.W=null}function Wu(e,t){e.X&&Et(e.X,"languageCodeChanged",e.sa),(e.X=t)&&bt(t,"languageCodeChanged",e.sa)}function Hu(e,n){e.O=n,sa(e.b,t.SDK_VERSION?ai(t.SDK_VERSION,e.O):null)}function Vu(e,t){e.W&&Et(e.W,"frameworkChanged",e.ra),(e.W=t)&&bt(t,"frameworkChanged",e.ra)}function qu(e){try{return t.app(e.s).auth()}catch(t){throw new Bi("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.s+"'!")}}function Ku(e){e.o||e.l.b||(e.l.start(),Et(e,"tokenChanged",e.V),bt(e,"tokenChanged",e.V))}function Gu(e){Et(e,"tokenChanged",e.V),e.l.stop()}function zu(e,t){e.qa=t,Ai(e,"_lat",t)}function Yu(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return function(e){return new ge(function(t){var n=e.length,i=[];if(n)for(var r=function(e,r,o){n--,i[e]=r?{Zb:!0,value:o}:{Zb:!1,reason:o},0==n&&t(i)},o=0;o<e.length;o++)Te(e[o],b(r,o,!0),b(r,o,!1));else t(i)})}(t).then(function(){return e})}function Qu(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function Xu(e,t){Ni(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new Fu(t.createdAt,t.lastLoginAt),providerData:[]})}function $u(){}function Ju(e){return Ce().then(function(){if(e.o)throw new Bi("app-deleted")})}function Zu(e){return L(e.providerData,function(e){return e.providerId})}function ec(e,t){t&&(tc(e,t.providerId),e.providerData.push(t))}function tc(e,t){j(e.providerData,function(e){return e.providerId==t})}function nc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Ai(e,t,n)}function ic(e,t){e!=t&&(Ni(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?Ai(e,"metadata",function(e){return new Fu(e.a,e.b)}(t.metadata)):Ai(e,"metadata",new Fu),P(t.providerData,function(t){ec(e,t)}),e.h=t.h,Ai(e,"refreshToken",e.h.a))}function rc(e){return e.F().then(function(t){var n=e.isAnonymous;return function(e,t){return Qa(e.b,Ra,{idToken:t}).then(y(e.uc,e))}(e,t).then(function(){return n||nc(e,"isAnonymous",!1),t})})}function oc(e,t){t[ta]&&e.qa!=t[ta]&&(Pu(e.h,t),e.dispatchEvent(new ju("tokenChanged")),zu(e,t[ta]),nc(e,"refreshToken",e.h.a))}function ac(e,t){return rc(e).then(function(){if(F(Zu(e),t))return Yu(e).then(function(){throw new Bi("provider-already-linked")})})}function sc(e,t,n){return ki({user:e,credential:Hr(t),additionalUserInfo:t=lr(t),operationType:n})}function uc(e,t){return oc(e,t),e.reload().then(function(){return e})}function cc(e,n,i,r,o){if(!li())return Se(new Bi("operation-not-supported-in-this-environment"));if(e.j&&!o)return Se(e.j);var a=cr(i.providerId),s=mi(e.uid+":::"),u=null;(!di()||Jn())&&e.B&&i.isOAuthProvider&&(u=ps(e.B,e.G,e.s,n,i,null,s,t.SDK_VERSION||null));var c=Yn(u,a&&a.Aa,a&&a.za);return r=r().then(function(){if(hc(e),!o)return e.F().then(function(){})}).then(function(){return _u(e.a,c,n,i,s,!!u)}).then(function(){return new ge(function(t,i){e.ga(n,null,new Bi("cancelled-popup-request"),e.g||null),e.f=t,e.v=i,e.g=s,e.c=e.a.Da(e,n,c,s)})}).then(function(e){return c&&zn(c),e?ki(e):null}).m(function(e){throw c&&zn(c),e}),fc(e,r,o)}function lc(e,t,n,i,r){if(!li())return Se(new Bi("operation-not-supported-in-this-environment"));if(e.j&&!r)return Se(e.j);var o=null,a=mi(e.uid+":::");return i=i().then(function(){if(hc(e),!r)return e.F().then(function(){})}).then(function(){return e.$=a,Yu(e)}).then(function(t){return e.fa&&(t=(t=e.fa).b.set(vc,e.C(),t.a)),t}).then(function(){return e.a.Ba(t,n,a)}).m(function(t){if(o=t,e.fa)return gc(e.fa);throw o}).then(function(){if(o)throw o}),fc(e,i,r)}function hc(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Bi("internal-error");throw new Bi("auth-domain-config-required")}}function fc(e,t,n){var i=function(e,t,n){return e.j&&!n?(t.cancel(),Se(e.j)):t.m(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.j||e.dispatchEvent(new ju("userInvalidated")),e.j=t),t})}(e,t,n);return e.D.push(i),i.ha(function(){U(e.D,i)}),i}function dc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[ta]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-_())/1e3;var i=new Bu(t,n,e);return e.providerData&&P(e.providerData,function(e){e&&ec(i,ki(e))}),e.redirectEventId&&(i.$=e.redirectEventId),i}function pc(e){this.a=e,this.b=js()}Su.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Su.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.b,i=e.c,r=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;"unknown"!=n||r||o?e.a?(Au(this,!0,null,e.a),Ce()):t.wa(n,i)?function(e,t,n){n=n.wa(t.b,t.c);var i=t.f,r=t.g,o=!!t.b.match(/Redirect$/);n(i,r).then(function(t){Au(e,o,t,null)}).m(function(t){Au(e,o,null,t)})}(this,e,t):Se(new Bi("invalid-auth-event")):(Au(this,!1,null,null),Ce())}else Se(new Bi("invalid-auth-event"))},Su.prototype.da=function(){var e=this;return new ge(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Bi("timeout");e.a&&e.a.cancel(),e.a=Mt(bu.get()).then(function(){e.b||Au(e,!0,null,t)})}(e))})},Nu.prototype.h=function(e,t){if(e){var n=e.b,i=e.c;e.a?(t.ga(e.b,null,e.a,e.c),Ce()):t.wa(n,i)?function(e,t){var n=e.c,i=e.b;t.wa(i,n)(e.f,e.g).then(function(e){t.ga(i,e,null,n)}).m(function(e){t.ga(i,null,e,n)})}(e,t):Se(new Bi("invalid-auth-event"))}else Se(new Bi("invalid-auth-event"))},ku.prototype.confirm=function(e){return e=Wr(this.verificationId,e),this.a(e)},Du.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=Mt(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then(function(){return function(){var e=r.document,t=null;return wi()||!e?Ce():new ge(function(n){t=function(){wi()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).m(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}()}).then(function(){return t.h()}).then(function(){e(t,!0)}).m(function(n){t.j(n)&&e(t,!1)})}(this,!0)},Du.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ou.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ou.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Se(new Bi("user-token-expired")):e||!this.b||_()>this.c-3e4?this.a?Mu(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Fu.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(ju,st),w(Bu,xt),Bu.prototype.na=function(e){this.ia=e,aa(this.b,e)},Bu.prototype.ca=function(){return this.ia},Bu.prototype.Ka=function(){return W(this.O)},Bu.prototype.Ga=function(){this.l.b&&(this.l.stop(),this.l.start())},Ai(Bu.prototype,"providerId","firebase"),(e=Bu.prototype).reload=function(){var e=this;return fc(this,Ju(this).then(function(){return rc(e).then(function(){return Yu(e)}).then($u)}))},e.ac=function(e){return this.F(e).then(function(e){return new xu(e)})},e.F=function(e){var t=this;return fc(this,Ju(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new Bi("internal-error");return e.accessToken!=t.qa&&(zu(t,e.accessToken),t.dispatchEvent(new ju("tokenChanged"))),nc(t,"refreshToken",e.refreshToken),e.accessToken}))},e.getToken=function(e){return Ti["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Ti["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(e)},e.uc=function(e){if(!(e=e.users)||!e.length)throw new Bi("internal-error");Xu(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?L(e,function(e){return new Uu(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)ec(this,t[n]);nc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.bb=function(e){var t=this,n=null;return fc(this,e.f(this.b,this.uid).then(function(e){return oc(t,e),n=sc(t,e,"reauthenticate"),t.j=null,t.reload()}).then(function(){return n}),!0)},e.vc=function(e){return this.bb(e).then(function(){})},e.$a=function(e){var t=this,n=null;return fc(this,ac(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.c(t.b,n)}).then(function(e){return n=sc(t,e,"link"),uc(t,e)}).then(function(){return n}))},e.mc=function(e){return this.$a(e).then(function(e){return e.user})},e.nc=function(e,t){var n=this;return fc(this,ac(this,"phone").then(function(){return Ru(qu(n),e,t,y(n.$a,n))}))},e.wc=function(e,t){var n=this;return fc(this,Ce().then(function(){return Ru(qu(n),e,t,y(n.bb,n))}),!0)},e.mb=function(e){var t=this;return fc(this,this.F().then(function(n){return t.b.mb(n,e)}).then(function(e){return oc(t,e),t.reload()}))},e.Nc=function(e){var t=this;return fc(this,this.F().then(function(n){return e.c(t.b,n)}).then(function(e){return oc(t,e),t.reload()}))},e.nb=function(e){var t=this;return fc(this,this.F().then(function(n){return t.b.nb(n,e)}).then(function(e){return oc(t,e),t.reload()}))},e.ob=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ju(this);var t=this;return fc(this,this.F().then(function(n){return t.b.ob(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return oc(t,e),nc(t,"displayName",e.displayName||null),nc(t,"photoURL",e.photoUrl||null),P(t.providerData,function(e){"password"===e.providerId&&(Ai(e,"displayName",t.displayName),Ai(e,"photoURL",t.photoURL))}),Yu(t)}).then($u))},e.Mc=function(e){var t=this;return fc(this,rc(this).then(function(n){return F(Zu(t),e)?function(e,t,n){return Qa(e,Aa,{idToken:t,deleteProvider:n})}(t.b,n,[e]).then(function(e){var n={};return P(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),P(Zu(t),function(e){n[e]||tc(t,e)}),n[Br.PROVIDER_ID]||Ai(t,"phoneNumber",null),Yu(t)}):Yu(t).then(function(){throw new Bi("no-such-provider")})}))},e.delete=function(){var e=this;return fc(this,this.F().then(function(t){return Qa(e.b,Ia,{idToken:t})}).then(function(){e.dispatchEvent(new ju("userDeleted"))})).then(function(){for(var t=0;t<e.D.length;t++)e.D[t].cancel("app-deleted");Wu(e,null),Vu(e,null),e.D=[],e.o=!0,Gu(e),Ai(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},e.qb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.$||null)==t||"reauthViaRedirect"==e&&(this.$||null)==t)},e.ga=function(e,t,n,i){"linkViaPopup"!=e&&"reauthViaPopup"!=e||i!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.wa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?y(this.vb,this):"reauthViaPopup"==e&&t==(this.g||null)?y(this.wb,this):"linkViaRedirect"==e&&(this.$||null)==t?y(this.vb,this):"reauthViaRedirect"==e&&(this.$||null)==t?y(this.wb,this):null},e.oc=function(e){var t=this;return cc(this,"linkViaPopup",e,function(){return ac(t,e.providerId).then(function(){return Yu(t)})},!1)},e.xc=function(e){return cc(this,"reauthViaPopup",e,function(){return Ce()},!0)},e.pc=function(e){var t=this;return lc(this,"linkViaRedirect",e,function(){return ac(t,e.providerId)},!1)},e.yc=function(e){return lc(this,"reauthViaRedirect",e,function(){return Ce()},!0)},e.vb=function(e,t){var n=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return fc(this,this.F().then(function(i){return ba(n.b,{requestUri:e,sessionId:t,idToken:i})}).then(function(e){return i=sc(n,e,"link"),uc(n,e)}).then(function(){return i}))},e.wb=function(e,t){var n=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return fc(this,Ce().then(function(){return wr(_a(n.b,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return i=sc(n,e,"reauthenticate"),oc(n,e),n.j=null,n.reload()}).then(function(){return i}),!0)},e.fb=function(e){var t=this,n=null;return fc(this,this.F().then(function(t){return n=t,void 0===e||oe(e)?{}:Zi(new qi(e))}).then(function(e){return t.b.fb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.toJSON=function(){return this.C()},e.C=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.s,authDomain:this.B,stsTokenManager:this.h.C(),redirectEventId:this.$||null};return this.metadata&&le(e,this.metadata.C()),P(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),e};var vc={name:"redirectUser",w:"session"};function gc(e){return Hs(e.b,vc,e.a)}function mc(e){this.a=e,this.b=js(),this.c=null,this.f=function(e){var t=_c("local"),n=_c("session"),i=_c("none");return function(e,t,n){var i=Ws(t,n),o=Bs(e,t.w);return e.get(t,n).then(function(a){var s=null;try{s=gi(r.localStorage.getItem(i))}catch(e){}if(s&&!a)return r.localStorage.removeItem(i),e.set(t,s,n);s&&a&&"localStorage"!=o.type&&r.localStorage.removeItem(i)})}(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(r){return r?n:e.b.get(i,e.a).then(function(n){return n?i:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(bc,e.a).then(function(e){return e?_c(e):t})})})}).then(function(t){return e.c=t,yc(e,t.w)}).m(function(){e.c||(e.c=t)})}(this),this.b.addListener(_c("local"),this.a,y(this.g,this))}function yc(e,t){var n,i=[];for(n in Fs)Fs[n]!==t&&i.push(Hs(e.b,_c(Fs[n]),e.a));return i.push(Hs(e.b,bc,e.a)),function(e){return new ge(function(t,n){var i=e.length,r=[];if(i)for(var o=function(e,n){i--,r[e]=n,0==i&&t(r)},a=function(e){n(e)},s=0;s<e.length;s++)Te(e[s],b(o,s),a);else t(r)})}(i)}mc.prototype.g=function(){var e=this,t=_c("local");Sc(this,function(){return Ce().then(function(){return e.c&&"local"!=e.c.w?e.b.get(t,e.a):null}).then(function(n){if(n)return yc(e,"local").then(function(){e.c=t})})})};var bc={name:"persistence",w:"session"};function _c(e){return{name:"authUser",w:e}}function wc(e,t){return Sc(e,function(){return e.b.set(e.c,t.C(),e.a)})}function Ec(e){return Sc(e,function(){return Hs(e.b,e.c,e.a)})}function Cc(e,t){return Sc(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),dc(e||{})})})}function Sc(e,t){return e.f=e.f.then(t,t),e.f}function Tc(e){if(this.l=!1,Ai(this,"app",e),!Dc(this).options||!Dc(this).options.apiKey)throw new Bi("invalid-api-key");e=t.SDK_VERSION?ai(t.SDK_VERSION):null,this.b=new Zo(Dc(this).options&&Dc(this).options.apiKey,es(Ja),e),this.N=[],this.o=[],this.I=[],this.Ob=t.INTERNAL.createSubscribe(y(this.ic,this)),this.O=void 0,this.Pb=t.INTERNAL.createSubscribe(y(this.jc,this)),Rc(this,null),this.h=new mc(Dc(this).options.apiKey+":"+Dc(this).name),this.G=new pc(Dc(this).options.apiKey+":"+Dc(this).name),this.V=Mc(this,function(e){var t=Dc(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(vc,e.a).then(function(e){return e&&t&&(e.authDomain=t),dc(e||{})})}(e.G,Dc(e).options.authDomain).then(function(t){return(e.B=t)&&(t.fa=e.G),gc(e.G)});return Mc(e,t)}(e).then(function(){return Cc(e.h,t)}).then(function(t){return t?(t.fa=e.G,e.B&&(e.B.$||null)==(t.$||null)?t:t.reload().then(function(){return wc(e.h,t).then(function(){return t})}).m(function(n){return"auth/network-request-failed"==n.code?t:Ec(e.h)})):null}).then(function(t){Rc(e,t||null)});return Mc(e,n)}(this)),this.j=Mc(this,function(e){return e.V.then(function(){return e.da()}).m(function(){}).then(function(){if(!e.l)return e.ia()}).m(function(){}).then(function(){if(!e.l){e.X=!0;var t=e.h;t.b.addListener(_c("local"),t.a,e.ia)}})}(this)),this.X=!1,this.ia=y(this.Ic,this),this.Ga=y(this.ka,this),this.qa=y(this.Yb,this),this.ra=y(this.gc,this),this.sa=y(this.hc,this),function(e){var t=Dc(e).options.authDomain,n=Dc(e).options.apiKey;t&&li()&&(e.Nb=e.V.then(function(){if(!e.l){if(e.a=Cu(t,n,Dc(e).name),e.a.subscribe(e),Oc(e)&&Qu(Oc(e)),e.B){Qu(e.B);var i=e.B;i.na(e.ca()),Wu(i,e),Hu(i=e.B,e.D),Vu(i,e),e.B=null}return e.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.qc,this),this.s=0,xt.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ca()},set:function(e){this.na(e)},enumerable:!1}),e.W=null}(this),this.D=[]}function Ic(e){st.call(this,"languageCodeChanged"),this.g=e}function Ac(e){st.call(this,"frameworkChanged"),this.c=e}function Nc(e){return e.Nb||Se(new Bi("auth-domain-config-required"))}function kc(e,t){var n={};return n.apiKey=Dc(e).options.apiKey,n.authDomain=Dc(e).options.authDomain,n.appName=Dc(e).name,e.V.then(function(){return function(e,t,n,i){var r=new Bu(e,t);return n&&(r.fa=n),i&&Hu(r,i),r.reload().then(function(){return r})}(n,t,e.G,e.Ka())}).then(function(t){return Oc(e)&&t.uid==Oc(e).uid?(ic(Oc(e),t),e.ka(t)):(Rc(e,t),Qu(t),e.ka(t))}).then(function(){Lc(e)})}function Rc(e,t){Oc(e)&&(function(e,t){j(e.N,function(e){return e==t})}(Oc(e),e.Ga),Et(Oc(e),"tokenChanged",e.qa),Et(Oc(e),"userDeleted",e.ra),Et(Oc(e),"userInvalidated",e.sa),Gu(Oc(e))),t&&(t.N.push(e.Ga),bt(t,"tokenChanged",e.qa),bt(t,"userDeleted",e.ra),bt(t,"userInvalidated",e.sa),0<e.s&&Ku(t)),Ai(e,"currentUser",t),t&&(t.na(e.ca()),Wu(t,e),Hu(t,e.D),Vu(t,e))}function xc(e,t){var n=null,i=null;return Mc(e,t.then(function(t){return n=Hr(t),i=lr(t),kc(e,t)}).then(function(){return ki({user:Oc(e),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function Dc(e){return e.app}function Oc(e){return e.currentUser}function Pc(e){return Oc(e)&&Oc(e)._lat||null}function Lc(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](Pc(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](Pc(e))}}function Mc(e,t){return e.N.push(t),t.ha(function(){U(e.N,t)}),t}function Fc(e,t,n,i,o,a){if(Ai(this,"type","recaptcha"),this.b=this.c=null,this.o=!1,this.l=t,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[Bc])throw new Bi("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Wc],!r.document)throw new Bi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!On(t)||!this.h&&On(t).hasChildNodes())throw new Bi("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Zo(e,a||null,o||null),this.s=i||function(){return null};var s=this;this.j=[];var u=this.a[Uc];this.a[Uc]=function(e){if(Hc(s,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=ui(u,r);"function"==typeof t&&t(e)}};var c=this.a[jc];this.a[jc]=function(){if(Hc(s,null),"function"==typeof c)c();else if("string"==typeof c){var e=ui(c,r);"function"==typeof e&&e()}}}mc.prototype.ib=function(e){var t=null,n=this;return function(e){var t=new Bi("invalid-persistence-type"),n=new Bi("unsupported-persistence-type");e:{for(i in Fs)if(Fs[i]==e){var i=!0;break e}i=!1}if(!i||"string"!=typeof e)throw t;switch(ei()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!ci()&&"none"!==e)throw n}}(e),Sc(this,function(){return e!=n.c.w?n.b.get(n.c,n.a).then(function(i){return t=i,yc(n,e)}).then(function(){if(n.c=_c(e),t)return n.b.set(n.c,t,n.a)}):Ce()})},w(Tc,xt),w(Ic,st),w(Ac,st),(e=Tc.prototype).ib=function(e){return Mc(this,e=this.h.ib(e))},e.na=function(e){this.W===e||this.l||(this.W=e,aa(this.b,this.W),this.dispatchEvent(new Ic(this.ca())))},e.ca=function(){return this.W},e.Oc=function(){var e=r.navigator;this.na(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.qc=function(e){this.D.push(e),sa(this.b,t.SDK_VERSION?ai(t.SDK_VERSION,this.D):null),this.dispatchEvent(new Ac(this.D))},e.Ka=function(){return W(this.D)},e.toJSON=function(){return{apiKey:Dc(this).options.apiKey,authDomain:Dc(this).options.authDomain,appName:Dc(this).name,currentUser:Oc(this)&&Oc(this).C()}},e.qb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ga=function(e,t,n,i){"signInViaPopup"==e&&this.g==i&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.wa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?y(this.Xb,this):null},e.Xb=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.c&&(this.c.cancel(),this.c=null);var i=null,r=null,o=ya(n.b,e).then(function(e){return i=Hr(e),r=lr(e),e});return Mc(this,e=n.V.then(function(){return o}).then(function(e){return kc(n,e)}).then(function(){return ki({user:Oc(n),credential:i,additionalUserInfo:r,operationType:"signIn"})}))},e.Gc=function(e){if(!li())return Se(new Bi("operation-not-supported-in-this-environment"));var n=this,i=cr(e.providerId),r=mi(),o=null;(!di()||Jn())&&Dc(this).options.authDomain&&e.isOAuthProvider&&(o=ps(Dc(this).options.authDomain,Dc(this).options.apiKey,Dc(this).name,"signInViaPopup",e,null,r,t.SDK_VERSION||null));var a=Yn(o,i&&i.Aa,i&&i.za);return Mc(this,i=Nc(this).then(function(t){return _u(t,a,"signInViaPopup",e,r,!!o)}).then(function(){return new ge(function(e,t){n.ga("signInViaPopup",null,new Bi("cancelled-popup-request"),n.g),n.f=e,n.v=t,n.g=r,n.c=n.a.Da(n,"signInViaPopup",a,r)})}).then(function(e){return a&&zn(a),e?ki(e):null}).m(function(e){throw a&&zn(a),e}))},e.Hc=function(e){if(!li())return Se(new Bi("operation-not-supported-in-this-environment"));var t=this;return Mc(this,Nc(this).then(function(){return function(e){return Sc(e,function(){return e.b.set(bc,e.c.w,e.a)})}(t.h)}).then(function(){return t.a.Ba("signInViaRedirect",e)}))},e.da=function(){if(!li())return Se(new Bi("operation-not-supported-in-this-environment"));var e=this;return Mc(this,Nc(this).then(function(){return e.a.da()}).then(function(e){return e?ki(e):null}))},e.kb=function(){var e=this;return Mc(this,this.j.then(function(){return Oc(e)?(Rc(e,null),Ec(e.h).then(function(){Lc(e)})):Ce()}))},e.Ic=function(){var e=this;return Cc(this.h,Dc(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=Oc(e)&&t){n=Oc(e).uid;var i=t.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return ic(Oc(e),t),Oc(e).F();(Oc(e)||t)&&(Rc(e,t),t&&(Qu(t),t.fa=e.G),e.a&&e.a.subscribe(e),Lc(e))}})},e.ka=function(e){return wc(this.h,e)},e.Yb=function(){Lc(this),this.ka(Oc(this))},e.gc=function(){this.kb()},e.hc=function(){this.kb()},e.ic=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Oc(t))})},e.jc=function(e){var t=this;!function(e,t){e.I.push(t),Mc(e,e.j.then(function(){!e.l&&F(e.I,t)&&e.O!==e.getUid()&&(e.O=e.getUid(),t(Pc(e)))}))}(this,function(){e.next(Oc(t))})},e.sc=function(e,n,i){var r=this;return this.X&&t.Promise.resolve().then(function(){f(e)?e(Oc(r)):f(e.next)&&e.next(Oc(r))}),this.Ob(e,n,i)},e.rc=function(e,n,i){var r=this;return this.X&&t.Promise.resolve().then(function(){r.O=r.getUid(),f(e)?e(Oc(r)):f(e.next)&&e.next(Oc(r))}),this.Pb(e,n,i)},e.$b=function(e){var t=this;return Mc(this,this.j.then(function(){return Oc(t)?Oc(t).F(e).then(function(e){return{accessToken:e}}):null}))},e.Cc=function(e){return this.Hb(e).then(function(e){return e.user})},e.Hb=function(e){var t=this;return this.j.then(function(){return xc(t,Qa(t.b,qa,{token:e}))}).then(function(e){var n=e.user;return nc(n,"isAnonymous",!1),t.ka(n),e})},e.Ib=function(e,t){var n=this;return this.j.then(function(){return xc(n,Qa(n.b,Ka,{email:e,password:t}))})},e.Dc=function(e,t){return this.Ib(e,t).then(function(e){return e.user})},e.Sb=function(e,t){return this.sb(e,t).then(function(e){return e.user})},e.sb=function(e,t){var n=this;return this.j.then(function(){return xc(n,Qa(n.b,Sa,{email:e,password:t}))})},e.Bc=function(e){return this.Oa(e).then(function(e){return e.user})},e.Oa=function(e){var t=this;return this.j.then(function(){return xc(t,e.xa(t.b))})},e.jb=function(){return this.Jb().then(function(e){return e.user})},e.Jb=function(){var e=this;return this.j.then(function(){var t=Oc(e);if(t&&t.isAnonymous){var n=ki({providerId:null,isNewUser:!1});return ki({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return xc(e,e.b.jb()).then(function(t){var n=t.user;return nc(n,"isAnonymous",!0),e.ka(n),t})})},e.getUid=function(){return Oc(this)&&Oc(this).uid||null},e.Qb=function(e){this.addAuthTokenListener(e),this.s++,0<this.s&&Oc(this)&&Ku(Oc(this))},e.zc=function(e){var t=this;P(this.o,function(n){n==e&&t.s--}),0>this.s&&(this.s=0),0==this.s&&Oc(this)&&Gu(Oc(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.o.push(e),Mc(this,this.j.then(function(){t.l||F(t.o,e)&&e(Pc(t))}))},e.removeAuthTokenListener=function(e){j(this.o,function(t){return t==e})},e.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h).b.removeListener(_c("local"),e.a,this.ia),this.a&&this.a.unsubscribe(this),t.Promise.resolve()},e.Vb=function(e){return Mc(this,function(e,t){return Qa(e,Ta,{identifier:t,continueUri:hi()?qn():"http://localhost"}).then(function(e){return e.allProviders||[]})}(this.b,e))},e.Wb=function(e){return Mc(this,function(e,t){return Qa(e,Ta,{identifier:t,continueUri:hi()?qn():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.b,e))},e.kc=function(e){return!!Fr(e)},e.hb=function(e,t){var n=this;return Mc(this,Ce().then(function(){var e=new qi(t);if(!e.c)throw new Bi("argument-error",Gi+" must be true when sending sign in link to email");return Zi(e)}).then(function(t){return n.b.hb(e,t)}).then(function(){}))},e.Pc=function(e){return this.Ia(e).then(function(e){return e.data.email})},e.Wa=function(e,t){return Mc(this,this.b.Wa(e,t).then(function(){}))},e.Ia=function(e){return Mc(this,this.b.Ia(e).then(function(e){return new xi(e)}))},e.Ua=function(e){return Mc(this,this.b.Ua(e).then(function(){}))},e.gb=function(e,t){var n=this;return Mc(this,Ce().then(function(){return void 0===t||oe(t)?{}:Zi(new qi(t))}).then(function(t){return n.b.gb(e,t)}).then(function(){}))},e.Fc=function(e,t){return Mc(this,Ru(this,e,t,y(this.Oa,this)))},e.Ec=function(e,t){var n=this;return Mc(this,Ce().then(function(){var i=Mr(e,t||qn());return n.Oa(i)}))};var Uc="callback",jc="expired-callback",Bc="sitekey",Wc="size";function Hc(e,t){for(var n=0;n<e.j.length;n++)try{e.j[n](t)}catch(e){}}function Vc(e,t){return e.g.push(t),t.ha(function(){U(e.g,t)}),t}function qc(e){if(e.o)throw new Bi("internal-error","RecaptchaVerifier instance has been destroyed.")}(e=Fc.prototype).ya=function(){var e=this;return this.c?this.c:this.c=Vc(this,Ce().then(function(){if(hi()&&!Zn())return Xn();throw new Bi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return function(e,t){return new ge(function(n,i){var o=setTimeout(function(){i(new Bi("network-request-failed"))},zc.get());if(!r.grecaptcha||t!==e.c&&!e.b){r[e.a]=function(){if(r.grecaptcha){e.c=t;var a=r.grecaptcha.render;r.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),n()}else clearTimeout(o),i(new Bi("internal-error"));delete r[e.a]};var a=_n(Kc,{onload:e.a,hl:t||""});Ce(Go(a)).m(function(){clearTimeout(o),i(new Bi("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(o),n()})}(Qc(),e.s())}).then(function(){return Qa(e.u,La,{})}).then(function(t){e.a[Bc]=t.recaptchaSiteKey}).m(function(t){throw e.c=null,t}))},e.render=function(){qc(this);var e=this;return Vc(this,this.ya().then(function(){if(null===e.b){var t=e.l;if(!e.h){var n=On(t);t=Mn("DIV"),n.appendChild(t)}e.b=grecaptcha.render(t,e.a)}return e.b}))},e.verify=function(){qc(this);var e=this;return Vc(this,this.render().then(function(t){return new ge(function(n){var i=grecaptcha.getResponse(t);if(i)n(i);else{var r=function(t){t&&(function(e,t){j(e.j,function(e){return e==t})}(e,r),n(t))};e.j.push(r),e.h&&grecaptcha.execute(e.b)}})}))},e.reset=function(){qc(this),null!==this.b&&grecaptcha.reset(this.b)},e.clear=function(){qc(this),this.o=!0,Qc().b--;for(var e=0;e<this.g.length;e++)this.g[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){e=On(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}};var Kc=mn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}");function Gc(){this.b=r.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zc=new _i(3e4,6e4);var Yc=null;function Qc(){return Yc||(Yc=new Gc),Yc}function Xc(e,n,i){try{this.f=i||t.app()}catch(e){throw new Bi("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new Bi("invalid-api-key");i=this.f.options.apiKey;var r=this,o=null;try{o=this.f.auth().Ka()}catch(e){}o=t.SDK_VERSION?ai(t.SDK_VERSION,o):null,Fc.call(this,i,e,n,function(){try{var e=r.f.auth().ca()}catch(t){e=null}return e},o,es(Ja))}function $c(e,t,n,i){e:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Bi("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=t.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=t[r].optional&&void 0===n[r],!t[r].M(n[r])&&!o){if(t=t[r],0>r||r>=Jc.length)throw new Bi("internal-error","Argument validator received an unsupported number of arguments.");n=Jc[r],i=(i?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}i=null}}if(i)throw new Bi("argument-error",e+" failed: "+i)}w(Xc,Fc);var Jc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Zc(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:o}}function el(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:a}}function tl(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:d}}function nl(e,t){return{name:e||"",K:"a function",optional:!!t,M:f}}function il(e,t){return{name:e||"",K:"null",optional:!!t,M:c}}function rl(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.xa||!n)}}}function ol(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&o(e.type)&&f(e.verify))}}}function al(e,t,n,i){return{name:n||"",K:e.K+" or "+t.K,optional:!!i,M:function(n){return e.M(n)||t.M(n)}}}function sl(e,t){for(var n in t){var i=t[n].name;e[i]=cl(i,e[n],t[n].i)}}function ul(e,t,n,i){e[t]=cl(t,n,i)}function cl(e,t,n){function i(){var e=Array.prototype.slice.call(arguments);return $c(o,n,e),t.apply(this,e)}if(!n)return t;var r,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(r in t)i[r]=t[r];for(r in t.prototype)i.prototype[r]=t.prototype[r];return i}sl(Tc.prototype,{Ua:{name:"applyActionCode",i:[Zc("code")]},Ia:{name:"checkActionCode",i:[Zc("code")]},Wa:{name:"confirmPasswordReset",i:[Zc("code"),Zc("newPassword")]},Sb:{name:"createUserWithEmailAndPassword",i:[Zc("email"),Zc("password")]},sb:{name:"createUserAndRetrieveDataWithEmailAndPassword",i:[Zc("email"),Zc("password")]},Vb:{name:"fetchProvidersForEmail",i:[Zc("email")]},Wb:{name:"fetchSignInMethodsForEmail",i:[Zc("email")]},da:{name:"getRedirectResult",i:[]},kc:{name:"isSignInWithEmailLink",i:[Zc("emailLink")]},rc:{name:"onAuthStateChanged",i:[al(tl(),nl(),"nextOrObserver"),nl("opt_error",!0),nl("opt_completed",!0)]},sc:{name:"onIdTokenChanged",i:[al(tl(),nl(),"nextOrObserver"),nl("opt_error",!0),nl("opt_completed",!0)]},gb:{name:"sendPasswordResetEmail",i:[Zc("email"),al(tl("opt_actionCodeSettings",!0),il(null,!0),"opt_actionCodeSettings",!0)]},hb:{name:"sendSignInLinkToEmail",i:[Zc("email"),tl("actionCodeSettings")]},ib:{name:"setPersistence",i:[Zc("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",i:[rl()]},jb:{name:"signInAnonymously",i:[]},Jb:{name:"signInAnonymouslyAndRetrieveData",i:[]},Bc:{name:"signInWithCredential",i:[rl()]},Cc:{name:"signInWithCustomToken",i:[Zc("token")]},Hb:{name:"signInAndRetrieveDataWithCustomToken",i:[Zc("token")]},Dc:{name:"signInWithEmailAndPassword",i:[Zc("email"),Zc("password")]},Ec:{name:"signInWithEmailLink",i:[Zc("email"),Zc("emailLink",!0)]},Ib:{name:"signInAndRetrieveDataWithEmailAndPassword",i:[Zc("email"),Zc("password")]},Fc:{name:"signInWithPhoneNumber",i:[Zc("phoneNumber"),ol()]},Gc:{name:"signInWithPopup",i:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Hc:{name:"signInWithRedirect",i:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},kb:{name:"signOut",i:[]},toJSON:{name:"toJSON",i:[Zc(null,!0)]},Oc:{name:"useDeviceLanguage",i:[]},Pc:{name:"verifyPasswordResetCode",i:[Zc("code")]}}),function(e,t){for(var n in t){var i=t[n].name;if(i!==n){var r=t[n].Rb;Object.defineProperty(e,i,{get:function(){return this[n]},set:function(e){$c(i,[r],[e],!0),this[n]=e},enumerable:!0})}}}(Tc.prototype,{lc:{name:"languageCode",Rb:al(Zc(),il(),"languageCode")}}),Tc.Persistence=Fs,Tc.Persistence.LOCAL="local",Tc.Persistence.SESSION="session",Tc.Persistence.NONE="none",sl(Bu.prototype,{delete:{name:"delete",i:[]},ac:{name:"getIdTokenResult",i:[el()]},F:{name:"getIdToken",i:[el()]},getToken:{name:"getToken",i:[el()]},$a:{name:"linkAndRetrieveDataWithCredential",i:[rl()]},mc:{name:"linkWithCredential",i:[rl()]},nc:{name:"linkWithPhoneNumber",i:[Zc("phoneNumber"),ol()]},oc:{name:"linkWithPopup",i:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},pc:{name:"linkWithRedirect",i:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},bb:{name:"reauthenticateAndRetrieveDataWithCredential",i:[rl()]},vc:{name:"reauthenticateWithCredential",i:[rl()]},wc:{name:"reauthenticateWithPhoneNumber",i:[Zc("phoneNumber"),ol()]},xc:{name:"reauthenticateWithPopup",i:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},yc:{name:"reauthenticateWithRedirect",i:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",i:[]},fb:{name:"sendEmailVerification",i:[al(tl("opt_actionCodeSettings",!0),il(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",i:[Zc(null,!0)]},Mc:{name:"unlink",i:[Zc("provider")]},mb:{name:"updateEmail",i:[Zc("email")]},nb:{name:"updatePassword",i:[Zc("password")]},Nc:{name:"updatePhoneNumber",i:[rl("phone")]},ob:{name:"updateProfile",i:[tl("profile")]}}),sl(ge.prototype,{ha:{name:"finally"},m:{name:"catch"},then:{name:"then"}}),sl(ku.prototype,{confirm:{name:"confirm",i:[Zc("verificationCode")]}}),ul(Lr,"credential",function(e,t){return new Pr(e,t)},[Zc("email"),Zc("password")]),sl(Ir.prototype,{ta:{name:"addScope",i:[Zc("scope")]},Ca:{name:"setCustomParameters",i:[tl("customOAuthParameters")]}}),ul(Ir,"credential",Ar,[al(Zc(),tl(),"token")]),ul(Lr,"credentialWithLink",Mr,[Zc("email"),Zc("emailLink")]),sl(Nr.prototype,{ta:{name:"addScope",i:[Zc("scope")]},Ca:{name:"setCustomParameters",i:[tl("customOAuthParameters")]}}),ul(Nr,"credential",kr,[al(Zc(),tl(),"token")]),sl(Rr.prototype,{ta:{name:"addScope",i:[Zc("scope")]},Ca:{name:"setCustomParameters",i:[tl("customOAuthParameters")]}}),ul(Rr,"credential",xr,[al(Zc(),al(tl(),il()),"idToken"),al(Zc(),il(),"accessToken",!0)]),sl(Dr.prototype,{Ca:{name:"setCustomParameters",i:[tl("customOAuthParameters")]}}),ul(Dr,"credential",Or,[al(Zc(),tl(),"token"),Zc("secret",!0)]),sl(Tr.prototype,{ta:{name:"addScope",i:[Zc("scope")]},credential:{name:"credential",i:[al(Zc(),il(),"idToken",!0),al(Zc(),il(),"accessToken",!0)]},Ca:{name:"setCustomParameters",i:[tl("customOAuthParameters")]}}),ul(Br,"credential",Wr,[Zc("verificationId"),Zc("verificationCode")]),sl(Br.prototype,{Sa:{name:"verifyPhoneNumber",i:[Zc("phoneNumber"),ol()]}}),sl(Bi.prototype,{toJSON:{name:"toJSON",i:[Zc(null,!0)]}}),sl(Qr.prototype,{toJSON:{name:"toJSON",i:[Zc(null,!0)]}}),sl(Yr.prototype,{toJSON:{name:"toJSON",i:[Zc(null,!0)]}}),sl(Xc.prototype,{clear:{name:"clear",i:[]},render:{name:"render",i:[]},verify:{name:"verify",i:[]}}),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:Tc,Error:Bi};ul(e,"EmailAuthProvider",Lr,[]),ul(e,"FacebookAuthProvider",Ir,[]),ul(e,"GithubAuthProvider",Nr,[]),ul(e,"GoogleAuthProvider",Rr,[]),ul(e,"TwitterAuthProvider",Dr,[]),ul(e,"OAuthProvider",Tr,[Zc("providerId")]),ul(e,"PhoneAuthProvider",Br,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Tc)}}]),ul(e,"RecaptchaVerifier",Xc,[al(Zc(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),tl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.app.App)}}]),t.INTERNAL.registerService("auth",function(e,t){return t({INTERNAL:{getUid:y((e=new Tc(e)).getUid,e),getToken:y(e.$b,e),addAuthTokenListener:y(e.Qb,e),removeAuthTokenListener:y(e.zc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),t.INTERNAL.extendNamespace({User:Bu})}()}).call(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(5))},function(e,t,n){e.exports=n(15)},function(e,t,n){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(10),s=n(16),u=n(11),c=(r=n(9))&&"object"==typeof r&&"default"in r?r.default:r,l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),a.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:a.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return a.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(e){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new s.Logger("@firebase/database"),g=(o=1,function(){return o++}),m=function(e){var t=a.stringToByteArray(e),n=new a.Sha1;n.update(t);var i=n.digest();return a.base64.encodeByteArray(i)},y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",i=0;i<e.length;i++)Array.isArray(e[i])||e[i]&&"object"==typeof e[i]&&"number"==typeof e[i].length?n+=y.apply(null,e[i]):"object"==typeof e[i]?n+=a.stringify(e[i]):n+=e[i],n+=" ";return n},b=null,_=!0,w=function(e,t){a.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"==typeof e?b=e:(b=null,p.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=y.apply(null,e);b(n)}},C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,[e].concat(t))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,e);v.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,e);throw v.error(n),new Error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,e);v.warn(n)},A=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",k="[MAX_NAME]",R=function(e,t){if(e===t)return 0;if(e===N||t===k)return-1;if(t===N||e===k)return 1;var n=U(e),i=U(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+a.stringify(t))},O=function(e){if("object"!=typeof e||null===e)return a.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var i="{",r=0;r<t.length;r++)0!==r&&(i+=","),i+=a.stringify(t[r]),i+=":",i+=O(e[t[r]]);return i+="}"},P=function(e,t){var n=e.length;if(n<=t)return[e];for(var i=[],r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i},L=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else a.forEach(e,function(e,n){return t(n,e)})},M=function(e){a.assert(!A(e),"Invalid JSON number");var t,n,i,r,o,s,u;for(0===e?(n=0,i=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,i=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(e/Math.pow(2,-1074)))),s=[],o=52;o;o-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse(),u=s.join("");var c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},F=new RegExp("^-?\\d{1,10}$"),U=function(e){if(F.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},j=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw I("Exception was thrown by user callback.",t),e},Math.floor(0))}},B=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},W=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},H=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(t instanceof e)for(i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{var r=t.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var i=t.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),i=t.slice(),r=0;r<n.length&&r<i.length;r++){var o=R(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),V=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=a.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=a.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),q="long_polling",K=function(){function e(e,t,n,i,r){void 0===r&&(r=""),this.secure=t,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(a.assert("string"==typeof e,"typeof type must == string"),a.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==q)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var i=[];return a.forEach(t,function(e,t){i.push(e+"="+t)}),n+i.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();var G,z,Y,Q,X,$=function(e){var t=J(e),n=t.subdomain;"firebase"===t.domain&&T(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new K(t.host,t.secure,n,i),path:new H(t.pathString)}},J=function(e){var t="",n="",i="",r="",o=!0,a="https",s=443;if("string"==typeof e){var u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length);var l=e.indexOf("?");-1===l&&(l=e.length),t=e.substring(0,Math.min(c,l)),c<l&&(r=function(e){for(var t="",n=e.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,l)));var h=function(e){var t={};e.startsWith("?")&&(e=e.substring(1));for(var n=0,i=e.split("&");n<i.length;n++){var r=i[n];if(0!==r.length){var o=r.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):I("Invalid query segment '"+r+"' in query '"+e+"'")}}return t}(e.substring(Math.min(e.length,l)));(u=t.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(t.substring(u+1),10)):u=e.length;var f=t.split(".");3===f.length?(n=f[1],i=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,u).toLowerCase()&&(n="localhost"),""===i&&"ns"in h&&(i=h.ns)}return{host:t,port:s,domain:n,subdomain:i,secure:o,scheme:a,pathString:r}},Z=/[\[\].#$\/\u0000-\u001F\u007F]/,ee=/[\[\].#$\u0000-\u001F\u007F]/,te=function(e){return"string"==typeof e&&0!==e.length&&!Z.test(e)},ne=function(e){return"string"==typeof e&&0!==e.length&&!ee.test(e)},ie=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!A(e)||e&&"object"==typeof e&&a.contains(e,".sv")},re=function(e,t,n,i,r){r&&void 0===n||oe(a.errorPrefix(e,t,r),n,i)},oe=function(e,t,n){var i=n instanceof H?new V(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+t.toString());if(A(t))throw new Error(e+"contains "+t.toString()+" "+i.toErrorString());if("string"==typeof t&&t.length>10485760/3&&a.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var r=!1,o=!1;if(a.forEach(t,function(t,n){if(".value"===t)r=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!te(t)))throw new Error(e+" contains an invalid key ("+t+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(t),oe(e,n,i),i.pop()}),r&&o)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ae=function(e,t,n,i,r){if(!r||void 0!==n){var o=a.errorPrefix(e,t,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];a.forEach(n,function(e,t){var n=new H(e);if(oe(o,t,i.child(n)),".priority"===n.getBack()&&!ie(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),function(e,t){var n,i;for(n=0;n<t.length;n++)for(var r=(i=t[n]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!te(r[o]))throw new Error(e+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(H.comparePaths);var a=null;for(n=0;n<t.length;n++){if(i=t[n],null!==a&&a.contains(i))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(o,s)}},se=function(e,t,n,i){if(!i||void 0!==n){if(A(n))throw new Error(a.errorPrefix(e,t,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ie(n))throw new Error(a.errorPrefix(e,t,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ue=function(e,t,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ce=function(e,t,n,i){if(!(i&&void 0===n||te(n)))throw new Error(a.errorPrefix(e,t,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},le=function(e,t,n,i){if(!(i&&void 0===n||ne(n)))throw new Error(a.errorPrefix(e,t,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},he=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),le(e,t,n,i)},fe=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},de=function(e,t,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!te(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ne(e)}(i))throw new Error(a.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},pe=function(e,t,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(e,t,i)+"must be a boolean.")},ve=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),fe("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),fe("OnDisconnect.set",this.path_),re("OnDisconnect.set",1,e,this.path_,!1),a.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),fe("OnDisconnect.setWithPriority",this.path_),re("OnDisconnect.setWithPriority",1,e,this.path_,!1),se("OnDisconnect.setWithPriority",2,t,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,i.wrapCallback(n)),i.promise},e.prototype.update=function(e,t){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),fe("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ae("OnDisconnect.update",1,e,this.path_,!1),a.validateCallback("OnDisconnect.update",2,t,!0);var r=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,r.wrapCallback(t)),r.promise},e}(),ge=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),me=(G="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",z=0,Y=[],function(e){var t,n=e===z;z=e;var i=new Array(8);for(t=7;t>=0;t--)i[t]=G.charAt(e%64),e=Math.floor(e/64);a.assert(0===e,"Cannot push at time == 0");var r=i.join("");if(n){for(t=11;t>=0&&63===Y[t];t--)Y[t]=0;Y[t]++}else for(t=0;t<12;t++)Y[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)r+=G.charAt(Y[t]);return a.assert(20===r.length,"nextPushId: Length should be 20."),r}),ye=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),be=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new ye(N,e),i=new ye(N,t);return 0!==this.compare(n,i)},e.prototype.minPost=function(){return ye.MIN},e}(),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Q},set:function(e){Q=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return R(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return ye.MIN},t.prototype.maxPost=function(){return new ye(k,Q)},t.prototype.makePost=function(e,t){return a.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new ye(e,Q)},t.prototype.toString=function(){return".key"},t}(be),we=new _e;var Ee,Ce,Se,Te=function(e){return"number"==typeof e?"number:"+M(e):"string:"+e},Ie=function(e){if(e.isLeafNode()){var t=e.val();a.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&a.contains(t,".sv"),"Priority must be a string or number.")}else a.assert(e===X||e.isEmpty(),"priority of unexpected type.");a.assert(e===X||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ae=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,a.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ie(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ee},set:function(e){Ee=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var i=t.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(a.assert(".priority"!==i||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Te(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?M(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(a.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,i=typeof this.value_,r=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(i);return a.assert(r>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+i),r===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-r},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Ne,ke,Re=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?R(e.name,t.name):r},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return ye.MIN},t.prototype.maxPost=function(){return new ye(k,new Ae("[PRIORITY-POST]",Se))},t.prototype.makePost=function(e,t){var n=Ce(e);return new ye(t,new Ae("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(be)),xe=function(){function e(e,t,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),De=function(){function e(t,n,i,r,o){this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:Pe.EMPTY_NODE,this.right=null!=o?o:Pe.EMPTY_NODE}return e.prototype.copy=function(t,n,i,r,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var i,r;return(r=(i=n(e,(r=this).key))<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Pe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,i;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pe.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Oe=function(){function e(){}return e.prototype.copy=function(e,t,n,i,r){return this},e.prototype.insert=function(e,t,n){return new De(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Pe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,De.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,De.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,i=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new xe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new xe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new xe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new xe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Oe,e}(),Le=Math.log(2),Me=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Le,10)),this.current_=this.count-1;var n,i=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&i}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Fe=function(e,t,n,i){e.sort(t);var r=function(t,i){var o,a,s=i-t;if(0==s)return null;if(1==s)return o=e[t],a=n?n(o):o,new De(a,o.node,De.BLACK,null,null);var u=parseInt(s/2,10)+t,c=r(t,u),l=r(u+1,i);return o=e[u],a=n?n(o):o,new De(a,o.node,De.BLACK,c,l)},o=function(t){for(var i=null,o=null,a=e.length,s=function(t,i){var o=a-t,s=a;a-=t;var c=r(o+1,s),l=e[o],h=n?n(l):l;u(new De(h,l.node,i,null,c))},u=function(e){i?(i.left=e,i=e):(o=e,i=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,De.BLACK):(s(h,De.BLACK),s(h,De.RED))}return o}(new Me(e.length));return new Pe(i||t,o)},Ue={},je=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return a.assert(Ue&&Re,"ChildrenNode.ts has not been loaded"),Ne=Ne||new e({".priority":Ue},{".priority":Re})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===Ue?null:t},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){a.assert(t!==we,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],o=!1,s=n.getIterator(ye.Wrap),u=s.getNext();u;)o=o||t.isDefinedOn(u.node),r.push(u),u=s.getNext();i=o?Fe(r,t.getCompare()):Ue;var c=t.toString(),l=a.clone(this.indexSet_);l[c]=t;var h=a.clone(this.indexes_);return h[c]=i,new e(h,l)},e.prototype.addToIndexes=function(t,n){var i=this;return new e(a.map(this.indexes_,function(e,r){var o=a.safeGet(i.indexSet_,r);if(a.assert(o,"Missing index implementation for "+r),e===Ue){if(o.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(ye.Wrap),c=u.getNext();c;)c.name!=t.name&&s.push(c),c=u.getNext();return s.push(t),Fe(s,o.getCompare())}return Ue}var l=n.get(t.name),h=e;return l&&(h=h.remove(new ye(t.name,l))),h.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.indexes_,function(e){if(e===Ue)return e;var i=n.get(t.name);return i?e.remove(new ye(t.name,i)):e}),this.indexSet_)},e}();function Be(e,t){return R(e.name,t.name)}function We(e,t){return R(e,t)}var He=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ie(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return ke||(ke=new e(new Pe(We),null,je.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||ke},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ke:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var i,r=new ye(t,n),o=void 0,s=void 0;return n.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_)),i=o.isEmpty()?ke:this.priorityNode_,new e(o,i,s)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;a.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(Re,function(a,s){n[a]=s.val(t),i++,o&&e.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!t&&o&&r<2*i){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Te(this.getPriority().val())+":"),this.forEachChild(Re,function(t,n){var i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new ye(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new ye(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new ye(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var i=this.children_.getIteratorFrom(e.name,ye.Wrap),r=i.peek();null!=r&&t.compare(r,e)<0;)i.getNext(),r=i.peek();return i},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var i=this.children_.getReverseIteratorFrom(e.name,ye.Wrap),r=i.peek();null!=r&&t.compare(r,e)>0;)i.getNext(),r=i.peek();return i},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ve?-1:0},e.prototype.withIndex=function(t){if(t===we||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===we||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Re),i=t.getIterator(Re),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===we?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ve=new(function(e){function t(){return e.call(this,new Pe(We),He.EMPTY_NODE,je.Default)||this}return u.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return He.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(He));Object.defineProperties(ye,{MIN:{value:new ye(N,He.EMPTY_NODE)},MAX:{value:new ye(k,Ve)}}),_e.__EMPTY_NODE=He.EMPTY_NODE,Ae.__childrenNodeConstructor=He,X=Ve,function(e){Se=e}(Ve);var qe=!0;function Ke(e,t){if(void 0===t&&(t=null),null===e)return He.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),a.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ae(e,Ke(t));if(e instanceof Array||!qe){var n=He.EMPTY_NODE,i=e;return a.forEach(i,function(e,t){if(a.contains(i,e)&&"."!==e.substring(0,1)){var r=Ke(t);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}}),n.updatePriority(Ke(t))}var r=[],o=!1,s=e;if(a.forEach(s,function(e,t){if("string"!=typeof e||"."!==e.substring(0,1)){var n=Ke(s[e]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new ye(e,n)))}}),0==r.length)return He.EMPTY_NODE;var u=Fe(r,Be,function(e){return e.name},We);if(o){var c=Fe(r,Re.getCompare());return new He(u,Ke(t),new je({".priority":c},{".priority":Re}))}return new He(u,Ke(t),je.Default)}!function(e){Ce=e}(Ke);var Ge,ze,Ye=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?R(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return ye.MIN},t.prototype.maxPost=function(){return ye.MAX},t.prototype.makePost=function(e,t){var n=Ke(e);return new ye(t,n)},t.prototype.toString=function(){return".value"},t}(be)),Qe=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,a.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return u.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?R(e.name,t.name):r},t.prototype.makePost=function(e,t){var n=Ke(e),i=He.EMPTY_NODE.updateChild(this.indexPath_,n);return new ye(t,i)},t.prototype.maxPost=function(){var e=He.EMPTY_NODE.updateChild(this.indexPath_,Ve);return new ye(k,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(be),Xe=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),le("DataSnapshot.child",1,t,!1);var n=new H(t),i=this.ref_.child(n);return new e(this.node_.getChild(n),i,Re)},e.prototype.hasChild=function(e){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),le("DataSnapshot.hasChild",1,e,!1);var t=new H(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,function(i,r){return t(new e(r,n.ref_.child(i),Re))})},e.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),$e=function(){function e(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},e}(),Je=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ze=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new $e("value",this,new Xe(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var i=this.callback_;return function(){i.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Je(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),et=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,a.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Je(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),i=t.getQueryParams().getIndex();return new $e(e.type,this,new Xe(e.snapshotNode,n,i),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var i=this.callbacks_[e.eventType];return function(){i.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=a.getCount(t.callbacks_);if(n===a.getCount(this.callbacks_)){if(1===n){var i=a.getAnyKey(t.callbacks_),r=a.getAnyKey(this.callbacks_);return!(r!==i||t.callbacks_[i]&&this.callbacks_[r]&&t.callbacks_[i]!==this.callbacks_[r])}return a.every(this.callbacks_,function(e,n){return t.callbacks_[e]===n})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),tt=function(){function e(e,t,n,i){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(Ge,"Reference.ts has not been loaded"),Ge},set:function(e){Ge=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===we){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=N)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!=k)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(e.getIndex()===Re){if(null!=t&&!ie(t)||null!=n&&!ie(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(e.getIndex()instanceof Qe||e.getIndex()===Ye,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,i,r){a.validateArgCount("Query.on",2,4,arguments.length),ue("Query.on",1,t,!1),a.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",i,r);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[t]=n,this.onChildEvent(s,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var i=new Ze(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,i)},e.prototype.onChildEvent=function(e,t,n){var i=new et(e,t,n);this.repo.addEventCallbackForQuery(this,i)},e.prototype.off=function(e,t,n){a.validateArgCount("Query.off",0,3,arguments.length),ue("Query.off",1,e,!0),a.validateCallback("Query.off",2,t,!0),a.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===e){var o=t||null;i=new Ze(o,null,n||null)}else e&&(t&&((r={})[e]=t),i=new et(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},e.prototype.once=function(t,n,i,r){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),ue("Query.once",1,t,!1),a.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",i,r),u=!0,c=new a.Deferred;c.promise.catch(function(){});var l=function(e){u&&(u=!1,o.off(t,l),n&&n.bind(s.context)(e),c.resolve(e))};return this.on(t,l,function(e){o.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)}),c.promise},e.prototype.limitToFirst=function(t){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');le("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new H(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new Qe(n),r=this.queryParams_.orderBy(i);return e.validateQueryEndpoints_(r),new e(this.repo,this.path,r,!0)},e.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(we);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Re);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Ye);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.startAt",0,2,arguments.length),re("Query.startAt",1,t,this.path,!0),ce("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(t,n);if(e.validateLimit_(i),e.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,i,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.endAt",0,2,arguments.length),re("Query.endAt",1,t,this.path,!0),ce("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(t,n);if(e.validateLimit_(i),e.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,i,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),re("Query.equalTo",1,e,this.path,!1),ce("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=O(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===t.repo,r=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return i&&r&&o},e.getCancelAndContextArgs_=function(e,t,n){var i={cancel:null,context:null};if(t&&n)i.cancel=t,a.validateCallback(e,3,i.cancel,!0),i.context=n,a.validateContextObject(e,4,i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error(a.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");i.cancel=t}return i},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),nt=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return a.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return a.isEmpty(this.set)},e.prototype.count=function(){return a.getCount(this.set)},e.prototype.each=function(e){a.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return a.forEach(this.set,function(t){e.push(t)}),e},e}(),it=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();return e=e.popFront(),this.children_.contains(t)?this.children_.get(t).find(e):null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new nt);var i=t.getFront();this.children_.contains(i)||this.children_.add(i,new e);var r=this.children_.get(i);t=t.popFront(),r.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(Re,function(e,t){n.remember(new H(e),t)}),this.forget(e)}if(null!==this.children_){var i=e.getFront();if(e=e.popFront(),this.children_.contains(i))this.children_.get(i).forget(e)&&this.children_.remove(i);return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,i){var r=new H(e.toString()+"/"+n);i.forEachTree(r,t)})},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},e}(),rt=function(e,t){return e&&"object"==typeof e?(a.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},ot=function(e,t){var n,i=e.getPriority().val(),r=rt(i,t);if(e.isLeafNode()){var o=e,a=rt(o.getValue(),t);return a!==o.getValue()||r!==o.getPriority().val()?new Ae(a,Ke(r)):e}var s=e;return n=s,r!==s.getPriority().val()&&(n=n.updatePriority(new Ae(r))),s.forEachChild(Re,function(e,i){var r=ot(i,t);r!==i&&(n=n.updateImmediateChild(e,r))}),n};!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ze||(ze={}));var at,st,ut=function(){function e(e,t,n,i){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=i,a.assert(!i||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),ct=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ze.ACK_USER_WRITE,this.source=ut.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new H(t));return new e(H.Empty,n,this.revert)}return a.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),lt=function(){return at||(at=new Pe(x)),at},ht=function(){function e(e,t){void 0===t&&(t=lt()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return a.forEach(t,function(e,t){n=n.set(new H(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:H.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=r?{path:new H(n).child(r.path),value:r.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),i=this.children.get(n);return null!==i?i.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var i=t.getFront(),r=(this.children.get(i)||e.Empty).set(t.popFront(),n),o=this.children.insert(i,r);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),i=this.children.get(n);if(i){var r=i.remove(t.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var i=t.getFront(),r=(this.children.get(i)||e.Empty).setTree(t.popFront(),n),o=void 0;return o=r.isEmpty()?this.children.remove(i):this.children.insert(i,r),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(H.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(e.child(i),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,H.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var i=!!this.value&&n(t,this.value);if(i)return i;if(e.isEmpty())return null;var r=e.getFront(),o=this.children.get(r);return o?o.findOnPath_(e.popFront(),t.child(r),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,H.Empty,t)},e.prototype.foreachOnPath_=function(t,n,i){if(t.isEmpty())return this;this.value&&i(n,this.value);var r=t.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(t.popFront(),n.child(r),i):e.Empty},e.prototype.foreach=function(e){this.foreach_(H.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,i){i.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}(),ft=function(){function e(e,t){this.source=e,this.path=t,this.type=ze.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,H.Empty):new e(this.source,this.path.popFront())},e}(),dt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ze.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,H.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),pt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ze.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new H(t));return n.isEmpty()?null:n.value?new dt(this.source,H.Empty,n.value):new e(this.source,H.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),vt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),gt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,i){return new e(new vt(t,n,i),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,i){return new e(this.eventCache_,new vt(t,n,i))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new vt(He.EMPTY_NODE,!1,!1),new vt(He.EMPTY_NODE,!1,!1)),e}(),mt=function(){function e(e,t,n,i,r){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=i,this.prevName=r}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,i){return new e(e.CHILD_CHANGED,n,t,i)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),yt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,i,r,o){a.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()==n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(mt.childRemovedChange(t,s)):a.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(mt.childAddedChange(t,n)):o.trackChildChange(mt.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Re,function(e,i){t.hasChild(e)||n.trackChildChange(mt.childRemovedChange(e,i))}),t.isLeafNode()||t.forEachChild(Re,function(t,i){if(e.hasChild(t)){var r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(mt.childChangedChange(t,i,r))}else n.trackChildChange(mt.childAddedChange(t,i))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?He.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),bt=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;a.assert(t==mt.CHILD_ADDED||t==mt.CHILD_CHANGED||t==mt.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=a.safeGet(this.changeMap_,n);if(i){var r=i.type;if(t==mt.CHILD_ADDED&&r==mt.CHILD_REMOVED)this.changeMap_[n]=mt.childChangedChange(n,e.snapshotNode,i.snapshotNode);else if(t==mt.CHILD_REMOVED&&r==mt.CHILD_ADDED)delete this.changeMap_[n];else if(t==mt.CHILD_REMOVED&&r==mt.CHILD_CHANGED)this.changeMap_[n]=mt.childRemovedChange(n,i.oldSnap);else if(t==mt.CHILD_CHANGED&&r==mt.CHILD_ADDED)this.changeMap_[n]=mt.childAddedChange(n,e.snapshotNode);else{if(t!=mt.CHILD_CHANGED||r!=mt.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap_[n]=mt.childChangedChange(n,e.snapshotNode,i.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return a.getValues(this.changeMap_)},e}(),_t=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),wt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new vt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,t,1,n,e);return 0===r.length?null:r[0]},e}(),Et=function(e,t){this.viewCache=e,this.changes=t},Ct=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){a.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,i,r){var o,s,u=new bt;if(n.type===ze.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(t,c.path,c.snap,i,r,u):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(t,c.path,c.snap,i,r,s,u))}else if(n.type===ze.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(t,l.path,l.children,i,r,u):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,l.path,l.children,i,r,s,u))}else if(n.type===ze.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(t,h.path,i,r,u):this.ackUserWrite_(t,h.path,h.affectedTree,i,r,u)}else{if(n.type!==ze.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,i,u)}var f=u.getChanges();return e.maybeAddValueEvent_(t,o,f),new Et(o,f)},e.maybeAddValueEvent_=function(e,t,n){var i=t.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(mt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,i,r){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s=void 0,u=void 0;if(t.isEmpty())if(a.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),l=c instanceof He?c:He.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(e.getEventCache().getNode(),h,r)}else{var f=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),f,r)}else{var d=t.getFront();if(".priority"==d){a.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=o.getNode();u=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,p,u);s=null!=v?this.filter_.updatePriority(p,v):o.getNode()}else{var g=t.popFront(),m=void 0;if(o.isCompleteForChild(d)){u=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),u);m=null!=y?o.getNode().getImmediateChild(d).updateChild(g,y):o.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,e.getServerCache());s=null!=m?this.filter_.updateChild(o.getNode(),d,m,g,i,r):o.getNode()}}return e.updateEventSnap(s,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,i,r,o,a){var s,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var f=t.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"==h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,_t,null)}var p=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),v=new wt(i,p,r);return this.generateEventCacheAfterServerEvent_(p,t,i,v,a)},e.prototype.applyUserOverwrite_=function(e,t,n,i,r,o){var a,s,u=e.getEventCache(),c=new wt(i,e,r);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=t.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):He.EMPTY_NODE}if(f.equals(d))a=e;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);a=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,i,r,o,a){var s=this,u=t;return i.foreach(function(i,c){var l=n.child(i);e.cacheHasChild_(t,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,r,o,a))}),i.foreach(function(i,c){var l=n.child(i);e.cacheHasChild_(t,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,r,o,a))}),u},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,i,r,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:ht.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new H(t),h,i,r,o,a)}}),u.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new H(t),f,i,r,o,a)}}),c},e.prototype.ackUserWrite_=function(e,t,n,i,r,o){if(null!=i.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),i,r,a,o);if(t.isEmpty()){var u=ht.Empty;return s.getNode().forEachChild(we,function(e,t){u=u.set(new H(e),t)}),this.applyServerMerge_(e,t,u,i,r,a,o)}return e}var c=ht.Empty;return n.foreach(function(e,n){var i=t.child(e);s.isCompleteForPath(i)&&(c=c.set(e,s.getNode().getChild(i)))}),this.applyServerMerge_(e,t,c,i,r,a,o)},e.prototype.listenComplete_=function(e,t,n,i){var r=e.getServerCache(),o=e.updateServerSnap(r.getNode(),r.isFullyInitialized()||t.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,_t,i)},e.prototype.revertUserWrite_=function(e,t,n,i,r){var o;if(null!=n.shadowingWrite(t))return e;var s=new wt(n,e,i),u=e.getEventCache().getNode(),c=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();a.assert(h instanceof He,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,c=this.filter_.updateFullNode(u,l,r)}else{var f=t.getFront(),d=n.calcCompleteChild(f,e.getServerCache());null==d&&e.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,t.popFront(),s,r):e.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,He.EMPTY_NODE,t.popFront(),s,r):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,r))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(H.Empty),e.updateEventSnap(c,o,this.filter_.filtersNodes())},e}(),St=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var i=this,r=[],o=[];return e.forEach(function(e){e.type===mt.CHILD_CHANGED&&i.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(mt.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(r,mt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(r,mt.CHILD_ADDED,e,n,t),this.generateEventsForType_(r,mt.CHILD_MOVED,o,n,t),this.generateEventsForType_(r,mt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(r,mt.VALUE,e,n,t),r},e.prototype.generateEventsForType_=function(e,t,n,i,r){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var n=o.materializeSingleChange_(t,r);i.forEach(function(i){i.respondsTo(t.type)&&e.push(i.createEvent(n,o.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw a.assertionError("Should only compare child_ events.");var n=new ye(e.childName,e.snapshotNode),i=new ye(t.childName,t.snapshotNode);return this.index_.compare(n,i)},e}(),Tt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new yt(n.getIndex()),r=n.getNodeFilter();this.processor_=new Ct(r);var o=t.getServerCache(),a=t.getEventCache(),s=i.updateFullNode(He.EMPTY_NODE,o.getNode(),null),u=r.updateFullNode(He.EMPTY_NODE,a.getNode(),null),c=new vt(s,o.isFullyInitialized(),i.filtersNodes()),l=new vt(u,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=new gt(l,c),this.eventGenerator_=new St(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){a.assert(null==e,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var r=e.createCancelEvent(t,i);r&&n.push(r)})}if(e){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(s)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===ze.MERGE&&null!==e.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,e,t,n);return this.processor_.assertIndexed(r.viewCache),a.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];t.getNode().isLeafNode()||t.getNode().forEachChild(Re,function(e,t){n.push(mt.childAddedChange(e,t))});return t.isFullyInitialized()&&n.push(mt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var i=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,i)},e}(),It=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(st,"Reference.ts has not been loaded"),st},set:function(e){a.assert(!st,"__referenceConstructor has already been defined"),st=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return a.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var i=e.source.queryId;if(null!==i){var r=a.safeGet(this.views_,i);return a.assert(null!=r,"SyncTree gave us an op for an invalid query."),r.applyOperation(e,t,n)}var o=[];return a.forEach(this.views_,function(i,r){o=o.concat(r.applyOperation(e,t,n))}),o},e.prototype.addEventRegistration=function(e,t,n,i,r){var o=e.queryIdentifier(),s=a.safeGet(this.views_,o);if(!s){var u=n.calcCompleteEventCache(r?i:null),c=!1;u?c=!0:i instanceof He?(u=n.calcCompleteEventChildren(i),c=!1):(u=He.EMPTY_NODE,c=!1);var l=new gt(new vt(u,c,!1),new vt(i,r,!1));s=new Tt(e,l),this.views_[o]=s}return s.addEventRegistration(t),s.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,i){var r=t.queryIdentifier(),o=[],s=[],u=this.hasCompleteView();if("default"===r){var c=this;a.forEach(this.views_,function(e,t){s=s.concat(t.removeEventRegistration(n,i)),t.isEmpty()&&(delete c.views_[e],t.getQuery().getQueryParams().loadsAllData()||o.push(t.getQuery()))})}else{var l=a.safeGet(this.views_,r);l&&(s=s.concat(l.removeEventRegistration(n,i)),l.isEmpty()&&(delete this.views_[r],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new e.__referenceConstructor(t.repo,t.path)),{removed:o,events:s}},e.prototype.getQueryViews=function(){var e=this;return Object.keys(this.views_).map(function(t){return e.views_[t]}).filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return a.forEach(this.views_,function(n,i){t=t||i.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return a.safeGet(this.views_,t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){return a.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()})||null},e}(),At=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new ht(n));var i=this.writeTree_.findRootMostValueAndPath(t);if(null!=i){var r=i.path,o=i.value,a=H.relativePath(r,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(r,o))}var s=new ht(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return a.forEach(t,function(t,i){n=n.addWrite(e.child(t),i)}),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,ht.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(H.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Re,function(t,n){e.push(new ye(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new ye(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new ht(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(H.Empty,this.writeTree_,t)},e.Empty=new e(new ht(null)),e.applySubtreeWrite_=function(t,n,i){if(null!=n.value)return i.updateChild(t,n.value);var r=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):i=e.applySubtreeWrite_(t.child(n),o,i)}),i.getChild(t).isEmpty()||null===r||(i=i.updateChild(t.child(".priority"),r)),i},e}(),Nt=function(){function e(){this.visibleWrites_=At.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new kt(e,this)},e.prototype.addOverwrite=function(e,t,n,i){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});a.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,o=!1,s=this.allWrites_.length-1;r&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,i.path)?r=!1:i.path.contains(u.path)&&(o=!0)),s--}if(r){if(o)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(i.path);else{var c=i.children;a.forEach(c,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(i.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,i,r){if(i||r){var o=this.visibleWrites_.childCompoundWrite(t);if(!r&&o.isEmpty())return n;if(r||null!=n||o.hasCompleteWrite(H.Empty)){var a=e.layerTree_(this.allWrites_,function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},t);c=n||He.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(t);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(H.Empty)){var c=n||He.EMPTY_NODE;return u.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=He.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(e);if(i)return i.isLeafNode()||i.forEachChild(Re,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var r=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Re,function(e,t){var i=r.childCompoundWrite(new H(e)).apply(t);n=n.updateImmediateChild(e,i)}),r.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,i){a.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=e.child(t);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?i.getChild(t):o.apply(i.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var i=e.child(t),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,i,r,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(H.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=r?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<i;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!a.findKey(e.children,function(n,i){return e.path.child(i).contains(t)})},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,H.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var i=At.Empty,r=0;r<e.length;++r){var o=e[r];if(t(o)){var s=o.path,u=void 0;if(o.snap)n.contains(s)?(u=H.relativePath(n,s),i=i.addWrite(u,o.snap)):s.contains(n)&&(u=H.relativePath(s,n),i=i.addWrite(H.Empty,o.snap.getChild(u)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=H.relativePath(n,s),i=i.addWrites(u,o.children);else if(s.contains(n))if((u=H.relativePath(s,n)).isEmpty())i=i.addWrites(H.Empty,o.children);else{var c=a.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());i=i.addWrite(H.Empty,l)}}}}}return i},e}(),kt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,i,r)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Rt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=ht.Empty,this.pendingWriteTree_=new Nt,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,i){return this.pendingWriteTree_.addOverwrite(e,t,n,i),i?this.applyOperationToSyncPoints_(new dt(ut.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var i=ht.fromObject(t);return this.applyOperationToSyncPoints_(new pt(ut.User,e,i))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var i=ht.Empty;return null!=n.snap?i=i.set(H.Empty,!0):a.forEach(n.children,function(e,t){i=i.set(new H(e),t)}),this.applyOperationToSyncPoints_(new ct(n.path,i,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new dt(ut.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=ht.fromObject(t);return this.applyOperationToSyncPoints_(new pt(ut.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new ft(ut.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var o=e.parseQueryKey_(r),a=o.path,s=o.queryId,u=H.relativePath(a,t),c=new dt(ut.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,i){var r=this.queryKeyForTag_(i);if(r){var o=e.parseQueryKey_(r),a=o.path,s=o.queryId,u=H.relativePath(a,t),c=ht.fromObject(n),l=new pt(ut.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var i=this.queryKeyForTag_(n);if(i){var r=e.parseQueryKey_(i),o=r.path,a=r.queryId,s=H.relativePath(o,t),u=new ft(ut.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var i=t.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(i,function(e,t){var n=H.relativePath(e,i);r=r||t.getCompleteServerCache(n),o=o||t.hasCompleteView()});var s,u=this.syncPointTree_.get(i);(u?(o=o||u.hasCompleteView(),r=r||u.getCompleteServerCache(H.Empty)):(u=new It,this.syncPointTree_=this.syncPointTree_.set(i,u)),null!=r)?s=!0:(s=!1,r=He.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild(function(e,t){var n=t.getCompleteServerCache(H.Empty);n&&(r=r.updateImmediateChild(e,n))}));var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);a.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap_[l]=h,this.tagToQueryMap_["_"+h]=l}var f=this.pendingWriteTree_.childWrites(i),d=u.addEventRegistration(t,n,f,r,s);if(!c&&!o){var p=u.viewForQuery(t);d=d.concat(this.setupListener_(t,p))}return d},e.prototype.removeEventRegistration=function(t,n,i){var r=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,i);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(e){return e.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],g=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(g),this.tagForQuery_(g),m.hashFn,m.onComplete)}}if(!h&&c.length>0&&!i)if(l){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else c.forEach(function(t){var n=r.queryToTagMap_[e.makeQueryKey_(t)];r.listenProvider_.stopListening(e.queryForListening_(t),n)});this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(e,function(t,n){var i=H.relativePath(t,e),r=n.getCompleteServerCache(i);if(r)return r});return n.calcCompleteEventCache(e,i,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var i=[];return t&&(i=t.getQueryViews()),a.forEach(n,function(e,t){i=i.concat(t)}),i})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var i=t[n];if(!i.getQueryParams().loadsAllData()){var r=e.makeQueryKey_(i),o=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+o]}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var i=t.path,r=this.tagForQuery_(t),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),r,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(i);if(r)a.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var i=[];return t&&(i=i.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),a.forEach(n,function(e,t){i=i.concat(t)}),i}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||He.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return i?t.applyTaggedListenComplete(n.path,i):t.applyListenComplete(n.path);var r=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var i=new Error(e+" at "+t.path.toString()+": "+n);return i.code=e.toUpperCase(),i}(e,n);return t.removeEventRegistration(n,null,r)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return a.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new H(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return a.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);a.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,i,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(H.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,i){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,i);var r=t.get(H.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(H.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=i.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return r&&(o=o.concat(r.applyOperation(e,i,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,i){var r=this,o=t.get(H.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(H.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,u=i.child(t),c=e.operationForChild(t);c&&(a=a.concat(r.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(e,i,n))),a},e.nextQueryTag_=1,e}(),xt=function(){function e(){this.rootNode_=He.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Dt=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(e)},e}(),Ot=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),a.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return a.deepCopy(this.counters_)},e}(),Pt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Ot),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Lt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=a.clone(e);return this.last_&&a.forEach(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),Mt=1e4,Ft=3e4,Ut=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lt(e);var n=Mt+(Ft-Mt)*Math.random();W(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},i=!1;a.forEach(t,function(t,r){r>0&&a.contains(e.statsToReport_,t)&&(n[t]=r,i=!0)}),i&&this.server_.reportStats(n),W(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),jt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var i=e[n],r=i.getPath();null===t||r.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Bt(r)),t.add(i)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];if(i)e(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Bt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();b&&E("event: "+t.toString()),j(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Wt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},a.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var i=this.listeners_[e].slice(),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var i=this.getInitialEvent(e);i&&t.apply(n,i)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var i=this.listeners_[e]||[],r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)},e.prototype.validateEventType_=function(e){a.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),Ht=function(e){function t(){var t,n,i=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==i.visible_&&(i.visible_=e,i.trigger("visible",e))},!1),i}return u.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Wt),Vt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return u.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Wt),qt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var i=function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=function(t){e[t]&&j(function(){n.onMessage_(e[t])})},i=0;i<e.length;++i)t(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum];){if("break"===i())break}},e}(),Kt="pLPCommand",Gt="pRTLPCB",zt=function(){function e(e,t,n,i){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=Pt.getCollection(t),this.urlFn=function(e){return t.connectionURL(q,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new qt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(a.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Yt(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=e[1],o=e[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=r,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);r?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(r,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=e[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,r)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!a.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=a.base64Encode(t),i=P(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=a.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Yt=function(){function e(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new nt,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window[Kt+this.uniqueCallbackIdentifier]=t,window[Gt+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){E("frame writing exception"),e.stack&&E(e.stack),E(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var t=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0))),a.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var i=this.urlFn(n);e.nodeRestRequest(i)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var i=function(){n.outstandingRequests.remove(t),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,function(){clearTimeout(r),i()})},e.prototype.addTag=function(e,t){var n=this;a.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(e){}},Math.floor(1))},e}(),Qt=null;"undefined"!=typeof MozWebSocket?Qt=MozWebSocket:"undefined"!=typeof WebSocket&&(Qt=WebSocket);var Xt=function(){function e(t,n,i,r){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Pt.getCollection(n),this.connURL=e.connectionURL_(n,i,r)}return e.connectionURL_=function(e,t,n){var i={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),e.connectionURL("websocket",i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var r=a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+c.SDK_VERSION+"/"+i.platform+"/"+r}},s=i.env,u=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new Qt(this.connURL,[],o)}else this.mySock=new Qt(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var l=e.message||e.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Qt&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=a.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(a.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),$t=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[zt,Xt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=Xt&&Xt.isAvailable(),i=n&&!Xt.previouslyFailed();if(t.webSocketOnly&&(n||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Xt];else{var r=this.transports_=[];L(e.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&r.push(t)})}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Jt=function(){function e(e,t,n,i,r,o,a){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new $t(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,i)},Math.floor(0));var r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=W(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(r)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),W(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):W(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Zt=function(){function e(){}return e.prototype.put=function(e,t,n,i){},e.prototype.merge=function(e,t,n,i){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),en=1e3,tn=3e5,nn=function(e){function t(n,i,r,o,s,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=i,c.onConnectStatus_=r,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=C("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=en,c.maxReconnectDelay_=tn,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Ht.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Vt.getInstance().on("online",c.onOnline_,c),c}return u.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(a.stringify(r)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},t.prototype.listen=function(e,t,n,i){var r=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+r),this.listens_[o]=this.listens_[o]||{},a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens_[o][r],"listen() called twice for same path/queryId.");var s={onComplete:i,hashFn:t,query:e,tag:n};this.listens_[o][r]=s,this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,i=e.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var a={p:r};e.tag&&(a.q=i.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,i),(n.listens_[r]&&n.listens_[r][o])===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(r,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&a.contains(e,"w")){var n=a.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',r=t.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||a.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=a.isValidFormat(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";e.authToken_===t&&("ok"===i?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(i,r))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),i=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);var r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,i){var r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,i){this.putInternal("p",e,t,n,i)},t.prototype.merge=function(e,t,n,i){this.putInternal("m",e,t,n,i)},t.prototype.putInternal=function(e,t,n,i,r){var o={p:t,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,function(i){t.log_(n+" response",i),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),r&&r(i.s,i.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=en,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=en,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=en),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+t.nextConnectionId_++,o=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())};this.realtime_={close:l,sendRequest:function(e){a.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(t){u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,c=new Jt(r,o.repoInfo_,e,n,i,function(e){I(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},s))}).then(null,function(e){o.log_("Failed to get token: "+e),u||(a.CONSTANTS.NODE_ADMIN&&I(e),l())})}},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=en,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return O(e)}).join("$"):"default";var i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,i=new H(e).toString();return void 0!==this.listens_[i]?(n=this.listens_[i][t],delete this.listens_[i][t],0===a.getCount(this.listens_[i])&&delete this.listens_[i]):n=void 0,n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),a.forEach(this.listens_,function(t,n){a.forEach(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";a.CONSTANTS.NODE_ADMIN?t="admin_node":a.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+c.SDK_VERSION.replace(/\./g,"-")]=1,a.isMobileCordova()?e["framework.cordova"]=1:a.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Vt.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Zt),rn=function(e){function t(t,n,i){var r=e.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=C("p:rest:"),r.listens_={},r}return u.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(a.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,i,r){var o=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,i),c={};this.listens_[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,i),a.safeGet(o.listens_,u)===c)&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},t.prototype.unlisten=function(e,n){var i=t.getListenId_(e,n);delete this.listens_[i]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var i=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var o=r&&r.accessToken;o&&(t.auth=o);var s=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+e+"?"+a.querystring(t);i.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){i.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=a.jsonEval(u.responseText)}catch(e){I("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&I("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()})},t}(Zt),on=function(){function e(e,t,n){var i=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new it,this.persistentConnection_=null;var r=new Dt(n);if(this.stats_=Pt.getCollection(e),t||B())this.server_=new rn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new nn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(e){i.server_.refreshAuthToken(e)}),this.statsReporter_=Pt.getOrCreateReporter(e,function(){return new Ut(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new xt,this.infoSyncTree_=new Rt({startListening:function(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Rt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new H(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,i){this.dataUpdateCount++;var r=new H(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(i)if(n){var s=a.map(t,function(e){return Ke(e)});o=this.serverSyncTree_.applyTaggedQueryMerge(r,s,i)}else{var u=Ke(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,u,i)}else if(n){var c=a.map(t,function(e){return Ke(e)});o=this.serverSyncTree_.applyServerMerge(r,c)}else{var l=Ke(t);o=this.serverSyncTree_.applyServerOverwrite(r,l)}var h=r;o.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;L(e,function(e,n){t.updateInfo_(n,e)})},e.prototype.updateInfo_=function(e,t){var n=new H("/.info/"+e),i=Ke(t);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,i){var r=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=Ke(t,n),s=ot(a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(e,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(e.toString(),a.val(!0),function(t,n){var o="ok"===t;o||I("set at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(u,!o);r.eventQueue_.raiseEventsForChangedPath(e,a),r.callOnCompleteCallback(i,t,n)});var l=this.abortTransactions_(e);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},e.prototype.update=function(e,t,n){var i=this;this.log_("update",{path:e.toString(),value:t});var r=!0,o=this.generateServerValues(),s={};if(a.forEach(t,function(e,t){r=!1;var n=Ke(t);s[e]=ot(n,o)}),r)E("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(e,s,u);this.eventQueue_.queueEvents(c),this.server_.merge(e.toString(),t,function(t,r){var o="ok"===t;o||I("update at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?i.rerunTransactions_(e):e;i.eventQueue_.raiseEventsForChangedPath(s,a),i.callOnCompleteCallback(n,t,r)}),a.forEach(t,function(t){var n=i.abortTransactions_(e.child(t));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=function(e,t){var n=new it;return e.forEachTree(new H(""),function(e,i){n.remember(e,ot(i,t))}),n}(this.onDisconnect_,t),i=[];n.forEachTree(H.Empty,function(t,n){i=i.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var r=e.abortTransactions_(t);e.rerunTransactions_(r)}),this.onDisconnect_=new it,this.eventQueue_.raiseEventsForChangedPath(H.Empty,i)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(i,r){"ok"===i&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,i,r)})},e.prototype.onDisconnectSet=function(e,t,n){var i=this,r=Ke(t);this.server_.onDisconnectPut(e.toString(),r.val(!0),function(t,o){"ok"===t&&i.onDisconnect_.remember(e,r),i.callOnCompleteCallback(n,t,o)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,i){var r=this,o=Ke(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,n){"ok"===t&&r.onDisconnect_.remember(e,o),r.callOnCompleteCallback(i,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var i=this;if(a.isEmpty(t))return E("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(r,o){"ok"===r&&a.forEach(t,function(t,n){var r=Ke(n);i.onDisconnect_.remember(e.child(t),r)}),i.callOnCompleteCallback(n,r,o)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Lt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);a.forEach(t,function(e,t){for(var i=e.length;i<n+2;i++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),E.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&j(function(){if("ok"==t)e(null);else{var i=(t||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new vn(this))},enumerable:!0,configurable:!0}),e}(),an=function(){function e(t){this.indexedFilter_=new yt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,i,r,o){return this.matches(new ye(t,n))||(n=He.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=He.EMPTY_NODE);var i=t.withIndex(this.index_);i=i.updatePriority(He.EMPTY_NODE);var r=this;return t.forEachChild(Re,function(e,t){r.matches(new ye(e,t))||(i=i.updateImmediateChild(e,He.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),sn=function(){function e(e){this.rangedFilter_=new an(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,i,r,o){return this.rangedFilter_.matches(new ye(t,n))||(n=He.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,o):this.fullLimitUpdateChild_(e,t,n,r,o)},e.prototype.updateFullNode=function(e,t,n){var i;if(t.isLeafNode()||t.isEmpty())i=He.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){i=He.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var a=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(a.name,a.node),o++}}else{i=(i=t.withIndex(this.index_)).updatePriority(He.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;r=void 0;if(this.reverse_){r=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else r=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();){a=r.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:i=i.updateImmediateChild(a.name,He.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,i,r){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var u=e;a.assert(u.numChildren()==this.limit_,"");var c=new ye(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=i.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name==t||u.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=r&&r.trackChildChange(mt.childChangedChange(t,n,f)),u.updateImmediateChild(t,n);null!=r&&r.trackChildChange(mt.childRemovedChange(t,f));var v=u.updateImmediateChild(t,He.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=r&&r.trackChildChange(mt.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&o(l,c)>=0?(null!=r&&(r.trackChildChange(mt.childRemovedChange(l.name,l.node)),r.trackChildChange(mt.childAddedChange(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,He.EMPTY_NODE)):e},e}(),un=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:k},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=i}return this.index_!==Re&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Re},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new yt(this.getIndex()):this.hasLimit()?new sn(this):new an(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===Re?t=n.PRIORITY_INDEX:this.index_===Ye?t=n.VALUE_INDEX:this.index_===we?t=n.KEY_INDEX:(a.assert(this.index_ instanceof Qe,"Unrecognized index type!"),t=this.index_.toString()),i[n.ORDER_BY]=a.stringify(t),this.startSet_&&(i[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_),i)},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),cn=function(e){function t(t,n){if(!(t instanceof on))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,un.DEFAULT,!1)||this}return u.__extends(t,e),t.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof H||(null===this.path.getFront()?he("Reference.child",1,e,!1):le("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){a.validateArgCount("Reference.set",1,2,arguments.length),fe("Reference.set",this.path),re("Reference.set",1,e,this.path,!1),a.validateCallback("Reference.set",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(a.validateArgCount("Reference.update",1,2,arguments.length),fe("Reference.update",this.path),Array.isArray(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ae("Reference.update",1,e,this.path,!1),a.validateCallback("Reference.update",2,t,!0);var r=new a.Deferred;return this.repo.update(this.path,e,r.wrapCallback(t)),r.promise},t.prototype.setWithPriority=function(e,t,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),fe("Reference.setWithPriority",this.path),re("Reference.setWithPriority",1,e,this.path,!1),se("Reference.setWithPriority",2,t,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new a.Deferred;return this.repo.setWithPriority(this.path,e,t,i.wrapCallback(n)),i.promise},t.prototype.remove=function(e){return a.validateArgCount("Reference.remove",0,1,arguments.length),fe("Reference.remove",this.path),a.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),fe("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,e,!1),a.validateCallback("Reference.transaction",2,t,!0),pe("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new a.Deferred;"function"==typeof t&&i.promise.catch(function(){});var r=function(e,n,r){e?i.reject(e):i.resolve(new ge(n,r)),"function"==typeof t&&t(e,n,r)};return this.repo.startTransaction(this.path,e,r,n),i.promise},t.prototype.setPriority=function(e,t){a.validateArgCount("Reference.setPriority",1,2,arguments.length),fe("Reference.setPriority",this.path),se("Reference.setPriority",1,e,!1),a.validateCallback("Reference.setPriority",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){a.validateArgCount("Reference.push",0,2,arguments.length),fe("Reference.push",this.path),re("Reference.push",1,e,this.path,!0),a.validateCallback("Reference.push",2,t,!0);var n,i=this.repo.serverTime(),r=me(i),o=this.child(r),s=this.child(r);return n=null!=e?o.set(e,t).then(function(){return s}):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),o},t.prototype.onDisconnect=function(){return fe("Reference.onDisconnect",this.path),new ve(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(tt);tt.__referenceConstructor=cn,It.__referenceConstructor=cn;var ln,hn=function(){this.children={},this.childCount=0,this.value=null},fn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new hn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,i=t instanceof H?t:new H(t),r=this;null!==(n=i.getFront());){r=new e(n,r,a.safeGet(r.node_.children,n)||new hn),i=i.popFront()}return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){a.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;a.forEach(this.node_.children,function(i,r){t(new e(i,n,r))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new H(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),i=a.contains(this.node_.children,e);n&&i?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(ln||(ln={})),on.MAX_TRANSACTION_RETRIES_=25,on.prototype.transactions_init_=function(){this.transactionQueueTree_=new fn},on.prototype.startTransaction=function(e,t,n,i){this.log_("transaction on "+e);var r=function(){},o=new cn(this,e);o.on("value",r);var s={path:e,update:t,onComplete:n,status:null,order:g(),applyLocally:i,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new Xe(s.currentInputSnapshot,new cn(this,s.path),Re);s.onComplete(null,!1,l)}}else{oe("transaction failed: Data returned ",c,s.path),s.status=ln.RUN;var h=this.transactionQueueTree_.subTree(e),f=h.getValue()||[];f.push(s),h.setValue(f);var d=void 0;if("object"==typeof c&&null!==c&&a.contains(c,".priority"))d=a.safeGet(c,".priority"),a.assert(ie(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else d=(this.serverSyncTree_.calcCompleteEventCache(e)||He.EMPTY_NODE).getPriority().val();d=d;var p=this.generateServerValues(),v=Ke(c,d),m=ot(v,p);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(e,m,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,y),this.sendReadyTransactions_()}},on.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||He.EMPTY_NODE},on.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);a.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return e.status===ln.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},on.prototype.sendTransactionQueue_=function(e,t){for(var n=this,i=t.map(function(e){return e.currentWriteId}),r=this.getLatestState_(e,i),o=r,s=r.hash(),u=0;u<t.length;u++){var c=t[u];a.assert(c.status===ln.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=ln.SENT,c.retryCount++;var l=H.relativePath(e,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var h=o.val(!0),f=e;this.server_.put(f.toString(),h,function(i){n.log_("transaction put response",{path:f.toString(),status:i});var r=[];if("ok"===i){for(var o=[],a=0;a<t.length;a++){if(t[a].status=ln.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new cn(n,t[a].path),c=new Xe(s,u,Re);o.push(t[a].onComplete.bind(null,null,!0,c))}t[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,r);for(a=0;a<o.length;a++)j(o[a])}else{if("datastale"===i)for(a=0;a<t.length;a++)t[a].status===ln.SENT_NEEDS_ABORT?t[a].status=ln.NEEDS_ABORT:t[a].status=ln.RUN;else{I("transaction at "+f.toString()+" failed: "+i);for(a=0;a<t.length;a++)t[a].status=ln.NEEDS_ABORT,t[a].abortReason=i}n.rerunTransactions_(e)}},s)},on.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),i=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(i,n),n},on.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,i=[],r=[],o=e.filter(function(e){return e.status===ln.RUN}).map(function(e){return e.currentWriteId}),s=0;s<e.length;s++){var u=e[s],c=H.relativePath(t,u.path),l=!1,h=void 0;if(a.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===ln.NEEDS_ABORT)l=!0,h=u.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===ln.RUN)if(u.retryCount>=on.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,o);u.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){oe("transaction failed: Data returned ",d,u.path);var p=Ke(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,g=this.generateServerValues(),m=ot(p,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(u.path,m,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],l&&(e[s].status=ln.COMPLETED,n=e[s].unwatcher,setTimeout(n,Math.floor(0)),e[s].onComplete))if("nodata"===h){var y=new cn(this,e[s].path),b=e[s].currentInputSnapshot,_=new Xe(b,y,Re);i.push(e[s].onComplete.bind(null,null,!1,_))}else i.push(e[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<i.length;s++)j(i[s]);this.sendReadyTransactions_()}},on.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},on.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},on.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,i=e.getValue();if(null!==i)for(var r=0;r<i.length;r++)t.push(i[r]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},on.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==ln.COMPLETED&&(n[i]=n[r],i++);n.length=i,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},on.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),i=this.transactionQueueTree_.subTree(e);return i.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},on.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],i=[],r=-1,o=0;o<t.length;o++)if(t[o].status===ln.SENT_NEEDS_ABORT);else if(t[o].status===ln.SENT)a.assert(r===o-1,"All SENT items should be at beginning of queue."),r=o,t[o].status=ln.SENT_NEEDS_ABORT,t[o].abortReason="set";else if(a.assert(t[o].status===ln.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete){n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))}-1===r?e.setValue(null):t.length=r+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),i);for(o=0;o<n.length;o++)j(n[o])}};var dn,pn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return dn||(dn=new e),dn},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=$(n),r=i.repoInfo;return de("Invalid Firebase Database URL",1,i),i.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(r,e).database},e.prototype.deleteRepo=function(e){var t=a.safeGet(this.repos_,e.app.name);t&&a.safeGet(t,e.repoInfo_.toURLString())===e||T("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=a.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var i=a.safeGet(n,e.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new on(e,this.useRestClient_,t),n[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),vn=function(){function e(e){this.repo_=e,e instanceof on||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new cn(e,H.Empty),this.INTERNAL=new gn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),e instanceof cn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),a.validateArgCount(t,1,1,arguments.length);var n=$(e);de(t,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&T(t+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&T("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),gn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(e){return this.database.checkDeleted_("delete"),pn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),mn=Object.freeze({forceLongPolling:function(){Xt.forceDisallow(),zt.forceAllow()},forceWebSockets:function(){zt.forceDisallow()},isWebSocketsAvailable:function(){return Xt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),yn=nn;nn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},nn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var bn=Jt,_n=K,wn=Object.freeze({DataConnection:yn,RealTimeConnection:bn,hijackHash:function(e){var t=nn.prototype.put;return nn.prototype.put=function(n,i,r,o){void 0!==o&&(o=e()),t.call(this,n,i,r,o)},function(){nn.prototype.put=t}},ConnectionTarget:_n,queryIdentifier:function(e){return e.queryIdentifier()},listens:function(e){return e.repo.persistentConnection_.listens_},forceRestClient:function(e){pn.getInstance().forceRestClient(e)}}),En=vn.ServerValue;function Cn(t){var n=t.INTERNAL.registerService("database",function(e,t,n){return pn.getInstance().databaseFromApp(e,n)},{Reference:cn,Query:tt,Database:vn,enableLogging:w,INTERNAL:mn,ServerValue:En,TEST_ACCESS:wn},null,!0);a.isNodeSdk()&&(e.exports=n)}Cn(c),t.registerDatabase=Cn,t.Database=vn,t.Query=tt,t.Reference=cn,t.enableLogging=w,t.ServerValue=En,t.DataSnapshot=Xe,t.OnDisconnect=ve}).call(this,n(7))},function(e,t,n){"use strict";n.r(t),n.d(t,"setLogLevel",function(){return u}),n.d(t,"Logger",function(){return s}),n.d(t,"LogLevel",function(){return i});var i,r=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var o=i.INFO,a=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}();function u(e){r.forEach(function(t){t.logLevel=e})}},function(e,t,n){n(18)},function(e,t,n){"use strict";n.r(t),n.d(t,"registerMessaging",function(){return D});var i,r,o,a=n(10),s=n(11),u=n(9),c={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},l=((i={})[c.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",i[c.AVAILABLE_IN_SW]="This method is available in a service worker context.",i[c.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",i[c.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",i[c.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",i[c.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",i[c.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",i[c.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",i[c.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",i[c.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",i[c.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",i[c.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",i[c.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",i[c.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",i[c.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",i[c.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",i[c.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",i[c.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",i[c.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",i[c.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",i[c.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",i[c.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",i[c.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",i[c.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",i[c.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",i[c.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",i[c.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",i[c.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",i[c.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",i[c.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",i[c.BAD_SCOPE]="The service worker scope must be a string with at least one character.",i[c.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",i[c.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",i[c.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",i[c.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",i[c.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",i[c.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",i[c.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",i),h=new a.ErrorFactory("messaging","Messaging",l),f=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),d="https://fcm.googleapis.com";function p(e,t){if(null==e||null==t)return!1;if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),i=new DataView(t),r=0;r<e.byteLength;r++)if(n.getUint8(r)!==i.getUint8(r))return!1;return!0}function v(e){return function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(null,t))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(e){e.TYPE_OF_MSG="firebase-messaging-msg-type",e.DATA="firebase-messaging-msg-data"}(r||(r={})),function(e){e.PUSH_MSG_RECEIVED="push-msg-received",e.NOTIFICATION_CLICKED="notification-clicked"}(o||(o={}));var g=function(){function e(){}return e.prototype.getToken=function(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var i,r,o,a,u,l,p,g;return Object(s.__generator)(this,function(s){switch(s.label){case 0:i=v(t.getKey("p256dh")),r=v(t.getKey("auth")),o="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+i+"&encryption_auth="+r,n!==f&&(a=v(n),o+="&application_pub_key="+a),(u=new Headers).append("Content-Type","application/x-www-form-urlencoded"),l={method:"POST",headers:u,body:o},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(d+"/fcm/connect/subscribe",l)];case 2:return[4,s.sent().json()];case 3:return p=s.sent(),[3,5];case 4:throw s.sent(),h.create(c.TOKEN_SUBSCRIBE_FAILED);case 5:if(p.error)throw g=p.error.message,h.create(c.TOKEN_SUBSCRIBE_FAILED,{message:g});if(!p.token)throw h.create(c.TOKEN_SUBSCRIBE_NO_TOKEN);if(!p.pushSet)throw h.create(c.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:p.token,pushSet:p.pushSet}]}})})},e.prototype.updateToken=function(e,t,n,i,r){return Object(s.__awaiter)(this,void 0,void 0,function(){var o,a,u,l,p,g,m,y;return Object(s.__generator)(this,function(s){switch(s.label){case 0:o=v(i.getKey("p256dh")),a=v(i.getKey("auth")),u="push_set="+n+"&token="+t+"&authorized_entity="+e+"&endpoint="+i.endpoint+"&encryption_key="+o+"&encryption_auth="+a,r!==f&&(l=v(r),u+="&application_pub_key="+l),(p=new Headers).append("Content-Type","application/x-www-form-urlencoded"),g={method:"POST",headers:p,body:u},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(d+"/fcm/connect/subscribe",g)];case 2:return[4,s.sent().json()];case 3:return m=s.sent(),[3,5];case 4:throw s.sent(),h.create(c.TOKEN_UPDATE_FAILED);case 5:if(m.error)throw y=m.error.message,h.create(c.TOKEN_UPDATE_FAILED,{message:y});if(!m.token)throw h.create(c.TOKEN_UPDATE_NO_TOKEN);return[2,m.token]}})})},e.prototype.deleteToken=function(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var i,r,o,a,u;return Object(s.__generator)(this,function(s){switch(s.label){case 0:i="authorized_entity="+e+"&token="+t+"&pushSet="+n,(r=new Headers).append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:r,body:i},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(d+"/fcm/connect/unsubscribe",o)];case 2:return[4,s.sent().json()];case 3:if((a=s.sent()).error)throw u=a.error.message,h.create(c.TOKEN_UNSUBSCRIBE_FAILED,{message:u});return[3,5];case 4:throw s.sent(),h.create(c.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},e}();function m(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}var y="undefined",b="fcm_token_object_Store";function _(){var e=indexedDB.open(y);e.onerror=function(e){},e.onsuccess=function(t){!function(e){if(e.objectStoreNames.contains(b)){var t=e.transaction(b).objectStore(b),n=new g,i=t.openCursor();i.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},i.onsuccess=function(){var t=i.result;if(t){var r=t.value;n.deleteToken(r.fcmSenderId,r.fcmToken,r.fcmPushSet),t.continue()}else e.close(),indexedDB.deleteDatabase(y)}}}(e.result)}}var w=function(){function e(){this.dbPromise=null}return e.prototype.get=function(e){return this.createTransaction(function(t){return t.get(e)})},e.prototype.getIndex=function(e,t){return this.createTransaction(function(n){return n.index(e).get(t)})},e.prototype.put=function(e){return this.createTransaction(function(t){return t.put(e)},"readwrite")},e.prototype.delete=function(e){return this.createTransaction(function(t){return t.delete(e)},"readwrite")},e.prototype.closeDatabase=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e.sent().close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},e.prototype.createTransaction=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n,i,r,o;return Object(s.__generator)(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),i=n.transaction(this.objectStoreName,t),r=i.objectStore(this.objectStoreName),[4,E(e(r))];case 2:return o=a.sent(),[2,new Promise(function(e,t){i.oncomplete=function(){e(o)},i.onerror=function(){t(i.error)}})]}})})},e.prototype.getDb=function(){var e=this;return this.dbPromise||(this.dbPromise=new Promise(function(t,n){var i=indexedDB.open(e.dbName,e.dbVersion);i.onsuccess=function(){t(i.result)},i.onerror=function(){e.dbPromise=null,n(i.error)},i.onupgradeneeded=function(t){return e.onDbUpgrade(i,t)}})),this.dbPromise},e}();function E(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_token_details_db",t.dbVersion=3,t.objectStoreName="fcm_token_object_Store",t}return Object(s.__extends)(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(i=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),i.createIndex("fcmToken","fcmToken",{unique:!0});case 1:_();case 2:var i,r=(i=e.transaction.objectStore(this.objectStoreName)).openCursor();r.onsuccess=function(){var e=r.result;if(e){var t=e.value,n=Object(s.__assign)({},t);t.createTime||(n.createTime=Date.now()),"string"==typeof t.vapidKey&&(n.vapidKey=m(t.vapidKey)),"string"==typeof t.auth&&(n.auth=m(t.auth).buffer),"string"==typeof t.auth&&(n.p256dh=m(t.p256dh).buffer),e.update(n),e.continue()}}}},t.prototype.getTokenDetailsFromToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){if(!e)throw h.create(c.BAD_TOKEN);return S({fcmToken:e}),[2,this.getIndex("fcmToken",e)]})})},t.prototype.getTokenDetailsFromSWScope=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){if(!e)throw h.create(c.BAD_SCOPE);return S({swScope:e}),[2,this.get(e)]})})},t.prototype.saveTokenDetails=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){if(!e.swScope)throw h.create(c.BAD_SCOPE);if(!e.vapidKey)throw h.create(c.BAD_VAPID_KEY);if(!e.endpoint||!e.auth||!e.p256dh)throw h.create(c.BAD_SUBSCRIPTION);if(!e.fcmSenderId)throw h.create(c.BAD_SENDER_ID);if(!e.fcmToken)throw h.create(c.BAD_TOKEN);if(!e.fcmPushSet)throw h.create(c.BAD_PUSH_SET);return S(e),[2,this.put(e)]})})},t.prototype.deleteToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return"string"!=typeof e||0===e.length?[2,Promise.reject(h.create(c.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(e)];case 1:if(!(t=n.sent()))throw h.create(c.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(t.swScope)];case 2:return n.sent(),[2,t]}})})},t}(w);function S(e){if(e.fcmToken&&("string"!=typeof e.fcmToken||0===e.fcmToken.length))throw h.create(c.BAD_TOKEN);if(e.swScope&&("string"!=typeof e.swScope||0===e.swScope.length))throw h.create(c.BAD_SCOPE);if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw h.create(c.BAD_VAPID_KEY);if(e.endpoint&&("string"!=typeof e.endpoint||0===e.endpoint.length))throw h.create(c.BAD_SUBSCRIPTION);if(e.auth&&!(e.auth instanceof ArrayBuffer))throw h.create(c.BAD_SUBSCRIPTION);if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw h.create(c.BAD_SUBSCRIPTION);if(e.fcmSenderId&&("string"!=typeof e.fcmSenderId||0===e.fcmSenderId.length))throw h.create(c.BAD_SENDER_ID);if(e.fcmPushSet&&("string"!=typeof e.fcmPushSet||0===e.fcmPushSet.length))throw h.create(c.BAD_PUSH_SET)}var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_vapid_details_db",t.dbVersion=1,t.objectStoreName="fcm_vapid_object_Store",t}return Object(s.__extends)(t,e),t.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:if("string"!=typeof e||0===e.length)throw h.create(c.BAD_SCOPE);return[4,this.get(e)];case 1:return[2,(t=n.sent())?t.vapidKey:void 0]}})})},t.prototype.saveVapidDetails=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n;return Object(s.__generator)(this,function(i){if("string"!=typeof e||0===e.length)throw h.create(c.BAD_SCOPE);if(null===t||65!==t.length)throw h.create(c.BAD_VAPID_KEY);return n={swScope:e,vapidKey:t},[2,this.put(n)]})})},t.prototype.deleteVapidDetails=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:if(!(t=n.sent()))throw h.create(c.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(e)];case 2:return n.sent(),[2,t]}})})},t}(w),I="messagingSenderId",A=function(){function e(e){var t=this;if(!e.options[I]||"string"!=typeof e.options[I])throw h.create(c.BAD_SENDER_ID);this.messagingSenderId=e.options[I],this.tokenDetailsModel=new C,this.vapidDetailsModel=new T,this.iidModel=new g,this.app=e,this.INTERNAL={delete:function(){return t.delete()}}}return e.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,t,n,i,r;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return"granted"!==(e=this.getNotificationPermission_())?"denied"===e?[2,Promise.reject(h.create(c.NOTIFICATIONS_BLOCKED))]:[2,Promise.resolve(null)]:[4,this.getSWRegistration_()];case 1:return t=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(t,n)];case 3:return i=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return(r=o.sent())?[2,this.manageExistingToken(t,i,n,r)]:[2,this.getNewToken(t,i,n)]}})})},e.prototype.manageExistingToken=function(e,t,n,i){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(r){switch(r.label){case 0:return function(e,t,n){if(!p(t.buffer,n.vapidKey.buffer))return!1;var i=e.endpoint===n.endpoint,r=p(e.getKey("auth"),n.auth),o=p(e.getKey("p256dh"),n.p256dh);return i&&r&&o}(t,n,i)?Date.now()<i.createTime+6048e5?[2,i.fcmToken]:[2,this.updateToken(e,t,n,i)]:[4,this.deleteTokenFromDB(i.fcmToken)];case 1:return r.sent(),[2,this.getNewToken(e,t,n)]}})})},e.prototype.updateToken=function(e,t,n,i){return Object(s.__awaiter)(this,void 0,void 0,function(){var r,o,a;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,i.fcmToken,i.fcmPushSet,t,n)];case 1:return r=s.sent(),o={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r,fcmPushSet:i.fcmPushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return s.sent(),[2,r];case 4:return a=s.sent(),[4,this.deleteToken(i.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}})})},e.prototype.getNewToken=function(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var i,r;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,t,n)];case 1:return i=o.sent(),r={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i.token,fcmPushSet:i.pushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(r)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return o.sent(),[2,i.token]}})})},e.prototype.deleteToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:return i.sent(),[4,this.getSWRegistration_()];case 2:return(t=i.sent())?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=i.sent())return[2,n.unsubscribe()];i.label=4;case 4:return[2,!0]}})})},e.prototype.deleteTokenFromDB=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.iidModel.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet)];case 2:return n.sent(),[2]}})})},e.prototype.getPushSubscription=function(e,t){return e.pushManager.getSubscription().then(function(n){return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})})},e.prototype.requestPermission=function(){throw h.create(c.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw h.create(c.AVAILABLE_IN_WINDOW)},e.prototype.usePublicVapidKey=function(e){throw h.create(c.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw h.create(c.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw h.create(c.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw h.create(c.AVAILABLE_IN_SW)},e.prototype.delete=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}})})},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getIIDModel=function(){return this.iidModel},e}();var N=function(e){function t(t){var n=e.call(this,t)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(e){n.onPush(e)}),self.addEventListener("pushsubscriptionchange",function(e){n.onSubChange(e)}),self.addEventListener("notificationclick",function(e){n.onNotificationClick(e)}),n}return Object(s.__extends)(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},t.prototype.onPush_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,i;return Object(s.__generator)(this,function(r){switch(r.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return r.sent()?t.notification||this.bgMessageHandler?[2,this.sendMessageToWindowClients_(t)]:[2]:(n=this.getNotificationData_(t))?(i=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return[2,r.sent().showNotification(i,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return r.sent(),[2];case 5:return[2]}})})},t.prototype.onSubChange_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,t,n,i;return Object(s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return e=r.sent(),[3,3];case 2:throw t=r.sent(),h.create(c.UNABLE_TO_RESUBSCRIBE,{message:t});case 3:return r.trys.push([3,5,,8]),[4,e.pushManager.getSubscription()];case 4:return r.sent(),[3,8];case 5:return n=r.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(e.scope)];case 6:if(!(i=r.sent()))throw n;return[4,this.deleteToken(i.fcmToken)];case 7:throw r.sent(),n;case 8:return[2]}})})},t.prototype.onNotificationClick_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,i,r;return Object(s.__generator)(this,function(a){switch(a.label){case 0:return e.notification&&e.notification.data&&e.notification.data.FCM_MSG?(e.stopImmediatePropagation(),e.notification.close(),(t=e.notification.data.FCM_MSG).notification&&(n=t.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(i=a.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return i=a.sent(),[3,5];case 3:return[4,i.focus()];case 4:i=a.sent(),a.label=5;case 5:return i?(delete t.notification,r=R(o.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(i,r)]):[2]}})})},t.prototype.getNotificationData_=function(e){if(e&&"object"==typeof e.notification){var t,n=Object(s.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw h.create(c.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=e},t.prototype.getWindowClient_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,i,r;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return t=new URL(e,self.location.href).href,[4,k()];case 1:for(n=o.sent(),i=null,r=0;r<n.length;r++)if(new URL(n[r].url,self.location.href).href===t){i=n[r];break}return[2,i]}})})},t.prototype.attemptToMessageClient_=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(n){if(!e)throw h.create(c.NO_WINDOW_CLIENT_TO_MSG);return e.postMessage(t),[2]})})},t.prototype.hasVisibleClients_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){switch(e.label){case 0:return[4,k()];case 1:return[2,e.sent().some(function(e){return"visible"===e.visibilityState})]}})})},t.prototype.sendMessageToWindowClients_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,i=this;return Object(s.__generator)(this,function(r){switch(r.label){case 0:return[4,k()];case 1:return t=r.sent(),n=R(o.PUSH_MSG_RECEIVED,e),[4,Promise.all(t.map(function(e){return i.attemptToMessageClient_(e,n)}))];case 2:return r.sent(),[2]}})})},t.prototype.getSWRegistration_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){return[2,self.registration]})})},t.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(e=n.sent()))throw h.create(c.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:return null==(t=n.sent())?[2,f]:[2,t]}})})},t}(A);function k(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function R(e,t){return(n={})[r.TYPE_OF_MSG]=e,n[r.DATA]=t,n;var n}var x=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(a.createSubscribe)(function(e){n.messageObserver=e}),n.onTokenRefreshInternal=Object(a.createSubscribe)(function(e){n.tokenRefreshObserver=e}),n.setupSWMessageListener_(),n}return Object(s.__extends)(t,e),t.prototype.getToken=function(){var t=this;return this.isSupported_()?this.manifestCheck_().then(function(){return e.prototype.getToken.call(t)}):Promise.reject(h.create(c.UNSUPPORTED_BROWSER))},t.prototype.manifestCheck_=function(){if(this.manifestCheckPromise)return this.manifestCheckPromise;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise=e?fetch(e.href).then(function(e){return e.json()}).catch(function(){}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw h.create(c.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise},t.prototype.requestPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){return"granted"===Notification.permission?[2]:[2,new Promise(function(e,t){var n=function(n){return"granted"===n?e():t("denied"===n?h.create(c.PERMISSION_BLOCKED):h.create(c.PERMISSION_DEFAULT))},i=Notification.requestPermission(n);i&&i.then(n)})]})})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw h.create(c.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw h.create(c.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=e},t.prototype.usePublicVapidKey=function(e){if("string"!=typeof e)throw h.create(c.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw h.create(c.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var t=m(e);if(65!==t.length)throw h.create(c.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=t},t.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=function(e,t,n){return"function"==typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise(function(n,i){if(t)if("activated"!==t.state)if("redundant"!==t.state){var r=function(){if("activated"===t.state)n(e);else{if("redundant"!==t.state)return;i(h.create(c.SW_REG_REDUNDANT))}t.removeEventListener("statechange",r)};t.addEventListener("statechange",r)}else i(h.create(c.SW_REG_REDUNDANT));else n(e);else i(h.create(c.NO_SW_IN_REG))})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw h.create(c.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse=t,t.update(),t})}))},t.prototype.getPublicVapidKey_=function(){return this.publicVapidKeyToUse?Promise.resolve(this.publicVapidKeyToUse):Promise.resolve(f)},t.prototype.setupSWMessageListener_=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[r.TYPE_OF_MSG]){var n=t.data;switch(n[r.TYPE_OF_MSG]){case o.PUSH_MSG_RECEIVED:case o.NOTIFICATION_CLICKED:var i=n[r.DATA];e.messageObserver&&e.messageObserver.next(i)}}},!1)},t.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},t}(A);function D(e){var t={Messaging:x};e.INTERNAL.registerService("messaging",function(e){return self&&"ServiceWorkerGlobalScope"in self?new N(e):new x(e)},t)}D(u.default)},function(e,t,n){n(20)},function(e,t,n){"use strict";n.r(t),n.d(t,"registerStorage",function(){return Ye});var i=n(9),r="https://firebasestorage.googleapis.com",o="https://firebasestorage.googleapis.com",a="/v0",s="/v0",u=12e4,c=6e4,l=-9007199254740991,h=function(){function e(e,t){this.code_=d(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return d(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),f={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function d(e){return"storage/"+e}function p(){return new h(f.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function v(){return new h(f.CANCELED,"User canceled the upload/download.")}function g(){return new h(f.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(){return new h(f.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function y(e,t,n){return new h(f.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function b(){return new h(f.APP_DELETED,"The Firebase app was deleted.")}function _(e,t){return new h(f.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function w(e){throw new h(f.INTERNAL_ERROR,"Internal error: "+e)}var E={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function C(e){switch(e){case E.RAW:case E.BASE64:case E.BASE64URL:case E.DATA_URL:return;default:throw"Expected one of the event types: ["+E.RAW+", "+E.BASE64+", "+E.BASE64URL+", "+E.DATA_URL+"]."}}var S=function(e,t){this.data=e,this.contentType=t||null};function T(e,t){switch(e){case E.RAW:return new S(I(t));case E.BASE64:case E.BASE64URL:return new S(A(e,t));case E.DATA_URL:return new S(function(e){var t=new N(e);return t.base64?A(E.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw _(E.DATA_URL,"Malformed data URL.")}return I(t)}(t.rest)}(t),function(e){return new N(e).contentType}(t))}throw p()}function I(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i);else t.push(239,191,189);else 56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function A(e,t){switch(e){case E.BASE64:var n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i)throw _(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case E.BASE64URL:var r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw _(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw _(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var N=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw _(E.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i,r=t[1]||null;null!=r&&(this.base64=(i=";base64",(n=r).length>=i.length&&n.substring(n.length-i.length)===i),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)};var k,R={STATE_CHANGED:"state_changed"},x={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},D={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function O(e){switch(e){case x.RUNNING:case x.PAUSING:case x.CANCELING:return D.RUNNING;case x.PAUSED:return D.PAUSED;case x.SUCCESS:return D.SUCCESS;case x.CANCELED:return D.CANCELED;case x.ERROR:default:return D.ERROR}}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){for(var n in e)P(e,n)&&t(n,e[n])}function M(e){if(null==e)return{};var t={};return L(e,function(e,n){t[e]=n}),t}function F(e){return new Promise(e)}function U(e){return Promise.resolve(e)}function j(e){return null!=e}function B(e){return void 0!==e}function W(e){return"function"==typeof e}function H(e){return"object"==typeof e}function V(e){return H(e)&&null!==e}function q(e){return"string"==typeof e||e instanceof String}function K(e){return G()&&e instanceof Blob}function G(){return"undefined"!=typeof Blob}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(k||(k={}));var z=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=k.NO_ERROR,this.sendPromise_=F(function(t,n){e.xhr_.addEventListener("abort",function(n){e.errorCode_=k.ABORT,t(e)}),e.xhr_.addEventListener("error",function(n){e.errorCode_=k.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(n){t(e)})})}return e.prototype.send=function(e,t,n,i){var r=this;if(this.sent_)throw w("cannot .send() more than once");(this.sent_=!0,this.xhr_.open(t,e,!0),j(i))&&L(i,function(e,t){r.xhr_.setRequestHeader(e,t.toString())});return j(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){j(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){j(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Y=function(){function e(){}return e.prototype.createXhrIo=function(){return new z},e}();function Q(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return H(n=t)&&!Array.isArray(n)?t:null}var X=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n,i;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw i=t,new h(f.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")},e.makeFromUrl=function(t){var n=null;for(var i=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],r=0;r<i.length;r++){var o=i[r],a=o.regex.exec(t);if(a){var s=a[o.indices.bucket],u=a[o.indices.path];u||(u=""),n=new e(s,u),o.postModify(n);break}}if(null==n)throw function(e){return new h(f.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return n},e}();function $(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}function J(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Z(e){return r+a+e}function ee(e){return r+s+e}function te(e){var t=encodeURIComponent,n="?";return L(e,function(e,i){var r=t(e)+"="+t(i);n=n+r+"&"}),n=n.slice(0,-1)}function ne(e,t){return t}var ie=function(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||ne},re=null;function oe(){if(re)return re;var e=[];e.push(new ie("bucket")),e.push(new ie("generation")),e.push(new ie("metageneration")),e.push(new ie("name","fullPath",!0));var t=new ie("name");t.xform=function(e,t){return function(e){return!q(e)||e.length<2?e:J(e=e)}(t)},e.push(t);var n=new ie("size");return n.xform=function(e,t){return j(t)?+t:t},e.push(n),e.push(new ie("timeCreated")),e.push(new ie("updated")),e.push(new ie("md5Hash",null,!0)),e.push(new ie("cacheControl",null,!0)),e.push(new ie("contentDisposition",null,!0)),e.push(new ie("contentEncoding",null,!0)),e.push(new ie("contentLanguage",null,!0)),e.push(new ie("contentType",null,!0)),e.push(new ie("metadata","customMetadata",!0)),e.push(new ie("downloadTokens","downloadURLs",!1,function(e,t){if(!(q(t)&&t.length>0))return[];var n=encodeURIComponent;return t.split(",").map(function(t){var i=e.bucket,r=e.fullPath;return function(e){return o+a+e}("/b/"+n(i)+"/o/"+n(r))+te({alt:"media",token:t})})})),re=e}function ae(e,t,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var a=n[o];i[a.local]=a.xform(i,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,i=e.fullPath,r=new X(n,i);return t.makeStorageReference(r)}})}(i,e),i}function se(e,t){for(var n={},i=t.length,r=0;r<i;r++){var o=t[r];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function ue(e){if(!(e&&H(e)))throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if(!H(n))throw"Expected object for 'customMetadata' mapping."}else if(V(n))throw"Mapping for '"+t+"' cannot be an object."}}function ce(e,t,n){for(var i=t.length,r=t.length,o=0;o<t.length;o++)if(t[o].optional){i=o;break}var a,s,u,c,l,d;if(!(i<=n.length&&n.length<=r))throw a=i,s=r,u=e,c=n.length,a===s?(l=a,d=1===a?"argument":"arguments"):(l="between "+a+" and "+s,d="arguments"),new h(f.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+u+"`: Expected "+l+" "+d+", received "+c+".");for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(t){throw t instanceof Error?y(o,e,t.message):y(o,e,t)}}var le=function(e,t){var n=this;this.validator=function(t){n.optional&&!B(t)||e(t)},this.optional=!!t};function he(e,t){function n(e){if(!q(e))throw"Expected string."}var i,r,o;return e?(r=n,o=e,i=function(e){r(e),o(e)}):i=n,new le(i,t)}function fe(){return new le(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||G()&&e instanceof Blob))throw"Expected Blob or File."})}function de(e){return new le(ue,e)}function pe(){return new le(function(e){if(!(function(e){return"number"==typeof e||e instanceof Number}(e)&&e>=0))throw"Expected a number 0 or greater."})}function ve(e,t){return new le(function(t){if(!(null===t||j(t)&&t instanceof Object))throw"Expected an Object.";null!=e&&e(t)},t)}function ge(e){return new le(function(e){if(null!==e&&!W(e))throw"Expected a Function."},e)}function me(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=me();if(void 0!==n){for(var i=new n,r=0;r<e.length;r++)i.append(e[r]);return i.getBlob()}if(G())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var be=function(){function e(e,t){var n=0,i="";K(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(K(this.data_)){var i=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===i?null:new e(i)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(G()){var i=t.map(function(t){return t instanceof e?t.data_:t});return new e(ye.apply(null,i))}var r=t.map(function(e){return q(e)?T(E.RAW,e).data:e.data_}),o=0;r.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return r.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function _e(e,t){return-1!==e.indexOf(t)}var we=function(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ee(e){if(!e)throw p()}function Ce(e,t){return function(n,i){var r=function(e,t,n){var i=Q(t);return null===i?null:ae(e,i,n)}(e,i,t);return Ee(null!==r),r}}function Se(e){return function(t,n){var i,r,o;return 401===t.getStatus()?i=new h(f.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,i=new h(f.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,i=new h(f.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):i=n,i.setServerResponseProp(n.serverResponseProp()),i}}function Te(e){var t=Se(e);return function(n,i){var r,o=t(n,i);return 404===n.getStatus()&&(r=e.path,o=new h(f.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")),o.setServerResponseProp(i.serverResponseProp()),o}}function Ie(e,t,n){var i=Z(t.fullServerUrl()),r=e.maxOperationRetryTime(),o=new we(i,"GET",Ce(e,n),r);return o.errorHandler=Te(t),o}function Ae(e,t,n,i){var r=Z(t.fullServerUrl()),o=se(n,i),a=e.maxOperationRetryTime(),s=new we(r,"PATCH",Ce(e,i),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Te(t),s}function Ne(e,t){var n=Z(t.fullServerUrl()),i=e.maxOperationRetryTime();var r=new we(n,"DELETE",function(e,t){},i);return r.successCodes=[200,204],r.errorHandler=Te(t),r}function ke(e,t,n){var i=M(n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}var Re=function(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null};function xe(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Ee(!1)}return Ee(_e(t||["active"],n)),n}function De(e,t,n,i,r,o,a,s){var u=new Re(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw new h(f.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;r>0&&(l=Math.min(l,r));var d=u.current,p=d+l,v={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},m=i.slice(d,p);if(null===m)throw g();var y=t.maxUploadRetryTime(),b=new we(n,"POST",function(e,n){var r,a=xe(e,["active","final"]),s=u.current+l,c=i.size();return r="final"===a?Ce(t,o)(e,n):null,new Re(s,c,"final"===a,r)},y);return b.headers=v,b.body=m.uploadData(),b.progressCallback=s||null,b.errorHandler=Se(e),b}var Oe=function(e,t,n){if(W(e)||j(t)||j(n))this.next=e,this.error=t||null,this.complete=n||null;else{var i=e;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}},Pe=function(){function e(e,t,n,i,r,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=i,this.task=r,this.ref=o}return Object.defineProperty(e.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var e=this.metadata.downloadURLs;return null!=e&&null!=e[0]?e[0]:null}return null},enumerable:!0,configurable:!0}),e}();function Le(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];U(!0).then(function(){e.apply(null,t)})}}var Me=function(){function e(e,t,n,i,r,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=r,this.metadata_=o,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=x.RUNNING,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(f.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(x.ERROR))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(f.CANCELED)?a.completeTransitions_():(a.error_=e,a.transition_(x.ERROR))},this.promise_=F(function(e,t){a.resolve_=e,a.reject_=t,a.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n,i){e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===x.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(n){switch(t.state_){case x.RUNNING:e(n);break;case x.CANCELING:t.transition_(x.CANCELED);break;case x.PAUSING:t.transition_(x.PAUSED)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n=function(e,t,n,i,r){var o=t.bucketOnlyServerUrl(),a=ke(t,i,r),s={name:a.fullPath},u=ee(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=se(a,n),h=e.maxUploadRetryTime(),f=new we(u,"POST",function(e,t){var n;xe(e);try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Ee(!1)}return Ee(q(n)),n},h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Se(t),f}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),i=e.authWrapper_.makeRequest(n,t);e.request_=i,i.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var i=function(e,t,n,i){var r=e.maxUploadRetryTime(),o=new we(n,"POST",function(e,t){var n,r=xe(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Ee(!1)}var o=parseInt(n,10);return Ee(!isNaN(o)),new Re(o,i.size(),"final"===r)},r);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Se(t),o}(e.authWrapper_,e.location_,t,e.blob_),r=e.authWrapper_.makeRequest(i,n);e.request_=r,r.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new Re(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(r){var o;try{o=De(e.location_,e.authWrapper_,i,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(x.ERROR)}var a=e.authWrapper_.makeRequest(o,r);e.request_=a,a.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(x.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=Ie(e.authWrapper_,e.location_,e.mappings_),i=e.authWrapper_.makeRequest(n,t);e.request_=i,i.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(x.SUCCESS)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=function(e,t,n,i,r){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=ke(t,i,r),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+se(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=be.getBlob(c,i,l);if(null===h)throw g();var f={name:u.fullPath},d=ee(o),p=e.maxUploadRetryTime(),v=new we(d,"POST",Ce(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=Se(t),v}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),i=e.authWrapper_.makeRequest(n,t);e.request_=i,i.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(x.SUCCESS)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case x.CANCELING:case x.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case x.RUNNING:var t=this.state_===x.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case x.PAUSED:this.state_=e,this.notifyObservers_();break;case x.CANCELED:this.error_=v(),this.state_=e,this.notifyObservers_();break;case x.ERROR:case x.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case x.PAUSING:this.transition_(x.PAUSED);break;case x.CANCELING:this.transition_(x.CANCELED);break;case x.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=O(this.state_);return new Pe(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,i){function r(t){if(e!==R.STATE_CHANGED)throw"Expected one of the event types: ["+R.STATE_CHANGED+"]."}void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0);var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=ge(!0).validator,s=ve(null,!0).validator;function u(e){try{return void a(e)}catch(e){}try{if(s(e),!(B(e.next)||B(e.error)||B(e.complete)))throw"";return}catch(e){throw o}}var c=[he(r),ve(u,!0),ge(!0),ge(!0)];ce("on",c,arguments);var l=this;function h(e){return function(t,n,r){null!==e&&ce("on",e,arguments);var o=new Oe(t,n,i);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(e){if(null===e)throw o;u(e)}var d=[ve(f),ge(!0),ge(!0)],p=!(B(t)||B(n)||B(i));return p?h(d):h(null)(t,n,i)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t,n,i;t=this.observers_,n=e,-1!==(i=t.indexOf(n))&&t.splice(i,1)},e.prototype.notifyObservers_=function(){var e,t=this;this.finishPromise_(),(e=this.observers_,Array.prototype.slice.call(e)).forEach(function(e){t.notifyObserver_(e)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(O(this.state_)){case D.SUCCESS:Le(this.resolve_.bind(null,this.snapshot))();break;case D.CANCELED:case D.ERROR:Le(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(O(this.state_)){case D.RUNNING:case D.PAUSED:null!==e.next&&Le(e.next.bind(e,this.snapshot))();break;case D.SUCCESS:null!==e.complete&&Le(e.complete.bind(e))();break;case D.CANCELED:case D.ERROR:null!==e.error&&Le(e.error.bind(e,this.error_))();break;default:null!==e.error&&Le(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){ce("resume",[],arguments);var e=this.state_===x.PAUSED||this.state_===x.PAUSING;return e&&this.transition_(x.RUNNING),e},e.prototype.pause=function(){ce("pause",[],arguments);var e=this.state_===x.RUNNING;return e&&this.transition_(x.PAUSING),e},e.prototype.cancel=function(){ce("cancel",[],arguments);var e=this.state_===x.RUNNING||this.state_===x.PAUSING;return e&&this.transition_(x.CANCELING),e},e}(),Fe=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof X?t:X.makeFromUrl(t)}return e.prototype.toString=function(){return ce("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return oe()},e.prototype.child=function(e){ce("child",[he()],arguments);var t=$(this.location.path,e),n=new X(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new X(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new X(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return J(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),ce("put",[fe(),de(!0)],arguments),this.throwIfRoot_("put"),new Me(this,this.authWrapper,this.location,this.mappings(),new be(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=E.RAW),ce("putString",[he(),he(C,!0),de(!0)],arguments),this.throwIfRoot_("putString");var i=T(t,e),r=M(n);return!j(r.contentType)&&j(i.contentType)&&(r.contentType=i.contentType),new Me(this,this.authWrapper,this.location,this.mappings(),new be(i.data,!0),r)},e.prototype.delete=function(){ce("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=Ne(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.getMetadata=function(){ce("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=Ie(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){ce("updateMetadata",[de()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(n){var i=Ae(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(i,n).getPromise()})},e.prototype.getDownloadURL=function(){return ce("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(e){var t=e.downloadURLs[0];if(j(t))return t;throw m()})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new h(f.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),Ue=function(){function e(e){this.promise_=function(e){return Promise.reject(e)}(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}(),je=function(){function e(){this.map_={},this.id_=l}return e.prototype.addRequest=function(e){var t=this.id_;this.id_++,this.map_[t]=e;var n=this;function i(){delete n.map_[t]}e.getPromise().then(i,i)},e.prototype.clear=function(){L(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}},e}(),Be=function(){function e(t,n,i,r,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;j(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=i,this.pool_=o,this.service_=r,this.maxOperationRetryTime_=u,this.maxUploadRetryTime_=c,this.requestMap_=new je}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:X.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&j(this.app_.INTERNAL)&&j(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):U(null)},e.prototype.bucket=function(){if(this.deleted_)throw b();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new Ue(b());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}();var We=function(){function e(e,t,n,i,r,o,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=F(function(e,t){h.resolve_=e,h.reject_=t,h.start_()})}return e.prototype.start_=function(){var e=this;function t(t,n){var i,r=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());B(s)?r(s):r()}catch(e){o(e)}else null!==a?((i=p()).setServerResponseProp(a.getResponseText()),e.errorCallback_?o(e.errorCallback_(a,i)):o(i)):n.canceled?o(i=e.appDelete_?b():v()):o(i=new h(f.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new He(!1,null,!0)):this.backoffId_=function(e,t,n){var i=1,r=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,t.apply(null,arguments))}function l(t){r=setTimeout(function(){r=null,e(h,s())},t)}function h(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];u||(e?c.apply(null,arguments):s()||o?c.apply(null,arguments):(i<64&&(i*=2),1===a?(a=2,t=0):t=1e3*(i+Math.random()),l(t)))}var f=!1;function d(e){f||(f=!0,u||(null!==r?(e||(a=2),clearTimeout(r),l(0)):e||(a=1)))}return l(0),setTimeout(function(){o=!0,d(!0)},n),d}(function(t,n){if(n)t(!1,new He(!1,null,!0));else{var i=e.pool_.createXhrIo();e.pendingXhr_=i,null!==e.progressCallback_&&i.addUploadProgressListener(r),i.send(e.url_,e.method_,e.body_,e.headers_).then(function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(r),e.pendingXhr_=null;var i=(n=n).getErrorCode()===k.NO_ERROR,o=n.getStatus();if(i&&!e.isRetryStatusCode_(o)){var a=_e(e.successCodes_,o);t(!0,new He(a,n))}else{var s=n.getErrorCode()===k.ABORT;t(!1,new He(!1,null,s))}})}function r(t){var n=t.loaded,i=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,i)}},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=_e([408,429],e),i=_e(this.additionalRetryCodes_,e);return t||n||i},e}(),He=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function Ve(e,t,n){var r=te(e.urlParams),o=e.url+r,a=M(e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(a,t),function(e){var t=void 0!==i.default?i.default.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}(a),new We(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var qe=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new Be(e,function(e,t){return new Fe(e,t)},Ve,this,t),this.app_=e,null!=n)this.bucket_=X.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new X(i,""))}this.internals_=new Ke(this)}return e.prototype.ref=function(e){function t(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(ce("ref",[he(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Fe(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{X.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}}return ce("refFromURL",[he(t,!1)],arguments),new Fe(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){ce("setMaxUploadRetryTime",[pe()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){ce("setMaxOperationRetryTime",[pe()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Ke=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),U(void 0)},e}(),Ge="storage";function ze(e,t,n){return new qe(e,new Y,n)}function Ye(e){var t={TaskState:D,TaskEvent:R,StringFormat:E,Storage:qe,Reference:Fe};e.INTERNAL.registerService(Ge,ze,t,void 0,!0)}Ye(i.default)},function(e,t,n){(function(i){var r;!function(){var o=n(2);n(12);var a,s,u,c,l={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(l=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function i(t,n){for(var i=0;i<e.length;i++)if(e[i].className===t)return void 0!==n&&(e[i]=n),e[i];return!1}function r(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function o(e,t){return-1!==r(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var i=document.createEvent("Events");return i.initEvent(e,t,n),i}function s(t,n){if(void 0===t&&void 0===n)for(var r=0;r<e.length;r++)s(e[r].className,e[r].cssClass);else{var o=t;if(void 0===n){var a=i(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],o)}}function u(s,u){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var l=r(s),h=[];if(u)o(s,u)||h.push(i(u));else{var f=s.classList;e.forEach(function(e){f.contains(e.cssClass)&&-1===h.indexOf(e)&&!o(s,e.className)&&h.push(e)})}for(var d,p=0,v=h.length;p<v;p++){if(!(d=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(d.className),s.setAttribute("data-upgraded",l.join(","));var g=new d.classConstructor(s);g[n]=d,t.push(g);for(var m=0,y=d.callbacks.length;m<y;m++)d.callbacks[m](s);d.widget&&(s[d.className]=g);var b=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(e){if(e){var i=t.indexOf(e);t.splice(i,1);var r=e.element_.getAttribute("data-upgraded").split(","),o=r.indexOf(e[n].classAsString);r.splice(o,1),e.element_.setAttribute("data-upgraded",r.join(","));var s=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:u,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,i=0,r=t.length;i<r;i++)(n=t[i])instanceof HTMLElement&&(u(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)s(e[t].className)},registerUpgradedCallback:function(e,t){var n=i(e);n&&n.callbacks.push(t)},register:function(t){var r=!0;void 0===t.widget&&void 0===t.widget||(r=t.widget||t.widget);var o={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:r,callbacks:[]};if(e.forEach(function(e){if(e.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===o.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");i(t.classAsString,o)||e.push(o)},downgradeElements:function(e){var n=function(e){t.filter(function(t){return t.element_===e}).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var i=0;i<e.length;i++)n(e[i]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,l.ComponentConfig,l.Component,l.upgradeDom=l.upgradeDom,l.upgradeElement=l.upgradeElement,l.upgradeElements=l.upgradeElements,l.upgradeAllRegistered=l.upgradeAllRegistered,l.registerUpgradedCallback=l.registerUpgradedCallback,l.register=l.register,l.downgradeElements=l.downgradeElements,window.componentHandler=l,window.componentHandler=l,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),l.upgradeAllRegistered()):(l.upgradeElement=function(){},l.register=function(){})}),a=function(e){this.element_=e,this.init()},window.MaterialButton=a,a.prototype.Constant_={},a.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},a.prototype.blurHandler_=function(e){e&&this.element_.blur()},a.prototype.disable=function(){this.element_.disabled=!0},a.prototype.disable=a.prototype.disable,a.prototype.enable=function(){this.element_.disabled=!1},a.prototype.enable=a.prototype.enable,a.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},l.register({constructor:a,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0}),s=function(e){this.element_=e,this.init()},window.MaterialProgress=s,s.prototype.Constant_={},s.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},s.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},s.prototype.setProgress=s.prototype.setProgress,s.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},s.prototype.setBuffer=s.prototype.setBuffer,s.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},l.register({constructor:s,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0}),u=function(e){this.element_=e,this.init()},window.MaterialSpinner=u,u.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},u.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},u.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,i,r],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}t.appendChild(n),t.appendChild(i),t.appendChild(r),this.element_.appendChild(t)},u.prototype.createLayer=u.prototype.createLayer,u.prototype.stop=function(){this.element_.classList.remove("is-active")},u.prototype.stop=u.prototype.stop,u.prototype.start=function(){this.element_.classList.add("is-active")},u.prototype.start=u.prototype.start,u.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},l.register({constructor:u,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0}),c=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},window.MaterialTextfield=c,c.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},c.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},c.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},c.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},c.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},c.prototype.onReset_=function(e){this.updateClasses_()},c.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},c.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},c.prototype.checkDisabled=c.prototype.checkDisabled,c.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},c.prototype.checkFocus=c.prototype.checkFocus,c.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},c.prototype.checkValidity=c.prototype.checkValidity,c.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},c.prototype.checkDirty=c.prototype.checkDirty,c.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},c.prototype.disable=c.prototype.disable,c.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},c.prototype.enable=c.prototype.enable,c.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},c.prototype.change=c.prototype.change,c.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},l.register({constructor:c,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0}),function(){var i=window.CustomEvent;function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function u(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved";n|=r.type.substr(0,o.length)===o,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,r)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var r=0;r<i.length;++r){var o=i[r],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(e){}if(a&&s(a,e)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var n=[];t.forEach(function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))}),n.length&&e(n)}))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var d=f.get;f.get=function(){return u(this)?"dialog":d.call(this)};var p=f.set;f.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):p.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&u(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}o(t)&&(l.formSubmitter=t)}}},!1);var v=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return v.call(this);var e=o(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(u(t)){e.preventDefault();var n=o(t);if(n){var i=l.formSubmitter;i&&i.form===t?n.close(l.useValue||i.value):n.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n(22)?void 0===(r=function(){return l}.call(t,n,t,e))||(e.exports=r):"object"==typeof e.exports?e.exports=l:window.dialogPolyfill=l}(),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n="undefined"!=typeof window&&window===this?this:void 0!==i&&null!=i?i:this;function r(){r=function(){},n.Symbol||(n.Symbol=s)}var a,s=(a=0,function(e){return"jscomp_symbol_"+(e||"")+a++});function u(){r();var e=n.Symbol.iterator;e||(e=n.Symbol.iterator=n.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&t(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return c(this)}}),u=function(){}}function c(e){var t=0;return function(e){return u(),(e={next:e})[n.Symbol.iterator]=function(){return this},e}(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function l(e){u();var t=e[Symbol.iterator];return t?t.call(e):c(e)}for(var h=n,f=["Promise"],d=0;d<f.length-1;d++){var p=f[d];p in h||(h[p]={}),h=h[p]}var v=f[f.length-1],g=h[v],m=function(){function e(e){this.a=0,this.h=void 0,this.g=[];var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(g)return g;t.prototype.g=function(e){null==this.a&&(this.a=[],this.j()),this.a.push(e)},t.prototype.j=function(){var e=this;this.h(function(){e.u()})};var r=n.setTimeout;t.prototype.h=function(e){r(e,0)},t.prototype.u=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];delete e[t];try{n()}catch(e){this.i(e)}}}this.a=null},t.prototype.i=function(e){this.h(function(){throw e})},e.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.F),reject:e(this.i)}},e.prototype.F=function(t){if(t===this)this.i(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.H(t);else{e:switch(typeof t){case"object":var n=null!=t;break e;case"function":n=!0;break e;default:n=!1}n?this.D(t):this.u(t)}},e.prototype.D=function(e){var t=void 0;try{t=e.then}catch(e){return void this.i(e)}"function"==typeof t?this.J(t,e):this.u(e)},e.prototype.i=function(e){this.v(2,e)},e.prototype.u=function(e){this.v(1,e)},e.prototype.v=function(e,t){if(0!=this.a)throw Error("Cannot settle("+e+", "+t|"): Promise already settled in state"+this.a);this.a=e,this.h=t,this.A()},e.prototype.A=function(){if(null!=this.g){for(var e=this.g,t=0;t<e.length;++t)e[t].call(),e[t]=null;this.g=null}};var o=new t;return e.prototype.H=function(e){var t=this.j();e.ya(t.resolve,t.reject)},e.prototype.J=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},e.prototype.then=function(t,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){o(e)}}:t}var r,o,a=new e(function(e,t){r=e,o=t});return this.ya(i(t,r),i(n,o)),a},e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.ya=function(e,t){function n(){switch(i.a){case 1:e(i.h);break;case 2:t(i.h);break;default:throw Error("Unexpected state: "+i.a)}}var i=this;null==this.g?o.g(n):this.g.push(function(){o.g(n)})},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=l(t),o=r.next();!o.done;o=r.next())i(o.value).ya(e,n)})},e.all=function(t){var n=l(t),r=n.next();return r.done?i([]):new e(function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).ya(o(a.length-1),t),r=n.next()}while(!r.done)})},e}();m!=g&&null!=m&&t(h,v,{configurable:!0,writable:!0,value:m});var y=this;function b(e){return void 0!==e}function _(e){return"string"==typeof e}function w(){}function E(e){e.S=void 0,e.Ia=function(){return e.S?e.S:e.S=new e}}function C(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function S(e){return null!=e}function T(e){return"array"==C(e)}function I(e){var t=C(e);return"array"==t||"object"==t&&"number"==typeof e.length}function A(e){return"function"==C(e)}function N(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var k="closure_uid_"+(1e9*Math.random()>>>0),R=0;function x(e,t,n){return e.call.apply(e.bind,arguments)}function D(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function O(e,t,n){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x:D).apply(null,arguments)}function P(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function L(e,t){for(var n in t)e[n]=t[n]}var M,F=Date.now||function(){return+new Date};function U(e,t){e=e.split(".");var n,i=y;e[0]in i||!i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&b(t)?i[n]=t:i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}}function j(e,t){function n(){}n.prototype=t.prototype,e.o=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Mb=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function B(e){if(Error.captureStackTrace)Error.captureStackTrace(this,B);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}j(B,Error),B.prototype.name="CustomError";var W=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function H(e){return Q.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(V,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(q,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(K,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(G,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(z,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Y,"&#0;")),e):e}var V=/&/g,q=/</g,K=/>/g,G=/"/g,z=/'/g,Y=/\x00/g,Q=/[\x00&<>"']/;function X(e,t){return e<t?-1:e>t?1:0}function $(e,t){t.unshift(e),B.call(this,function(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}.apply(null,t)),t.shift()}function J(e,t){throw new $("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}j($,B),$.prototype.name="AssertionError";var Z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(_(e))return _(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ee=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=_(e)?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)};var te,ne=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=[],r=0,o=_(e)?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(i[r++]=s)}return i},ie=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r=_(e)?e.split(""):e,o=0;o<n;o++)o in r&&(i[o]=t.call(void 0,r[o],o,e));return i},re=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=_(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function oe(e,t,n){for(var i=e.length,r=_(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&t.call(n,r[o],o,e))return o;return-1}function ae(e,t){return 0<=Z(e,t)}function se(e,t){var n;return(n=0<=(t=Z(e,t)))&&ue(e,t),n}function ue(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function ce(e,t){!function(e,t){var n=e.length,i=_(e)?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(void 0,i[n],n,e)}(e,function(n,i){t.call(void 0,n,i,e)&&ue(e,i)&&0})}function le(e){return Array.prototype.concat.apply([],arguments)}function he(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}e:{var fe=y.navigator;if(fe){var de=fe.userAgent;if(de){te=de;break e}}te=""}function pe(e){return-1!=te.indexOf(e)}function ve(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function be(){return(pe("Chrome")||pe("CriOS"))&&!pe("Edge")}function _e(e){return _e[" "](e),e}_e[" "]=w;var we,Ee=pe("Opera"),Ce=pe("Trident")||pe("MSIE"),Se=pe("Edge"),Te=Se||Ce,Ie=pe("Gecko")&&!(-1!=te.toLowerCase().indexOf("webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),Ae=-1!=te.toLowerCase().indexOf("webkit")&&!pe("Edge"),Ne=Ae&&pe("Mobile"),ke=pe("Macintosh");function Re(){var e=y.document;return e?e.documentMode:void 0}e:{var xe="",De=function(){var e=te;return Ie?/rv:([^\);]+)(\)|;)/.exec(e):Se?/Edge\/([\d\.]+)/.exec(e):Ce?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ae?/WebKit\/(\S+)/.exec(e):Ee?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(De&&(xe=De?De[1]:""),Ce){var Oe=Re();if(null!=Oe&&Oe>parseFloat(xe)){we=String(Oe);break e}}we=xe}var Pe,Le={};function Me(e){return function(e,t){var n=Le;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=W(String(we)).split("."),i=W(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=X(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||X(0==a[2].length,0==s[2].length)||X(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}var Fe=y.document;function Ue(){this.a="",this.g=Be}function je(e){return e instanceof Ue&&e.constructor===Ue&&e.g===Be?e.a:(J("expected object of type Const, got '"+e+"'"),"type_error:Const")}Pe=Fe&&Ce?Re()||("CSS1Compat"==Fe.compatMode?parseInt(we,10):5):void 0,Ue.prototype.ja=!0,Ue.prototype.ha=function(){return this.a},Ue.prototype.toString=function(){return"Const{"+this.a+"}"};var Be={};function We(e){var t=new Ue;return t.a=e,t}function He(){this.a="",this.h=qe}function Ve(e){return e instanceof He&&e.constructor===He&&e.h===qe?e.a:(J("expected object of type TrustedResourceUrl, got '"+e+"' of type "+C(e)),"type_error:TrustedResourceUrl")}We(""),He.prototype.ja=!0,He.prototype.ha=function(){return this.a},He.prototype.g=function(){return 1},He.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var qe={};function Ke(e){var t=new He;return t.a=e,t}function Ge(){this.a="",this.h=Xe}function ze(e){return e instanceof Ge&&e.constructor===Ge&&e.h===Xe?e.a:(J("expected object of type SafeUrl, got '"+e+"' of type "+C(e)),"type_error:SafeUrl")}Ge.prototype.ja=!0,Ge.prototype.ha=function(){return this.a},Ge.prototype.g=function(){return 1},Ge.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ye=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Qe(e){return e instanceof Ge?e:(e=e.ja?e.ha():String(e),Ye.test(e)||(e="about:invalid#zClosurez"),$e(e))}var Xe={};function $e(e){var t=new Ge;return t.a=e,t}function Je(){this.a="",this.j=et,this.h=null}function Ze(e){return e instanceof Je&&e.constructor===Je&&e.j===et?e.a:(J("expected object of type SafeHtml, got '"+e+"' of type "+C(e)),"type_error:SafeHtml")}$e("about:blank"),Je.prototype.g=function(){return this.h},Je.prototype.ja=!0,Je.prototype.ha=function(){return this.a},Je.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var et={};function tt(e,t){var n=new Je;return n.a=e,n.h=t,n}function nt(e,t){this.a=b(e)?e:0,this.g=b(t)?t:0}function it(e,t){this.width=e,this.height=t}function rt(e){return e?new pt(ht(e)):M||(M=new pt)}function ot(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):st(document,e,t)}function at(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var i=t||n;e=i.querySelectorAll&&i.querySelector&&e?i.querySelector(e?"."+e:""):st(n,e,t)[0]||null}return e||null}function st(e,t,n){var i;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var r=e.getElementsByClassName(t);return r}if(r=e.getElementsByTagName("*"),t){var o={};for(n=i=0;e=r[n];n++){var a=e.className;"function"==typeof a.split&&ae(a.split(/\s+/),t)&&(o[i++]=e)}return o.length=i,o}return r}tt("<!DOCTYPE html>",0),tt("",0),tt("<br>",0),nt.prototype.toString=function(){return"("+this.a+", "+this.g+")"},nt.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},nt.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},nt.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=it.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var ut={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ct(e){return e.scrollingElement?e.scrollingElement:(Ae||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function lt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ht(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function ft(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(ht(e).createTextNode(String(t)))}}function dt(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode,0}return null}(e,function(e){return!t||_(e.className)&&ae(e.className.split(/\s+/),t)}):null}function pt(e){this.a=e||y.document||document}pt.prototype.K=function(){return _(void 0)?this.a.getElementById(void 0):void 0};var vt="StopIteration"in y?y.StopIteration:{message:"StopIteration",stack:""};function gt(){}function mt(e){if(e instanceof gt)return e;if("function"==typeof e.ba)return e.ba(!1);if(I(e)){var t=0,n=new gt;return n.next=function(){for(;;){if(t>=e.length)throw vt;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function yt(e){if(I(e))return he(e);e=mt(e);var t=[];return function(e,t){if(I(e))try{ee(e,t,void 0)}catch(e){if(e!==vt)throw e}else{e=mt(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(e){if(e!==vt)throw e}}}(e,function(e){t.push(e)}),t}function bt(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e){if(e instanceof bt){var r=e.ga();i=e.ca()}else{n=[];var o=0;for(r in e)n[o++]=r;for(i in r=n,n=[],o=0,e)n[o++]=e[i];i=n}for(n=0;n<r.length;n++)this.set(r[n],i[n])}}function _t(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];wt(e.g,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.h!=e.a.length){var r={};for(n=t=0;t<e.a.length;)wt(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}gt.prototype.next=function(){throw vt},gt.prototype.ba=function(){return this},(e=bt.prototype).ca=function(){_t(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ga=function(){return _t(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return wt(this.g,e)?this.g[e]:t},e.set=function(e,t){wt(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ga(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}},e.ba=function(e){_t(this);var t=0,n=this.j,i=this,r=new gt;return r.next=function(){if(n!=i.j)throw Error("The map has changed since the iterator was created");if(t>=i.a.length)throw vt;var r=i.a[t++];return e?r:i.g[r]},r};var Et=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ct(e,t,n,i){for(var r=n.length;0<=(t=e.indexOf(n,t))&&t<i;){var o=e.charCodeAt(t-1);if((38==o||63==o)&&(!(o=e.charCodeAt(t+r))||61==o||38==o||35==o))return t;t+=r+1}return-1}var St=/#|$/;function Tt(e,t){var n=e.search(St),i=Ct(e,0,t,n);if(0>i)return null;var r=e.indexOf("&",i);return(0>r||r>n)&&(r=n),i+=t.length+1,decodeURIComponent(e.substr(i,r-i).replace(/\+/g," "))}var It=/[?&]($|#)/;function At(e,t){var n;this.g=this.v=this.h="",this.A=null,this.j=this.a="",this.i=!1,e instanceof At?(this.i=b(t)?t:e.i,Nt(this,e.h),this.v=e.v,this.g=e.g,kt(this,e.A),this.a=e.a,Rt(this,qt(e.u)),this.j=e.j):e&&(n=String(e).match(Et))?(this.i=!!t,Nt(this,n[1]||"",!0),this.v=Dt(n[2]||""),this.g=Dt(n[3]||"",!0),kt(this,n[4]),this.a=Dt(n[5]||"",!0),Rt(this,n[6]||"",!0),this.j=Dt(n[7]||"")):(this.i=!!t,this.u=new Bt(null,this.i))}function Nt(e,t,n){e.h=n?Dt(t,!0):t,e.h&&(e.h=e.h.replace(/:$/,""))}function kt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.A=t}else e.A=null}function Rt(e,t,n){t instanceof Bt?(e.u=t,function(e,t){t&&!e.j&&(Wt(e),e.h=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ht(this,t),Ht(this,n),0<e.length&&(this.h=null,this.a.set(Kt(this,n),he(e)),this.g+=e.length))},e)),e.j=t}(e.u,e.i)):(n||(t=Ot(t,Ut)),e.u=new Bt(t,e.i))}function xt(e){return e instanceof At?new At(e):new At(e,void 0)}function Dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ot(e,t,n){return _(e)?(e=encodeURI(e).replace(t,Pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}At.prototype.toString=function(){var e=[],t=this.h;t&&e.push(Ot(t,Lt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.v)&&e.push(Ot(t,Lt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.A)&&e.push(":",String(n))),(n=this.a)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ot(n,"/"==n.charAt(0)?Ft:Mt,!0))),(n=this.u.toString())&&e.push("?",n),(n=this.j)&&e.push("#",Ot(n,jt)),e.join("")},At.prototype.resolve=function(e){var t=new At(this),n=!!e.h;n?Nt(t,e.h):n=!!e.v,n?t.v=e.v:n=!!e.g,n?t.g=e.g:n=null!=e.A;var i=e.a;if(n)kt(t,e.A);else if(n=!!e.a){if("/"!=i.charAt(0))if(this.g&&!this.a)i="/"+i;else{var r=t.a.lastIndexOf("/");-1!=r&&(i=t.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?t.a=i:n=""!==e.u.toString(),n?Rt(t,qt(e.u)):n=!!e.j,n&&(t.j=e.j),t};var Lt=/[#\/\?@]/g,Mt=/[#\?:]/g,Ft=/[#\?]/g,Ut=/[#\?@]/g,jt=/#/g;function Bt(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Wt(e){e.a||(e.a=new bt,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.h,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ht(e,t){Wt(e),t=Kt(e,t),wt(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,wt((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&_t(e)))}function Vt(e,t){return Wt(e),t=Kt(e,t),wt(e.a.g,t)}function qt(e){var t=new Bt;return t.h=e.h,e.a&&(t.a=new bt(e.a),t.g=e.g),t}function Kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(e=Bt.prototype).add=function(e,t){Wt(this),this.h=null,e=Kt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Wt(this),this.a.forEach(function(n,i){ee(n,function(n){e.call(t,n,i,this)},this)},this)},e.ga=function(){Wt(this);for(var e=this.a.ca(),t=this.a.ga(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},e.ca=function(e){Wt(this);var t=[];if(_(e))Vt(this,e)&&(t=le(t,this.a.get(Kt(this,e))));else{e=this.a.ca();for(var n=0;n<e.length;n++)t=le(t,e[n])}return t},e.set=function(e,t){return Wt(this),this.h=null,Vt(this,e=Kt(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return 0<(e=e?this.ca(e):[]).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ga(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.ca(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.h=e.join("&")};var Gt={Yb:!0},zt={$b:!0},Yt={Zb:!0};function Qt(){throw Error("Do not instantiate directly")}function Xt(e,t,n,i){return e=e(t||Jt,void 0,n),i=(i||rt()).a.createElement("DIV"),(e=function(e){if(!N(e))return String(e);if(e instanceof Qt){if(e.P===Gt)return e.content;if(e.P===Yt)return H(e.content)}return J("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match($t),i.innerHTML=e,1==i.childNodes.length&&(1==(e=i.firstChild).nodeType&&(i=e)),i}Qt.prototype.X=null,Qt.prototype.toString=function(){return this.content};var $t=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Jt={};function Zt(){Qt.call(this)}function en(e){return null!=e&&e.P===Gt?e:e instanceof Je?cn(Ze(e),e.g()):cn(H(String(String(e))),function(e){if(null!=e)switch(e.X){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function tn(){Qt.call(this)}function nn(){Qt.call(this)}function rn(){Qt.call(this)}function on(){Qt.call(this)}function an(e,t){this.content=String(e),this.X=null!=t?t:null}function sn(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}function un(e){return new an(e,void 0)}j(Zt,Qt),Zt.prototype.P=Gt,j(tn,Qt),tn.prototype.P={Xb:!0},tn.prototype.X=1,j(nn,Qt),nn.prototype.P=zt,nn.prototype.X=1,j(rn,Qt),rn.prototype.P={Wb:!0},rn.prototype.X=1,j(on,Qt),on.prototype.P={Vb:!0},on.prototype.X=1,j(an,Qt),an.prototype.P=Yt;var cn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.X=n),e}}(Zt);sn(tn);var ln=sn(nn);function hn(e){return(e=String(e))?new an(e,void 0):""}sn(rn),sn(on);var fn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.X=n),e):""}}(Zt);function dn(e){return null!=e&&e.P===Gt?String(String(e.content).replace(En,"").replace(Cn,"&lt;")).replace(bn,gn):H(String(e))}function pn(e){return null!=e&&e.P===zt?e=String(e).replace(_n,yn):e instanceof Ge?e=String(ze(e)).replace(_n,yn):(e=String(e),wn.test(e)?e=e.replace(_n,yn):(J("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}var vn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function gn(e){return vn[e]}var mn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function yn(e){return mn[e]}var bn=/[\x00\x22\x27\x3c\x3e]/g,_n=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,wn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,En=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Cn=/</g;function Sn(){return un("Enter a valid phone number")}function Tn(){return un("Something went wrong. Please try again.")}function In(){return un("Your sign-in session has expired. Please try again.")}function An(){return un("This email already exists without any means of sign-in. Please reset the password to recover.")}function Nn(){return un("Please login again to perform this operation")}function kn(e,t,n){if(this.code=Rn+e,!(e=t)){switch(e="",this.code){case"firebaseui/merge-conflict":e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:e+=Tn()}e=un(e).toString()}this.message=e||"",this.credential=n||null}j(kn,Error),kn.prototype.fa=function(){return{code:this.code,message:this.message}},kn.prototype.toJSON=function(){return this.fa()};var Rn="firebaseui/";function xn(){0!=Dn&&(On[this[k]||(this[k]=++R)]=this),this.J=this.J,this.H=this.H}var Dn=0,On={};function Pn(e,t){e.J?b(void 0)?t.call(void 0):t():(e.H||(e.H=[]),e.H.push(b(void 0)?O(t,void 0):t))}function Ln(e){e&&"function"==typeof e.m&&e.m()}xn.prototype.J=!1,xn.prototype.m=function(){if(!this.J&&(this.J=!0,this.l(),0!=Dn)){var e=this[k]||(this[k]=++R);delete On[e]}},xn.prototype.l=function(){if(this.H)for(;this.H.length;)this.H.shift()()};var Mn=Object.freeze||function(e){return e},Fn=!Ce||9<=Number(Pe),Un=Ce&&!Me("9"),jn=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return y.addEventListener("test",w,t),y.removeEventListener("test",w,t),e}();function Bn(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.Va=!0}function Wn(e,t){if(Bn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ie){e:{try{_e(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=_(e.pointerType)?e.pointerType:Hn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Bn.prototype.stopPropagation=function(){this.h=!0},Bn.prototype.preventDefault=function(){this.Va=!1},j(Wn,Bn);var Hn=Mn({2:"touch",3:"pen",4:"mouse"});Wn.prototype.stopPropagation=function(){Wn.o.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Wn.prototype.preventDefault=function(){Wn.o.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Un)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var Vn="closure_listenable_"+(1e6*Math.random()|0);function qn(e){return!(!e||!e[Vn])}var Kn=0;function Gn(e,t,n,i,r){this.listener=e,this.a=null,this.src=t,this.type=n,this.capture=!!i,this.Aa=r,this.key=++Kn,this.ka=this.xa=!1}function zn(e){e.ka=!0,e.listener=null,e.a=null,e.src=null,e.Aa=null}function Yn(e){this.src=e,this.a={},this.g=0}function Qn(e,t){var n=t.type;n in e.a&&se(e.a[n],t)&&(zn(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function Xn(e,t,n,i,r){return e=e.a[t.toString()],t=-1,e&&(t=$n(e,n,i,r)),-1<t?e[t]:null}function $n(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.ka&&o.listener==t&&o.capture==!!n&&o.Aa==i)return r}return-1}Yn.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.g++);var a=$n(e,t,i,r);return-1<a?(t=e[a],n||(t.xa=!1)):((t=new Gn(t,this.src,o,!!i,r)).xa=n,e.push(t)),t};var Jn="closure_lm_"+(1e6*Math.random()|0),Zn={};function ei(e,t,n,i,r){if(i&&i.once)return ni(e,t,n,i,r);if(T(t)){for(var o=0;o<t.length;o++)ei(e,t[o],n,i,r);return null}return n=hi(n),qn(e)?e.Z(t,n,N(i)?!!i.capture:!!i,r):ti(e,t,n,!1,i,r)}function ti(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=N(r)?!!r.capture:!!r,s=ci(e);if(s||(e[Jn]=s=new Yn(e)),(n=s.add(t,n,i,a,o)).a)return n;if(i=function(){var e=ui,t=Fn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.a=i,i.src=e,i.listener=n,e.addEventListener)jn||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(oi(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return 0,n}function ni(e,t,n,i,r){if(T(t)){for(var o=0;o<t.length;o++)ni(e,t[o],n,i,r);return null}return n=hi(n),qn(e)?e.A.add(String(t),n,!0,N(i)?!!i.capture:!!i,r):ti(e,t,n,!0,i,r)}function ii(e,t,n,i,r){if(T(t))for(var o=0;o<t.length;o++)ii(e,t[o],n,i,r);else i=N(i)?!!i.capture:!!i,n=hi(n),qn(e)?e.La(t,n,i,r):e&&(e=ci(e))&&(t=Xn(e,t,n,i,r))&&ri(t)}function ri(e){if("number"!=typeof e&&e&&!e.ka){var t=e.src;if(qn(t))Qn(t.A,e);else{var n=e.type,i=e.a;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(oi(n),i):t.addListener&&t.removeListener&&t.removeListener(i),0,(n=ci(t))?(Qn(n,e),0==n.g&&(n.src=null,t[Jn]=null)):zn(e)}}}function oi(e){return e in Zn?Zn[e]:Zn[e]="on"+e}function ai(e,t,n,i){var r=!0;if((e=ci(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ka&&(o=si(o,i),r=r&&!1!==o)}return r}function si(e,t){var n=e.listener,i=e.Aa||e.src;return e.xa&&ri(e),n.call(i,t)}function ui(e,t){if(e.ka)return!0;if(!Fn){if(!t)e:{t=["window","event"];for(var n=y,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new Wn(i=t,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.g;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;!t.h&&0<=r;r--){t.g=i[r];var o=ai(i[r],e,!0,t);n=n&&o}for(r=0;!t.h&&r<i.length;r++)t.g=i[r],o=ai(i[r],e,!1,t),n=n&&o}return n}return si(e,new Wn(t,this))}function ci(e){return(e=e[Jn])instanceof Yn?e:null}var li="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(e){return A(e)?e:(e[li]||(e[li]=function(t){return e.handleEvent(t)}),e[li])}function fi(){xn.call(this),this.A=new Yn(this),this.Za=this,this.ta=null}function di(e,t){var n,i=e.ta;if(i)for(n=[];i;i=i.ta)n.push(i);if(e=e.Za,i=t.type||t,_(t))t=new Bn(t,e);else if(t instanceof Bn)t.target=t.target||e;else{var r=t;ye(t=new Bn(i,e),r)}if(r=!0,n)for(var o=n.length-1;!t.h&&0<=o;o--){var a=t.g=n[o];r=pi(a,i,!0,t)&&r}if(t.h||(r=pi(a=t.g=e,i,!0,t)&&r,t.h||(r=pi(a,i,!1,t)&&r)),n)for(o=0;!t.h&&o<n.length;o++)r=pi(a=t.g=n[o],i,!1,t)&&r;return r}function pi(e,t,n,i){if(!(t=e.A.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ka&&a.capture==n){var s=a.listener,u=a.Aa||a.src;a.xa&&Qn(e.A,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Va}j(fi,xn),fi.prototype[Vn]=!0,(e=fi.prototype).Ka=function(e){this.ta=e},e.removeEventListener=function(e,t,n,i){ii(this,e,t,n,i)},e.l=function(){if(fi.o.l.call(this),this.A){var e,t=this.A;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)0,zn(n[i]);delete t.a[e],t.g--}}this.ta=null},e.Z=function(e,t,n,i){return this.A.add(String(e),t,!1,n,i)},e.La=function(e,t,n,i){var r=this.A;if((e=String(e).toString())in r.a){var o=r.a[e];-1<(t=$n(o,t,n,i))&&(zn(o[t]),ue(o,t),0==o.length&&(delete r.a[e],r.g--))}};var vi={},gi=0;function mi(e,t){if(!e)throw Error("Event target element must be provided!");if(e=bi(e),vi[e]&&vi[e].length)for(var n=0;n<vi[e].length;n++)di(vi[e][n],t)}function yi(e){var t=bi(e.K());vi[t]&&vi[t].length&&(function(e,t){0<=(t=oe(e,t,void 0))&&ue(e,t)}(vi[t],function(t){return t==e}),vi[t].length||delete vi[t])}function bi(e){return void 0===e.a&&(e.a=gi,gi++),e.a}function _i(e){if(!e)throw Error("Event target element must be provided!");this.a=e,fi.call(this)}function wi(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function Ei(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function Ci(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function Si(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function Ti(){this.g=this.a=null}j(_i,fi),_i.prototype.K=function(){return this.a},Ci.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var Ii,Ai,Ni=new Ci(function(){return new Ri},function(e){e.reset()});function ki(){var e=Pi,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function Ri(){this.next=this.g=this.a=null}function xi(e){y.setTimeout(function(){throw e},0)}function Di(e,t){Ai||function(){if(-1!=String(y.Promise).indexOf("[native code]")){var e=y.Promise.resolve(void 0);Ai=function(){e.then(Li)}}else Ai=function(){var e=Li;!A(y.setImmediate)||y.Window&&y.Window.prototype&&!pe("Edge")&&y.Window.prototype.setImmediate==y.setImmediate?(Ii||(Ii=function(){var e=y.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=O(function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),void 0!==e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(b(n.next)){var e=(n=n.next).Sa;n.Sa=null,e()}},function(e){i.next={Sa:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){y.setTimeout(e,0)}}()),Ii(e)):y.setImmediate(e)}}(),Oi||(Ai(),Oi=!0),Pi.add(e,t)}Ti.prototype.add=function(e,t){var n=Ni.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},Ri.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},Ri.prototype.reset=function(){this.next=this.g=this.a=null};var Oi=!1,Pi=new Ti;function Li(){for(var e;e=ki();){try{e.a.call(e.g)}catch(e){xi(e)}Si(Ni,e)}Oi=!1}function Mi(e,t){if(this.a=Fi,this.v=void 0,this.j=this.g=this.h=null,this.i=this.u=!1,e!=w)try{var n=this;e.call(t,function(e){Yi(n,Ui,e)},function(e){if(!(e instanceof er))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Yi(n,ji,e)})}catch(e){Yi(this,ji,e)}}var Fi=0,Ui=2,ji=3;function Bi(){this.next=this.context=this.g=this.h=this.a=null,this.j=!1}Bi.prototype.reset=function(){this.context=this.g=this.h=this.a=null,this.j=!1};var Wi=new Ci(function(){return new Bi},function(e){e.reset()});function Hi(e,t,n){var i=Wi.get();return i.h=e,i.g=t,i.context=n,i}function Vi(e){if(e instanceof Mi)return e;var t=new Mi(w);return Yi(t,Ui,e),t}function qi(e){return new Mi(function(t,n){n(e)})}function Ki(e,t){return zi(e,null,t,void 0)}function Gi(e,t){e.g||e.a!=Ui&&e.a!=ji||Qi(e),e.j?e.j.next=t:e.g=t,e.j=t}function zi(e,t,n,i){var r=Hi(null,null,null);return r.a=new Mi(function(e,o){r.h=t?function(n){try{var r=t.call(i,n);e(r)}catch(e){o(e)}}:e,r.g=n?function(t){try{var r=n.call(i,t);!b(r)&&t instanceof er?o(t):e(r)}catch(e){o(e)}}:o}),r.a.h=e,Gi(e,r),r.a}function Yi(e,t,n){if(e.a==Fi){e===n&&(t=ji,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var i=n,r=e.D,o=e.F;if(i instanceof Mi){Gi(i,Hi(r||w,o||null,e));var a=!0}else if(Ei(i))i.then(r,o,e),a=!0;else{if(N(i))try{var s=i.then;if(A(s)){!function(e,t,n,i,r){function o(e){a||(a=!0,i.call(r,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,n.call(r,e))},o)}catch(e){o(e)}}(i,s,r,o,e),a=!0;break e}}catch(t){o.call(e,t),a=!0;break e}a=!1}}a||(e.v=n,e.a=t,e.h=null,Qi(e),t!=ji||n instanceof er||function(e,t){e.i=!0,Di(function(){e.i&&Zi.call(null,t)})}(e,n))}}function Qi(e){e.u||(e.u=!0,Di(e.A,e))}function Xi(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function $i(e,t,n,i){if(n==ji&&t.g&&!t.j)for(;e&&e.i;e=e.h)e.i=!1;if(t.a)t.a.h=null,Ji(t,n,i);else try{t.j?t.h.call(t.context):Ji(t,n,i)}catch(e){Zi.call(null,e)}Si(Wi,t)}function Ji(e,t,n){t==Ui?e.h.call(e.context,n):e.g&&e.g.call(e.context,n)}Mi.prototype.then=function(e,t,n){return zi(this,A(e)?e:null,A(t)?t:null,n)},wi(Mi),Mi.prototype.cancel=function(e){this.a==Fi&&Di(function(){!function e(t,n){if(t.a==Fi)if(t.h){var i=t.h;if(i.g){for(var r=0,o=null,a=null,s=i.g;s&&(s.j||(r++,s.a==t&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==Fi&&1==r?e(i,n):(a?((r=a).next==i.j&&(i.j=r),r.next=r.next.next):Xi(i),$i(i,o,ji,n)))}t.h=null}else Yi(t,ji,n)}(this,new er(e))},this)},Mi.prototype.D=function(e){this.a=Fi,Yi(this,Ui,e)},Mi.prototype.F=function(e){this.a=Fi,Yi(this,ji,e)},Mi.prototype.A=function(){for(var e;e=Xi(this);)$i(this,e,this.a,this.v);this.u=!1};var Zi=xi;function er(e){B.call(this,e)}function tr(e){window.location.assign(ze(Qe(e)))}function nr(){try{return!!(window.opener&&window.opener.location&&window.opener.location.assign&&window.opener.location.hostname===window.location.hostname&&window.opener.location.protocol===window.location.protocol)}catch(e){}return!1}function ir(e){if(null==(e=N(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error("Could not find the FirebaseUI widget element on the page.");return e}function rr(e,t){this.i=[],this.J=e,this.H=t||null,this.j=this.a=!1,this.h=void 0,this.D=this.s=this.v=!1,this.u=0,this.g=null,this.A=0}function or(e,t,n){e.a=!0,e.h=n,e.j=!t,cr(e)}function ar(e){if(e.a){if(!e.D)throw new lr(e);e.D=!1}}function sr(e,t,n){e.i.push([t,n,void 0]),e.a&&cr(e)}function ur(e){return re(e.i,function(e){return A(e[1])})}function cr(e){if(e.u&&e.a&&ur(e)){var t=e.u,n=dr[t];n&&(y.clearTimeout(n.a),delete dr[t]),e.u=0}e.g&&(e.g.A--,delete e.g),t=e.h;for(var i=n=!1;e.i.length&&!e.v;){var r=e.i.shift(),o=r[0],a=r[1];if(r=r[2],o=e.j?a:o)try{var s=o.call(r||e.H,t);b(s)&&(e.j=e.j&&(s==t||s instanceof Error),e.h=t=s),(Ei(t)||"function"==typeof y.Promise&&t instanceof y.Promise)&&(i=!0,e.v=!0)}catch(i){t=i,e.j=!0,ur(e)||(n=!0)}}e.h=t,i&&(s=O(e.F,e,!0),i=O(e.F,e,!1),t instanceof rr?(sr(t,s,i),t.s=!0):t.then(s,i)),n&&(t=new fr(t),dr[t.a]=t,e.u=t.a)}function lr(){B.call(this)}function hr(){B.call(this)}function fr(e){this.a=y.setTimeout(O(this.h,this),0),this.g=e}j(er,B),er.prototype.name="cancel",rr.prototype.cancel=function(e){if(this.a)this.h instanceof rr&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.A--,0>=t.A&&t.cancel())}this.J?this.J.call(this.H,this):this.D=!0,this.a||(e=new hr(this),ar(this),or(this,!1,e))}},rr.prototype.F=function(e,t){this.v=!1,or(this,e,t)},rr.prototype.then=function(e,t,n){var i,r,o=new Mi(function(e,t){i=e,r=t});return sr(this,i,function(e){e instanceof hr?o.cancel():r(e)}),o.then(e,t,n)},wi(rr),j(lr,B),lr.prototype.message="Deferred has already fired",lr.prototype.name="AlreadyCalledError",j(hr,B),hr.prototype.message="Deferred was canceled",hr.prototype.name="CanceledError",fr.prototype.h=function(){throw delete dr[this.a],this.g};var dr={};function pr(e){var t={},n=t.document||document,i=Ve(e),r=document.createElement("SCRIPT"),o={Wa:r,Xa:void 0},a=new rr(vr,o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){gr(r,!0);var e=new br(yr,"Timeout reached for loading script "+i);ar(a),or(a,!1,e)},u),o.Xa=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(gr(r,t.Pb||!1,s),ar(a),or(a,!0,null))},r.onerror=function(){gr(r,!0,s);var e=new br(mr,"Error while loading script "+i);ar(a),or(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){ve(t,function(t,n){t&&t.ja&&(t=t.ha()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ut.hasOwnProperty(n)?e.setAttribute(ut[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}(r,o),r.src=Ve(e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),a}function vr(){if(this&&this.Wa){var e=this.Wa;e&&"SCRIPT"==e.tagName&&gr(e,!0,this.Xa)}}function gr(e,t,n){null!=n&&y.clearTimeout(n),e.onload=w,e.onerror=w,e.onreadystatechange=w,t&&window.setTimeout(function(){lt(e)},0)}var mr=0,yr=1;function br(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),B.call(this,n),this.code=e}function _r(e){this.a=e||y.googleyolo,this.g=null,this.h=!1}j(br,B),E(_r);var wr=We("https://smartlock.google.com/client");function Er(){this.a=null}function Cr(e,t){this.a=e,this.g=t||function(e){throw e}}function Sr(e,t,n){this.reset(e,t,n,void 0,void 0)}_r.prototype.cancel=function(){this.a&&this.h&&(this.g=this.a.cancelLastOperation().catch(function(){}))},E(Er),Er.prototype.load=function(){var e=this;if(this.a)return this.a;var t=Ke(je(wr));return y.googleyolo?Vi():this.a=function(){var e=null;return Ki(new Mi(function(t){"complete"==y.document.readyState?t():(e=function(){t()},ni(window,"load",e))}),function(t){throw ii(window,"load",e),t})}().then(function(){if(!y.googleyolo)return new Mi(function(n,i){var r=setTimeout(function(){e.a=null,i(Error("Network error!"))},1e4);y.onGoogleYoloLoad=function(){clearTimeout(r),n()},Ki(Vi(pr(t)),function(t){clearTimeout(r),e.a=null,i(t)})})})},Cr.prototype.confirm=function(e){return Ki(Vi(this.a.confirm(e)),this.g)},Sr.prototype.a=null;function Tr(e){this.i=e,this.a=this.h=this.j=this.g=null}function Ir(e,t){this.name=e,this.value=t}Sr.prototype.reset=function(e,t,n,i,r){"number"==typeof r||0,this.h=i||F(),this.j=e,this.i=t,this.g=n,delete this.a},Ir.prototype.toString=function(){return this.name};var Ar=new Ir("SHOUT",1200),Nr=new Ir("SEVERE",1e3),kr=new Ir("WARNING",900),Rr=new Ir("CONFIG",700);function xr(e){Wr.log(kr,e,void 0)}Tr.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.j?t.j:t.g?e(t.g):(J("Root logger has no level set."),null)}(this).value)for(A(t)&&(t=t()),e=new Sr(e,String(t),this.i),n&&(e.a=n),n=this;n;){var i=n,r=e;if(i.a)for(var o=0;t=i.a[o];o++)t(r);n=n.g}};var Dr={},Or=null;function Pr(){Or||(Or=new Tr(""),Dr[""]=Or,Or.j=Rr)}function Lr(){this.a=F()}var Mr=null;function Fr(e){this.j=e||"",Mr||(Mr=new Lr),this.i=Mr}function Ur(e){return 10>e?"0"+e:String(e)}function jr(e){Fr.call(this,e)}function Br(){this.i=O(this.h,this),this.a=new jr,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Lr.prototype.set=function(e){this.a=e},Lr.prototype.reset=function(){this.set(F())},Lr.prototype.get=function(){return this.a},Fr.prototype.a=!0,Fr.prototype.g=!0,Fr.prototype.h=!1,j(jr,Fr),Br.prototype.h=function(e){if(!this.j[e.g]){var t=this.a,n=[];if(n.push(t.j," "),t.g){var i=new Date(e.h);n.push("[",Ur(i.getFullYear()-2e3)+Ur(i.getMonth()+1)+Ur(i.getDate())+" "+Ur(i.getHours())+":"+Ur(i.getMinutes())+":"+Ur(i.getSeconds())+"."+Ur(Math.floor(i.getMilliseconds()/10)),"] ")}if(n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(e,t.i.get()),"s] "),n.push("[",e.g,"] "),n.push(e.i),t.h&&(i=e.a)&&n.push("\n",i instanceof Error?i.message:i.toString()),t.a&&n.push("\n"),t=n.join(""),n=Hr)switch(e.j){case Ar:Vr(n,"info",t);break;case Nr:Vr(n,"error",t);break;case kr:Vr(n,"warn",t);break;default:Vr(n,"log",t)}}};var Wr,Hr=y.console;function Vr(e,t,n){e[t]?e[t](n):e.log(n)}Wr=function e(t){var n;if(Pr(),!(n=Dr[t])){n=new Tr(t);var i=t.lastIndexOf("."),r=t.substr(i+1);(i=e(t.substr(0,i))).h||(i.h={}),i.h[r]=n,n.g=i,Dr[t]=n}return n}("firebaseui");var qr=new Br;if(1!=qr.g){var Kr;Pr(),Kr=Or;var Gr=qr.i;Kr.a||(Kr.a=[]),Kr.a.push(Gr),qr.g=!0}function zr(e){Wr&&Wr.log(Nr,e,void 0)}function Yr(e,t,n,i){this.a=e,this.h=t||null,this.j=n||null,this.g=i||null}function Qr(e){return e.email?new Yr(e.email,e.displayName,e.photoUrl,e.providerId):null}Yr.prototype.fa=function(){return{email:this.a,displayName:this.h,photoUrl:this.j,providerId:this.g}};var Xr={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function $r(e,t){this.g=e,this.a=t||null}function Jr(e){if(e&&e.email){var t;if(t=e.credential){var n=(t=e.credential)&&t.providerId;t=Xr[n]&&o.auth[Xr[n]]?t.secret&&t.accessToken?o.auth[Xr[n]].credential(t.accessToken,t.secret):n==o.auth.GoogleAuthProvider.PROVIDER_ID?o.auth[Xr[n]].credential(t.idToken,t.accessToken):o.auth[Xr[n]].credential(t.accessToken):null}return new $r(e.email,t)}return null}function Zr(e){var t=[];return function e(t,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(T(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),e(t,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&("function"!=typeof(a=n[r])&&(i.push(o),io(r,i),i.push(":"),e(t,a,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":io(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new eo,e,t),t.join("")}function eo(){}$r.prototype.fa=function(){return{email:this.g,credential:this.a&&ge(this.a)}};var to={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},no=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function io(e,t){t.push('"',e.replace(no,function(e){var t=to[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),to[e]=t),t}),'"')}function ro(e){this.a=e}function oo(){}function ao(e){this.a=e}function so(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(e){return!1}}function uo(){var e=null;try{e=window.localStorage||null}catch(e){}this.a=e}function co(){var e=null;try{e=window.sessionStorage||null}catch(e){}this.a=e}function lo(e,t){this.g=e,this.a=t+"::"}ro.prototype.set=function(e,t){b(t)?this.a.set(e,Zr(t)):this.a.ma(e)},ro.prototype.get=function(e){try{var t=this.a.get(e)}catch(e){return}if(null!==t)try{return JSON.parse(t)}catch(e){throw"Storage: Invalid value was encountered"}},j(oo,function(){}),oo.prototype.clear=function(){var e=yt(this.ba(!0)),t=this;ee(e,function(e){t.ma(e)})},j(ao,oo),(e=ao.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(e){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!_(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ma=function(e){this.a.removeItem(e)},e.ba=function(e){var t=0,n=this.a,i=new gt;return i.next=function(){if(t>=n.length)throw vt;var i=n.key(t++);if(e)return i;if(!_(i=n.getItem(i)))throw"Storage mechanism: Invalid value was encountered";return i},i},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},j(uo,ao),j(co,ao),j(lo,oo),lo.prototype.set=function(e,t){this.g.set(this.a+e,t)},lo.prototype.get=function(e){return this.g.get(this.a+e)},lo.prototype.ma=function(e){this.g.ma(this.a+e)},lo.prototype.ba=function(e){var t=this.g.ba(!0),n=this,i=new gt;return i.next=function(){for(var i=t.next();i.substr(0,n.a.length)!=n.a;)i=t.next();return e?i.substr(n.a.length):n.g.get(i)},i};var ho=new uo,fo=new ro(so(ho)?new lo(ho,"firebaseui"):null),po=new co,vo=new ro(so(po)?new lo(po,"firebaseui"):null),go={name:"pendingEmailCredential",ea:!1},mo={name:"pendingRedirect",ea:!1},yo={name:"redirectUrl",ea:!1},bo={name:"rememberAccount",ea:!1},_o={name:"rememberedAccounts",ea:!0};function wo(e,t){return(e.ea?fo:vo).get(t?e.name+":"+t:e.name)}function Eo(e,t){(e.ea?fo:vo).a.ma(t?e.name+":"+t:e.name)}function Co(e,t,n){(e.ea?fo:vo).set(n?e.name+":"+n:e.name,t)}function So(e){return wo(yo,e)||null}function To(e,t){Co(yo,e,t)}function Io(e,t){Co(bo,e,t)}function Ao(e){return e=wo(_o,e)||[],e=ie(e,function(e){return Qr(e)}),ne(e,S)}function No(e,t){var n=Ao(t),i=oe(n,function(t){return t.a==e.a&&(t.g||null)==(e.g||null)});-1<i&&ue(n,i),n.unshift(e),Co(_o,ie(n,function(e){return e.fa()}),t)}function ko(e){return Jr(e=wo(go,e)||null)}function Ro(e){Co(mo,"pending",e)}function xo(){this.S={}}function Do(e,t,n){if(t.toLowerCase()in e.S)throw Error("Configuration "+t+" has already been defined.");e.S[t.toLowerCase()]=n}function Oo(e,t,n){if(!(t.toLowerCase()in e.S))throw Error("Configuration "+t+" is not defined.");e.S[t.toLowerCase()]=n}function Po(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function Lo(){this.g=void 0,this.a={}}function Mo(e,t,n,i){for(var r=0;r<t.length;r++){var o=t.charAt(r);e.a[o]||(e.a[o]=new Lo),e=e.a[o]}if(i&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function Fo(e){var t=Bo.g,n={},i=0;for(void 0!==t.g&&(n[i]=t.g);i<e.length;i++){var r=e.charAt(i);if(!(r in t.a))break;void 0!==(t=t.a[r]).g&&(n[i]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function Uo(e){for(var t=0;t<jo.length;t++)if(jo[t].c===e)return jo[t];return null}xo.prototype.get=function(e){if(!(e.toLowerCase()in this.S))throw Error("Configuration "+e+" is not defined.");return this.S[e.toLowerCase()]},(e=Lo.prototype).set=function(e,t){Mo(this,e,t,!1)},e.add=function(e,t){Mo(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.ca=function(){var e=[];return function e(t,n){void 0!==t.g&&n.push(t.g);for(var i in t.a)e(t.a[i],n)}(this,e),e},e.ga=function(){var e=[];return function e(t,n,i){void 0!==t.g&&i.push(n);for(var r in t.a)e(t.a[r],n+r,i)}(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var jo=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];jo.sort(function(e,t){return e.name.localeCompare(t.name,"en")});var Bo=new function(){this.a=jo,this.g=new Lo;for(var e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}};function Wo(e,t){this.a=e,this.na=t}function Ho(e){var t=Fo(e=W(e));return 0<t.length?new Wo("1"==t[0].b?"1-US-0":t[0].c,W(e.substr(t[0].b.length+1))):null}function Vo(e){var t=Uo(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.na}function qo(){this.a=new xo,Do(this.a,"acUiConfig"),Do(this.a,"autoUpgradeAnonymousUsers"),Do(this.a,"callbacks"),Do(this.a,"credentialHelper",Ko),Do(this.a,"popupMode",!1),Do(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Do(this.a,"queryParameterForWidgetMode","mode"),Do(this.a,"signInFlow"),Do(this.a,"signInOptions"),Do(this.a,"signInSuccessUrl"),Do(this.a,"siteName"),Do(this.a,"tosUrl"),Do(this.a,"widgetUrl")}var Ko="accountchooser.com",Go={Db:Ko,Fb:"googleyolo",NONE:"none"},zo={Gb:"popup",Ib:"redirect"};var Yo={Eb:"callback",Hb:"recoverEmail",Jb:"resetPassword",Kb:"select",Lb:"verifyEmail"},Qo=["sitekey","tabindex","callback","expired-callback"];function Xo(e){var t=e.a.get("widgetUrl")||window.location.href;return $o(e,t)}function $o(e,t){e=ra(e);for(var n,i=t.search(St),r=0,o=[];0<=(n=Ct(t,r,e,i));)o.push(t.substring(r,n)),r=Math.min(t.indexOf("&",n)+1||i,i);return o.push(t.substr(r)),t=o.join("").replace(It,"$1"),(e+=i="="+encodeURIComponent("select"))?(0>(i=t.indexOf("#"))&&(i=t.length),0>(r=t.indexOf("?"))||r>i?(r=i,n=""):n=t.substring(r+1,i),i=(t=[t.substr(0,r),n,t.substr(i)])[1],t[1]=e?i?i+"&"+e:e:i,e=t[0]+(t[1]?"?"+t[1]:"")+t[2]):e=t,e}function Jo(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!la(e)&&zr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.'),t}function Zo(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var i=e[n];i=N(i)?i:{provider:i},Xr[i.provider]&&t.push(i)}return t}function ea(e,t){e=Zo(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function ta(e){return ie(Zo(e),function(e){return e.provider})}function na(e,t){return T(e=(e=ea(e,t))&&e.scopes)?e:[]}function ia(e,t){return N(e=(e=ea(e,t))&&e.customParameters)?(e=ge(e),t===o.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,e):null}function ra(e){return Po(e.a,"queryParameterForWidgetMode")}function oa(e){return e.a.get("tosUrl")||null}function aa(e){return!(e=ea(e,o.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function sa(e){return ha(e).uiShown||null}function ua(e){return ha(e).signInSuccess||null}function ca(e){return ha(e).signInSuccessWithAuthResult||null}function la(e){return ha(e).signInFailure||null}function ha(e){return e.a.get("callbacks")||{}}function fa(e){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return"none";for(var t in e=e.a.get("credentialHelper"),Go)if(Go[t]==e)return Go[t];return Ko}var da=null;function pa(e){return!(!e||-32e3!=e.code||"Service unavailable"!=e.message)}function va(e,t,n,i){da||(e={callbacks:{empty:e,select:function(e,i){e&&e.account&&t?t(Qr(e.account)):n&&n(!pa(i))},store:e,update:e},language:"en",providers:void 0,ui:i},"undefined"!=typeof accountchooser&&accountchooser.Api&&accountchooser.Api.init?da=accountchooser.Api.init(e):(da=new ma(e),function(){var e=da;A(e.a.callbacks.empty)&&e.a.callbacks.empty()}()))}function ga(e,t,n){function i(){var e=function(e){var t=window.location.href;return t instanceof At||(t=xt(t)),e instanceof At||(e=xt(e)),t.resolve(e)}(n).toString();da.select(ie(t||[],function(e){return e.fa()}),{clientCallbackUrl:e})}t&&t.length?i():da.checkEmpty(function(t,n){t||n?e(!pa(n)):i()})}function ma(e){this.a=e,this.a.callbacks=this.a.callbacks||{}}var ya={code:-32e3,message:"Service unavailable",data:"Service is unavailable."};(e=ma.prototype).store=function(){A(this.a.callbacks.store)&&this.a.callbacks.store(void 0,ya)},e.select=function(){A(this.a.callbacks.select)&&this.a.callbacks.select(void 0,ya)},e.update=function(){A(this.a.callbacks.update)&&this.a.callbacks.update(void 0,ya)},e.checkDisabled=function(e){e(!0)},e.checkEmpty=function(e){e(void 0,ya)},e.checkAccountExist=function(e,t){t(void 0,ya)},e.checkShouldUpdate=function(e,t){t(void 0,ya)};var ba,_a,wa,Ea={};function Ca(e,t,n,i){Ea[e].apply(null,Array.prototype.slice.call(arguments,1))}var Sa=/MSIE ([\d.]+).*Windows NT ([\d.]+)/,Ta=/Firefox\/([\d.]+)/,Ia=/Opera[ \/]([\d.]+)(.*Version\/([\d.]+))?/,Aa=/Chrome\/([\d.]+)/,Na=/((Windows NT ([\d.]+))|(Mac OS X ([\d_]+))).*Version\/([\d.]+).*Safari/,ka=/Mac OS X;.*(?!(Version)).*Safari/,Ra=/Android ([\d.]+).*Safari/,xa=/OS ([\d_]+) like Mac OS X.*Mobile.*Safari/,Da=/Konqueror\/([\d.]+)/,Oa=/MSIE ([\d.]+).*Windows Phone OS ([\d.]+)/;function Pa(e,t){for(e=e.split(t||"."),this.a=[],t=0;t<e.length;t++)this.a.push(parseInt(e[t],10))}function La(e,t){return 0<=function(e,t){t instanceof Pa||(t=new Pa(String(t)));for(var n=Math.max(e.a.length,t.a.length),i=0;i<n;i++){var r=e.a[i],o=t.a[i];if(void 0!==r&&void 0!==o&&r!==o)return r-o;if(void 0===r)return-1;if(void 0===o)return 1}return 0}(e,t)}function Ma(e){return e.classList?e.classList:_(e=e.className)&&e.match(/\S+/g)||[]}function Fa(e,t){return e.classList?e.classList.contains(t):ae(Ma(e),t)}function Ua(e,t){e.classList?e.classList.add(t):Fa(e,t)||(e.className+=0<e.className.length?" "+t:t)}function ja(e,t){e.classList?e.classList.remove(t):Fa(e,t)&&(e.className=ne(Ma(e),function(e){return e!=t}).join(" "))}function Ba(e){var t=e.type;switch(_(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,i=0;n=e.options[i];i++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function Wa(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(Ae||Se)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Ha(e){if(Ie)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(ke&&Ae)switch(e){case 93:e=91}return e}function Va(e){fi.call(this),this.a=e,ei(e,qa,this.g,!1,this),ei(e,"click",this.h,!1,this)}j(Va,fi);var qa=Ie?"keypress":"keydown";function Ka(e,t){var n=new za(t);if(di(e,n)){n=new Ga(t);try{di(e,n)}finally{t.stopPropagation()}}}function Ga(e){Wn.call(this,e.a),this.type="action"}function za(e){Wn.call(this,e.a),this.type="beforeaction"}function Ya(e){fi.call(this),this.a=e,e=Ce?"focusout":"blur",this.g=ei(this.a,Ce?"focusin":"focus",this,!Ce),this.h=ei(this.a,e,this,!Ce)}function Qa(e,t){fi.call(this),this.g=e||1,this.a=t||y,this.h=O(this.Ab,this),this.j=F()}function Xa(e){e.za=!1,e.R&&(e.a.clearTimeout(e.R),e.R=null)}function $a(e){xn.call(this),this.g=e,this.a={}}Va.prototype.g=function(e){(13==e.keyCode||Ae&&3==e.keyCode)&&Ka(this,e)},Va.prototype.h=function(e){Ka(this,e)},Va.prototype.l=function(){Va.o.l.call(this),ii(this.a,qa,this.g,!1,this),ii(this.a,"click",this.h,!1,this),delete this.a},j(Ga,Wn),j(za,Wn),j(Ya,fi),Ya.prototype.handleEvent=function(e){var t=new Wn(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",di(this,t)},Ya.prototype.l=function(){Ya.o.l.call(this),ri(this.g),ri(this.h),delete this.a},j(Qa,fi),(e=Qa.prototype).za=!1,e.R=null,e.Ab=function(){if(this.za){var e=F()-this.j;0<e&&e<.8*this.g?this.R=this.a.setTimeout(this.h,this.g-e):(this.R&&(this.a.clearTimeout(this.R),this.R=null),di(this,"tick"),this.za&&(this.R=this.a.setTimeout(this.h,this.g),this.j=F()))}},e.start=function(){this.za=!0,this.R||(this.R=this.a.setTimeout(this.h,this.g),this.j=F())},e.l=function(){Qa.o.l.call(this),Xa(this),delete this.a},j($a,xn);var Ja=[];function Za(e){ve(e.a,function(e,t){this.a.hasOwnProperty(t)&&ri(e)},e),e.a={}}function es(e){fi.call(this),this.a=null,this.g=e,e=Ce||Se||Ae&&!Me("531")&&"TEXTAREA"==e.tagName,this.h=new $a(this),this.h.Z(this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function ts(e){null!=e.a&&(y.clearTimeout(e.a),e.a=null)}function ns(e){return(e=new Wn(e.a)).type="input",e}function is(e,t){fi.call(this),e&&(this.Da&&us(this),this.ia=e,this.Ca=ei(this.ia,"keypress",this,t),this.Ja=ei(this.ia,"keydown",this.jb,t,this),this.Da=ei(this.ia,"keyup",this.lb,t,this))}$a.prototype.Z=function(e,t,n,i){T(t)||(t&&(Ja[0]=t.toString()),t=Ja);for(var r=0;r<t.length;r++){var o=ei(e,t[r],n||this.handleEvent,i||!1,this.g||this);if(!o)break;this.a[o.key]=o}return this},$a.prototype.La=function(e,t,n,i,r){if(T(t))for(var o=0;o<t.length;o++)this.La(e,t[o],n,i,r);else n=n||this.handleEvent,i=N(i)?!!i.capture:!!i,r=r||this.g||this,n=hi(n),i=!!i,(t=qn(e)?Xn(e.A,String(t),n,i,r):e&&(e=ci(e))?Xn(e,t,n,i,r):null)&&(ri(t),delete this.a[t.key])},$a.prototype.l=function(){$a.o.l.call(this),Za(this)},$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},j(es,fi),es.prototype.handleEvent=function(e){if("input"==e.type)Ce&&Me(10)&&0==e.keyCode&&0==e.j||(ts(this),di(this,ns(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Ie;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;Ce&&229==e.keyCode&&(t=null);var n=ns(e);ts(this),this.a=function(e,t){if(A(e))t&&(e=O(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=O(e.handleEvent,e)}return 2147483647<Number(0)?-1:y.setTimeout(e,0)}(function(){this.a=null,this.g.value!=t&&di(this,n)},this)}},es.prototype.l=function(){es.o.l.call(this),this.h.m(),ts(this),delete this.g},j(is,fi),(e=is.prototype).ia=null,e.Ca=null,e.Ja=null,e.Da=null,e.O=-1,e.Y=-1,e.Ha=!1;var rs={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},os={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},as=Ce||Se||Ae&&Me("525"),ss=ke&&Ie;function us(e){e.Ca&&(ri(e.Ca),ri(e.Ja),ri(e.Da),e.Ca=null,e.Ja=null,e.Da=null),e.ia=null,e.O=-1,e.Y=-1}function cs(e,t,n,i){Wn.call(this,i),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function ls(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i}function hs(e,t){var n=ht(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function fs(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return Ce&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function ds(e){var t=ht(e),n=new nt(0,0),i=t?ht(t):document;return e==(i=!Ce||9<=Number(Pe)||"CSS1Compat"==rt(i).a.compatMode?i.documentElement:i.body)?n:(e=fs(e),t=ct(i=rt(t).a),i=i.parentWindow||i.defaultView,t=Ce&&Me("10")&&i.pageYOffset!=t.scrollTop?new nt(t.scrollLeft,t.scrollTop):new nt(i.pageXOffset||t.scrollLeft,i.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g,n)}(e=is.prototype).jb=function(e){(Ae||Se)&&(17==this.O&&!e.ctrlKey||18==this.O&&!e.altKey||ke&&91==this.O&&!e.metaKey)&&(this.Y=this.O=-1),-1==this.O&&(e.ctrlKey&&17!=e.keyCode?this.O=17:e.altKey&&18!=e.keyCode?this.O=18:e.metaKey&&91!=e.keyCode&&(this.O=91)),as&&!function(e,t,n,i,r,o){if(!(Ce||Se||Ae&&Me("525")))return!0;if(ke&&r)return Wa(e);if(r&&!i)return!1;if("number"==typeof t&&(t=Ha(t)),r=17==t||18==t||ke&&91==t,(!n||ke)&&r||ke&&16==t&&(i||o))return!1;if((Ae||Se)&&i&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Ce&&i&&t==e)return!1;switch(e){case 13:return!0;case 27:return!(Ae||Se)}return Wa(e)}(e.keyCode,this.O,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.Y=Ha(e.keyCode),ss&&(this.Ha=e.altKey))},e.lb=function(e){this.Y=this.O=-1,this.Ha=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(Ce&&"keypress"==e.type)var i=this.Y,r=13!=i&&27!=i?t.keyCode:0;else(Ae||Se)&&"keypress"==e.type?(i=this.Y,r=0<=t.charCode&&63232>t.charCode&&Wa(i)?t.charCode:0):Ee&&!Ae?r=Wa(i=this.Y)?t.keyCode:0:(i=t.keyCode||this.Y,r=t.charCode||0,ss&&(n=this.Ha),ke&&63==r&&224==i&&(i=191));var o=i=Ha(i);i?63232<=i&&i in rs?o=rs[i]:25==i&&e.shiftKey&&(o=9):t.keyIdentifier&&t.keyIdentifier in os&&(o=os[t.keyIdentifier]),e=o==this.O,this.O=o,(t=new cs(o,r,e,t)).altKey=n,di(this,t)},e.K=function(){return this.ia},e.l=function(){is.o.l.call(this),us(this)},j(cs,Wn),ls.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},ls.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},ls.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},ls.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var ps={thin:2,medium:4,thick:6};function vs(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in ps)e=ps[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=i,e=+n}return e}function gs(){}function ms(e){fi.call(this),this.v=e||rt(),this.Na=null,this.da=!1,this.h=null,this.D=void 0,this.qa=this.ra=this.U=null}function ys(e,t){return e.h?at(t,e.h||e.v.a):null}function bs(e){return e.D||(e.D=new $a(e)),e.D}function _s(e,t){e.ra&&ee(e.ra,t,void 0)}function ws(e,t){var n=dt(e,"firebaseui-textfield");t?(ja(e,"firebaseui-input-invalid"),Ua(e,"firebaseui-input"),n&&ja(n,"firebaseui-textfield-invalid")):(ja(e,"firebaseui-input"),Ua(e,"firebaseui-input-invalid"),n&&Ua(n,"firebaseui-textfield-invalid"))}function Es(e,t,n){Pn(e,P(Ln,t=new es(t))),bs(e).Z(t,"input",n)}function Cs(e,t,n){Pn(e,P(Ln,t=new is(t))),bs(e).Z(t,"key",function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))})}function Ss(e,t,n){Pn(e,P(Ln,t=new Va(t))),bs(e).Z(t,"action",function(e){e.stopPropagation(),e.preventDefault(),n(e)})}function Ts(e){Ua(e,"firebaseui-hidden")}function Is(e,t){t&&ft(e,t),ja(e,"firebaseui-hidden")}function As(e){return!Fa(e,"firebaseui-hidden")&&"none"!=e.style.display}function Ns(e){var t=(e=e||{}).email,n=e.disabled,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="email">';return i=e.Ob?i+"Enter new email address":i+"Email",i+='</label><input type="email" name="email" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+dn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',cn(i)}function ks(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+en(e):t+"Next",cn(t+"</button>")}function Rs(){var e=""+ks({label:hn("Sign In")});return cn(e)}function xs(){var e=""+ks({label:hn("Save")});return cn(e)}function Ds(){var e=""+ks({label:hn("Continue")});return cn(e)}function Os(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="newPassword">';return t=(e=(e=e||{}).label)?t+en(e):t+"Choose password",cn(t+'</label><input type="password" name="newPassword" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function Ps(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="password">';return cn((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Ls(){return cn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Ms(){return cn('<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">Cancel</button>')}function Fs(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+en(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',cn(e)}function Us(e){var t=e.content;return e=e.$a,cn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+dn(e):"")+'">'+en(t)+"</dialog>")}function js(e){var t=e.message;return cn(Us({content:fn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+dn(e.Ba)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+en(t)+"</div>")}))}function Bs(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,i=0;i<n;i++){var r=e[i];t+='<button type="button" data-listboxid="'+dn(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ba?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+dn(r.Ba)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+en(r.label)+"</div></button>"}return t=""+Us({$a:hn("firebaseui-list-box-dialog"),content:fn(t+"</div>")}),cn(t)}function Ws(){return cn('<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function Hs(e){var t="";switch((e=e||{}).providerId){case"google.com":t+="Google";break;case"github.com":t+="Github";break;case"facebook.com":t+="Facebook";break;case"twitter.com":t+="Twitter";break;default:t+="Password"}return un(t)}function Vs(e){Gs(e,"upgradeElement")}function qs(e){Gs(e,"downgradeElements")}E(gs),gs.prototype.a=0,j(ms,fi),(e=ms.prototype).mb=gs.Ia(),e.K=function(){return this.h},e.Ka=function(e){if(this.U&&this.U!=e)throw Error("Method not supported");ms.o.Ka.call(this,e)},e.Ua=function(){this.h=this.v.a.createElement("DIV")},e.render=function(e){if(this.da)throw Error("Component already rendered");this.h||this.Ua(),e?e.insertBefore(this.h,null):this.v.a.body.appendChild(this.h),this.U&&!this.U.da||this.w()},e.w=function(){this.da=!0,_s(this,function(e){!e.da&&e.K()&&e.w()})},e.la=function(){_s(this,function(e){e.da&&e.la()}),this.D&&Za(this.D),this.da=!1},e.l=function(){this.da&&this.la(),this.D&&(this.D.m(),delete this.D),_s(this,function(e){e.m()}),this.h&&lt(this.h),this.U=this.h=this.qa=this.ra=null,ms.o.l.call(this)},e.removeChild=function(e,t){if(e){var n=_(e)?e:e.Na||(e.Na=":"+(e.mb.a++).toString(36));if(this.qa&&n?e=(null!==(e=this.qa)&&n in e?e[n]:void 0)||null:e=null,n&&e){var i=this.qa;if(n in i&&delete i[n],se(this.ra,e),t&&(e.la(),e.h&&lt(e.h)),null==(t=e))throw Error("Unable to set parent component");t.U=null,ms.o.Ka.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},Fs.a="firebaseui.auth.soy2.element.infoBar",js.a="firebaseui.auth.soy2.element.progressDialog",Bs.a="firebaseui.auth.soy2.element.listBoxDialog",Ws.a="firebaseui.auth.soy2.element.busyIndicator";var Ks=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Gs(e,t){e&&window.componentHandler&&window.componentHandler[t]&&ee(Ks,function(n){Fa(e,n)&&window.componentHandler[t](e),ee(ot(n,e),function(e){window.componentHandler[t](e)})})}function zs(e,t,n){if(Ys.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),Vs(e),t&&Ss(this,e,function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&Ys.call(this)}),!n){var i=this.K().parentElement||this.K().parentNode;if(i){var r=this;this.V=function(){if(e.open){var t=e.getBoundingClientRect().height,n=i.getBoundingClientRect().height,o=i.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=i.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=e.getBoundingClientRect().width,u=i.getBoundingClientRect().width;e.style.top=(o+(n-t)/2).toString()+"px",t=a+(u-s)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-s).toString()+"px"}else window.removeEventListener("resize",r.V)},this.V(),window.addEventListener("resize",this.V,!1)}}}function Ys(){var e=Qs.call(this);e&&(qs(e),e.open&&e.close(),lt(e),this.V&&window.removeEventListener("resize",this.V))}function Qs(){return at("firebaseui-id-dialog")}function Xs(){lt($s.call(this))}function $s(){return ys(this,"firebaseui-id-info-bar")}function Js(){return ys(this,"firebaseui-id-dismiss-info-bar")}var Zs={kb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",ib:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg",gb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg",Bb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",ob:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",qb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg"};function eu(e,t,n){for(var i in Bn.call(this,e,t),n)this[i]=n[i]}function tu(e,t,n,i){ms.call(this,n),this.Qa=e,this.Pa=t,this.sa=!1,this.Oa=i||null,this.u=this.$=null}function nu(e,t,n,i,r){function o(){if(e.J)return null;e.sa=!1,window.clearTimeout(e.$),e.$=null,e.u&&(qs(e.u),lt(e.u),e.u=null)}return e.sa?null:(function(e){e.sa=!0,e.$=window.setTimeout(function(){e.K()&&null===e.u&&(e.u=Xt(Ws,null,null,e.v),e.K().appendChild(e.u),Vs(e.u))},500)}(e),t.apply(null,n).then(i,r).then(o,o))}function iu(e){return e.K().parentElement||e.K().parentNode}function ru(e,t,n){Cs(e,t,function(){n.focus()})}function ou(e,t,n){Cs(e,t,function(){n()})}function au(e){var t=(e=e||{}).bb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ns(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?Ms():"")+ks(null)+"</div></div></form></div>",cn(e)}function su(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Ns(e)+Ps()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Ls()+'</div><div class="firebaseui-form-actions">'+Rs()+"</div></div></form></div>",cn(e)}function uu(e){var t=(e=e||{}).sb,n=e.pa,i=e.Ga,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Ns(e);return t?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="name">First &amp; last name</label><input type="text" name="name" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+dn(null!=(t=(t=e||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=cn(t)):t="",r=r+t+Os(null),n?(e='By tapping SAVE, you are indicating that you agree to the <a href="'+dn(pn((e=e||{}).pa))+'" class="firebaseui-link" target="_blank">Terms of Service</a>',e=cn('<p class="firebaseui-tos">'+e+"</p>")):e="",i=r+e+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(i?Ms():"")+xs()+"</div></div></form></div>",cn(i)}function cu(e){var t=(e=e||{}).Ga;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Ns(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?Ms():"")+ks({label:hn("Send")})+"</div></div></form></div>",cn(e)}function lu(e){var t=e.N,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+en(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(n+='<div class="firebaseui-form-actions">'+ks({label:hn("Done")})+"</div>"),cn(n+"</div></div>")}function hu(e,t,n){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Ws()+"</div></div>")}function fu(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="Youve already used <strong>"+en(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+Ps()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Ls()+'</div><div class="firebaseui-form-actions">'+Rs()+"</div></div></form></div>",cn(t)}function du(e){var t=e.email,n="";return e=hn(e=""+Hs(e)),n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="Youve already used <strong>"+en(t)+"</strong>. Sign in with "+en(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ks({label:hn("Sign in with "+e)})+"</div></div></form></div>",cn(n)}function pu(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+en(e.email)+"</strong></p>")+Os(function(e){var t={label:hn("New password")};function n(){}for(var i in n.prototype=e,e=new n,t)e[i]=t[i];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+xs()+"</div></div></form></div>",cn(t)}function vu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).N?'<div class="firebaseui-form-actions">'+Ds()+"</div>":"")+"</div></div>",cn(e)}function gu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).N?'<div class="firebaseui-form-actions">'+ks(null)+"</div>":"")+"</div></div>",cn(e)}function mu(e){var t=e.N,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+en(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+ks(null)+"</div>":"")+"</div></form></div>",cn(n)}function yu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).N?'<div class="firebaseui-form-actions">'+ks(null)+"</div>":"")+"</div></div>",cn(e)}function bu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).N?'<div class="firebaseui-form-actions">'+Ds()+"</div>":"")+"</div></div>",cn(e)}function _u(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).N?'<div class="firebaseui-form-actions">'+ks(null)+"</div>":"")+"</div></div>",cn(e)}function wu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+en(e.fb)+"</p></div></div>",cn(e)}function Eu(e){var t=e.pb,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+en(e.Cb)+"?")+'</h2><p class="firebaseui-text">'+(t="You originally wanted to sign in with "+en(t))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ms()+ks({label:hn("Continue")})+"</div></div></form></div>",cn(n)}function Cu(e,t,n){var i='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.rb).length;for(var r=0;r<t;r++){var o={providerId:e[r]},a=n,s=o.providerId,u=o,c="";switch((u=u||{}).providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;default:c+="firebaseui-idp-password"}u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+dn(un(c))+' firebaseui-id-idp-button" data-provider-id="'+dn(s)+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l="";switch((c=(c=o)||{}).providerId){case"google.com":l+=pn(a.kb);break;case"github.com":l+=pn(a.ib);break;case"facebook.com":l+=pn(a.gb);break;case"twitter.com":l+=pn(a.Bb);break;case"phone":l+=pn(a.qb);break;default:l+=pn(a.ob)}u=u+dn(pn(a=ln(l)))+'"></span>',"password"==s?u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with email</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Email</span>':"phone"==s?u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with phone</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Phone</span>':u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">'+(s="Sign in with "+en(Hs(o)))+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+en(Hs(o))+"</span>",i+='<li class="firebaseui-list-item">'+(o=cn(u+"</button>"))+"</li>"}return cn(i+"</ul></form></div></div>")}function Su(e){var t=(e=e||{}).eb;return e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="phoneNumber">Phone number</label><input type="tel" name="phoneNumber" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+dn(null!=(e=(e=e||{}).na)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',t=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+cn(e))+(t=t?cn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ms()+ks({label:hn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e=cn('<p class="firebaseui-tos">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>'),cn(t+e+"</div></form></div>")}function Tu(e){var t=(e=e||{}).phoneNumber,n=e.pa,i="",r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+en(t)+"</a>";return en(t),t=i,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+(i=cn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="phoneConfirmationCode">6-digit code</label><input type="number" name="phoneConfirmationCode" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ms()+ks({label:hn("Continue")})+"</div></div>",n?(e='By tapping Continue you are indicating that you agree to the <a href="'+dn(pn((e=e||{}).pa))+'" class="firebaseui-link" target="_blank">Terms of Service</a>',e='<div class="firebaseui-card-footer">'+cn('<p class="firebaseui-tos">'+e+"</p>")+"</div>"):e="",e=r+e+"</form>",n=cn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),cn(t+(e+n+"</div>"))}function Iu(){return ys(this,"firebaseui-id-submit")}function Au(){return ys(this,"firebaseui-id-secondary-link")}function Nu(e,t){Ss(this,Iu.call(this),function(t){e(t)});var n=Au.call(this);n&&t&&Ss(this,n,function(e){t(e)})}function ku(){return ys(this,"firebaseui-id-password")}function Ru(){return ys(this,"firebaseui-id-password-error")}function xu(){var e=ku.call(this),t=Ru.call(this);Es(this,e,function(){As(t)&&(ws(e,!0),Ts(t))})}function Du(){var e=ku.call(this),t=Ru.call(this);return Ba(e)?(ws(e,!0),Ts(t),t=!0):(ws(e,!1),Is(t,un("Enter your password").toString()),t=!1),t?Ba(e):null}function Ou(e,t,n,i){tu.call(this,fu,{email:e},i,"passwordLinking"),this.a=t,this.I=n}j(eu,Bn),j(tu,ms),tu.prototype.Ua=function(){var e=Xt(this.Qa,this.Pa,Zs,this.v);Vs(e),this.h=e},tu.prototype.w=function(){tu.o.w.call(this),mi(iu(this),new eu("pageEnter",iu(this),{pageId:this.Oa}))},tu.prototype.la=function(){mi(iu(this),new eu("pageExit",iu(this),{pageId:this.Oa})),tu.o.la.call(this)},tu.prototype.l=function(){window.clearTimeout(this.$),this.Pa=this.Qa=this.$=null,this.sa=!1,this.u=null,qs(this.K()),tu.o.l.call(this)},L(tu.prototype,{g:function(e){Xs.call(this);var t=Xt(Fs,{message:e},null,this.v);this.K().appendChild(t),Ss(this,Js.call(this),function(){lt(t)})},Nb:Xs,Tb:$s,Sb:Js,ua:function(e,t){e=Xt(js,{Ba:e,message:t},null,this.v),zs.call(this,e)},j:Ys,Rb:Qs}),au.a="firebaseui.auth.soy2.page.signIn",su.a="firebaseui.auth.soy2.page.passwordSignIn",uu.a="firebaseui.auth.soy2.page.passwordSignUp",cu.a="firebaseui.auth.soy2.page.passwordRecovery",lu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",hu.a="firebaseui.auth.soy2.page.callback",fu.a="firebaseui.auth.soy2.page.passwordLinking",du.a="firebaseui.auth.soy2.page.federatedLinking",pu.a="firebaseui.auth.soy2.page.passwordReset",vu.a="firebaseui.auth.soy2.page.passwordResetSuccess",gu.a="firebaseui.auth.soy2.page.passwordResetFailure",mu.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",yu.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",bu.a="firebaseui.auth.soy2.page.emailVerificationSuccess",_u.a="firebaseui.auth.soy2.page.emailVerificationFailure",wu.a="firebaseui.auth.soy2.page.unrecoverableError",Eu.a="firebaseui.auth.soy2.page.emailMismatch",Cu.a="firebaseui.auth.soy2.page.providerSignIn",Su.a="firebaseui.auth.soy2.page.phoneSignInStart",Tu.a="firebaseui.auth.soy2.page.phoneSignInFinish",j(Ou,tu),Ou.prototype.w=function(){this.M(),this.L(this.a,this.I),ou(this,this.i(),this.a),this.i().focus(),Ou.o.w.call(this)},Ou.prototype.l=function(){this.a=null,Ou.o.l.call(this)},Ou.prototype.G=function(){return Ba(ys(this,"firebaseui-id-email"))},L(Ou.prototype,{i:ku,C:Ru,M:xu,B:Du,aa:Iu,W:Au,L:Nu});var Pu=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Lu(){return ys(this,"firebaseui-id-email")}function Mu(){return ys(this,"firebaseui-id-email-error")}function Fu(e){var t=Lu.call(this),n=Mu.call(this);Es(this,t,function(){As(n)&&(ws(t,!0),Ts(n))}),e&&Cs(this,t,function(){e()})}function Uu(){return W(Ba(Lu.call(this))||"")}function ju(){var e=Lu.call(this),t=Mu.call(this),n=Ba(e)||"";return n?Pu.test(n)?(ws(e,!0),Ts(t),t=!0):(ws(e,!1),Is(t,un("That email address isn't correct").toString()),t=!1):(ws(e,!1),Is(t,un("Enter your email address to continue").toString()),t=!1),t?W(Ba(e)):null}function Bu(e,t,n,i){tu.call(this,su,{email:n},i,"passwordSignIn"),this.a=e,this.I=t}function Wu(e,t,n,i,r){tu.call(this,e,t,i,r||"notice"),this.a=n||null}function Hu(e,t,n){Wu.call(this,lu,{email:e,N:!!t},t,n,"passwordRecoveryEmailSent")}function Vu(e,t){Wu.call(this,bu,{N:!!e},e,t,"emailVerificationSuccess")}function qu(e,t){Wu.call(this,_u,{N:!!e},e,t,"emailVerificationFailure")}function Ku(e,t){Wu.call(this,vu,{N:!!e},e,t,"passwordResetSuccess")}function Gu(e,t){Wu.call(this,gu,{N:!!e},e,t,"passwordResetFailure")}function zu(e,t){Wu.call(this,yu,{N:!!e},e,t,"emailChangeRevokeFailure")}function Yu(e,t){Wu.call(this,wu,{fb:e},void 0,t,"unrecoverableError")}j(Bu,tu),Bu.prototype.w=function(){this.M(),this.aa(),this.W(this.a,this.I),ru(this,this.s(),this.i()),ou(this,this.i(),this.a),Ba(this.s())?this.i().focus():this.s().focus(),Bu.o.w.call(this)},Bu.prototype.l=function(){this.I=this.a=null,Bu.o.l.call(this)},L(Bu.prototype,{s:Lu,T:Mu,M:Fu,L:Uu,G:ju,i:ku,C:Ru,aa:xu,B:Du,wa:Iu,va:Au,W:Nu}),j(Wu,tu),Wu.prototype.w=function(){this.a&&(this.s(this.a),this.i().focus()),Wu.o.w.call(this)},Wu.prototype.l=function(){this.a=null,Wu.o.l.call(this)},L(Wu.prototype,{i:Iu,B:Au,s:Nu}),j(Hu,Wu),j(Vu,Wu),j(qu,Wu),j(Ku,Wu),j(Gu,Wu),j(zu,Wu),j(Yu,Wu);var Qu=!1,Xu=null;function $u(e,t){Qu=!!t,Xu||("undefined"==typeof accountchooser&&function(){var e=window.navigator&&window.navigator.userAgent;if(e){var t;if(t=e.match(Ia)){var n=new Pa(t[3]||t[1]);return!(0<=e.indexOf("Opera Mini"))&&(0<=e.indexOf("Opera Mobi")?0<=e.indexOf("Android")&&La(n,"10.1"):La(n,"8.0"))}if(t=e.match(Ta))return La(new Pa(t[1]),"2.0");if(t=e.match(Aa))return La(new Pa(t[1]),"6.0");if(t=e.match(Na))return n=new Pa(t[6]),e=t[3]&&new Pa(t[3]),t=t[5]&&new Pa(t[5],"_"),(!(!e||!La(e,"6.0"))||!(!t||!La(t,"10.5.6")))&&La(n,"3.0");if(t=e.match(Ra))return La(new Pa(t[1]),"3.0");if(t=e.match(xa))return La(new Pa(t[1],"_"),"4.0");if(t=e.match(Da))return La(new Pa(t[1]),"4.7");if(t=e.match(Oa))return n=new Pa(t[1]),e=new Pa(t[2]),La(n,"7.0")&&La(e,"7.0");if(t=e.match(Sa))return n=new Pa(t[1]),e=new Pa(t[2]),La(n,"7.0")&&La(e,"6.0");if(e.match(ka))return!1}return!0}()?(t=Ke(je(We("//www.gstatic.com/accountchooser/client.js"))),Xu=Ki(Vi(pr(t)),function(){})):Xu=Vi()),Xu.then(e,e)}function Ju(e,t){(e=ha(e=bl(e)).accountChooserInvoked||null)?e(t):t()}function Zu(e,t,n){(e=ha(e=bl(e)).accountChooserResult||null)?e(t,n):n()}function ec(e,t,n,i){function r(){var t=e();t&&(t=sa(bl(t)))&&t()}va(function(){var o=e();o&&function(e,t,n,i,r){i?(Ca("callback",e,t),Qu&&n()):Ju(e,function(){Ro(pl(e)),ga(function(i){Eo(mo,pl(e)),Zu(e,i?"empty":"unavailable",function(){Ca("signIn",e,t),(i||Qu)&&n()})},Ao(pl(e)),r)})}(o,t,r,n,i)},function(n){var i=e();i&&function(e,t,n,i){function r(e){e=ac(e),fc(t,n,void 0,e),i()}Zu(t,"accountSelected",function(){Io(!1,pl(t)),yl(t,fl(t).fetchProvidersForEmail(e.a).then(function(r){pc(t,n,r,e.a,e.h||void 0),i()},r))})}(n,i,t,r)},function(n){var i=e();i&&function(e,t,n,i){Zu(t,e?"addAccount":"unavailable",function(){Ca("signIn",t,n),(e||Qu)&&i()})}(n,i,t,r)},e()&&function(e){return e.a.get("acUiConfig")||null}(bl(e())))}function tc(e,t,n,i,r){function o(n){if(!n.name||"cancel"!=n.name)if(sc(n))n=iu(t),t.m(),fc(e,n,void 0,In().toString());else{var i=n&&n.message||"";if(n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;i=ac(n)}t.g(i)}}if(r)return ic(e,dl(e).currentUser,n),Vi();if(!n)throw Error("No credential found!");var a=n;if(n.providerId&&"password"==n.providerId&&(a=null),!(i=fl(e).currentUser||i||dl(e).currentUser))throw Error("User not logged in.");return i=new Yr(i.email,i.displayName,i.photoURL,a&&a.providerId),null!=wo(bo,pl(e))&&!wo(bo,pl(e))||No(i,pl(e)),Eo(bo,pl(e)),i=(n=function(e,t){return _l(e),gl(e,function(n){return e.a&&!e.a.isAnonymous&&Jo(bl(e))&&!fl(e).currentUser?wl(e).then(function(){return e.a}):n?wl(e).then(function(){return n.linkWithCredential(t)}).then(function(){return n},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return El(e,n,t)}):wl(e).then(function(){return dl(e).signInWithCredential(t)})})}(e,n)).then(function(t){ic(e,t,a)},o).then(void 0,o),yl(e,n),Vi(i)}function nc(e,t,n,i){var r=ca(bl(e));if(ua(bl(e))&&r&&Wr&&xr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),r){if(i)return rc(e,n),Vi();if(!n.credential)throw Error("No credential found!");if(i=function(n){if(!n.name||"cancel"!=n.name)if(sc(n))n=iu(t),t.m(),fc(e,n,void 0,In().toString());else{var i=n&&n.message||"";if(n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;i=ac(n)}t.g(i)}},!(r=fl(e).currentUser||n.user))throw Error("User not logged in.");return r=new Yr(r.email,r.displayName,r.photoURL,"password"==n.credential.providerId?null:n.credential.providerId),null!=wo(bo,pl(e))&&!wo(bo,pl(e))||No(r,pl(e)),Eo(bo,pl(e)),i=(n=function(e,t){return _l(e),gl(e,function(n){if(e.a&&!e.a.isAnonymous&&Jo(bl(e))&&!fl(e).currentUser)return wl(e).then(function(){return"password"==t.credential.providerId&&(t.credential=null),t});if(n)return wl(e).then(function(){return n.linkAndRetrieveDataWithCredential(t.credential)}).then(function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return El(e,n,t.credential)});if(!t.credential)throw Error("No credential found!");return wl(e).then(function(){return dl(e).signInAndRetrieveDataWithCredential(t.credential)}).then(function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t})})}(e,n)).then(function(t){rc(e,t)},i).then(void 0,i),yl(e,n),Vi(i)}return tc(e,t,n.credential,n.user,i)}function ic(e,t,n){var i=ua(bl(e)),r=So(pl(e))||void 0;Eo(yo,pl(e));var o=!1;nr()?(i&&!i(t,n,r)||(o=!0,window.opener.location.assign(ze(Qe(oc(e,r))))),i||window.close()):i&&!i(t,n,r)||(o=!0,tr(oc(e,r))),o||e.reset()}function rc(e,t){if(!t.user)throw Error("No user found");var n=ca(bl(e)),i=So(pl(e))||void 0;Eo(yo,pl(e));var r=!1;nr()?(n&&!n(t,i)||(r=!0,window.opener.location.assign(ze(Qe(oc(e,i))))),n||window.close()):n&&!n(t,i)||(r=!0,tr(oc(e,i))),r||e.reset()}function oc(e,t){if(!(e=t||bl(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function ac(e){var t="";switch(e.code){case"auth/email-already-in-use":t+="The email address is already used by another account";break;case"auth/requires-recent-login":t+=Nn();break;case"auth/too-many-requests":t+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":t+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":t+="That email address doesn't match an existing account";break;case"auth/user-token-expired":t+=Nn();break;case"auth/weak-password":t+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":t+="The email and password you entered don't match";break;case"auth/network-request-failed":t+="A network error has occurred";break;case"auth/invalid-phone-number":t+=Sn();break;case"auth/invalid-verification-code":t+=un("Wrong code. Try again.");break;case"auth/code-expired":t+="This code is no longer valid"}if(t=un(t).toString())return t;try{return JSON.parse(e.message),zr("Internal error: "+e.message),Tn().toString()}catch(t){return e.message}}function sc(e){e=e.message;try{var t=((JSON.parse(e).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(t&&t.length)return!0}catch(e){}return!1}function uc(e,t,n,i){function r(){Ro(pl(e)),yl(e,nu(t,O(e.zb,e),[c],function(){if("file:"===(window.location&&window.location.protocol))return yl(e,ul(e).then(function(n){t.m(),Eo(mo,pl(e)),Ca("callback",e,u,Vi(n))},a))},s))}function a(n){if(Eo(mo,pl(e)),!n.name||"cancel"!=n.name)switch(n.code){case"auth/popup-blocked":r();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.g(ac(n));break;default:t.m(),Ca("callback",e,u,qi(n))}}function s(n){Eo(mo,pl(e)),n.name&&"cancel"==n.name||(zr("signInWithRedirect: "+n.code),n=ac(n),t.g(n))}var u=iu(t),c=function(e,t,n){var i=Xr[t]&&o.auth[Xr[t]]?new o.auth[Xr[t]]:null;if(!i)throw Error("Invalid Firebase Auth provider!");var r=na(bl(e),t);if(i&&i.addScope)for(var a=0;a<r.length;a++)i.addScope(r[a]);return e=ia(bl(e),t),t==o.auth.GoogleAuthProvider.PROVIDER_ID&&n&&((e=e||{}).login_hint=n),e&&i&&i.setCustomParameters&&i.setCustomParameters(e),i}(e,n,i);"redirect"==function(e){for(var t in e=e.a.get("signInFlow"),zo)if(zo[t]==e)return zo[t];return"redirect"}(bl(e))?r():yl(e,function(e,t){return _l(e),gl(e,function(n){return n&&!ko(pl(e))?n.linkWithPopup(t).then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return El(e,t)}):fl(e).signInWithPopup(t)})}(e,c).then(function(n){t.m(),Ca("callback",e,u,Vi(n))},a))}function cc(e,t,n){var i=function(e,t){var n=null;return ee(Zo(e),function(e){e.authMethod===t&&(n=e.provider)}),n}(bl(e),n&&n.authMethod||null);return n&&n.idToken&&i===o.auth.GoogleAuthProvider.PROVIDER_ID?(na(bl(e),o.auth.GoogleAuthProvider.PROVIDER_ID).length?(uc(e,t,i,n.id),n=Vi(!0)):n=function(n){var i=!1;return n=nu(t,O(e.wb,e),[n],function(n){var r=iu(t);t.m(),Ca("callback",e,r,Vi(n)),i=!0},function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var i=iu(t);t.m(),Ca("callback",e,i,qi(n))}else n=ac(n),t.g(n)}),yl(e,n),n.then(function(){return i},function(){return!1})}(o.auth.GoogleAuthProvider.credential(n.idToken)),n):(n&&t.g(un("The selected credential for the authentication provider is not supported!").toString()),Vi(!1))}function lc(e){return 1==(e=ta(bl(e))).length&&e[0]==o.auth.EmailAuthProvider.PROVIDER_ID}function hc(e){return 1==(e=ta(bl(e))).length&&e[0]==o.auth.PhoneAuthProvider.PROVIDER_ID}function fc(e,t,n,i){lc(e)?i?Ca("signIn",e,t,n,i):vc(e,t,n):e&&hc(e)&&!i?Ca("phoneSignInStart",e,t):Ca("providerSignIn",e,t,i)}function dc(e,t,n,i){var r=iu(t);yl(e,nu(t,O(fl(e).fetchProvidersForEmail,fl(e)),[n],function(o){Io(fa(bl(e))==Ko,pl(e)),t.m(),pc(e,r,o,n,void 0,i)},function(e){e=ac(e),t.g(e)}))}function pc(e,t,n,i,r,a){if(n.length)if(ae(n,o.auth.EmailAuthProvider.PROVIDER_ID))Ca("passwordSignIn",e,t,i);else{r=new $r(i);var s=pl(e);Co(go,r.fa(),s),Ca("federatedSignIn",e,t,i,n[0],a)}else Ca("passwordSignUp",e,t,i,r)}function vc(e,t,n){fa(bl(e))==Ko?$u(function(){da?Ju(e,function(){Ro(pl(e)),ga(function(i){Eo(mo,pl(e)),Zu(e,i?"empty":"unavailable",function(){Ca("signIn",e,t,n)})},Ao(pl(e)),Xo(bl(e)))}):(_l(e),ec(hl,t,!1,Xo(bl(e))))},!1):(Qu=!1,Ju(e,function(){Zu(e,"unavailable",function(){Ca("signIn",e,t,n)})}))}function gc(e){var t=window.location.href;return(t=Tt(t,e=Po(bl(e).a,"queryParameterForSignInSuccessUrl")))?ze(Qe(t)):null}function mc(){return Tt(window.location.href,"oobCode")}function yc(){var e=Tt(window.location.href,"continueUrl");return e?function(){tr(e)}:null}function bc(e,t){var n=ir(t);switch(function(e){var t=window.location.href;for(var n in t=Tt(t,e=ra(bl(e)))||"",Yo)if(Yo[n].toLowerCase()==t.toLowerCase())return Yo[n];return"callback"}(e)){case"callback":(t=gc(e))&&To(t,pl(e)),Ca("callback",e,n);break;case"resetPassword":Ca("passwordReset",e,n,mc(),yc());break;case"recoverEmail":Ca("emailChangeRevocation",e,n,mc());break;case"verifyEmail":Ca("emailVerification",e,n,mc(),yc());break;case"select":if((t=gc(e))&&To(t,pl(e)),da){fc(e,n);break}return void $u(function(){_l(e),ec(hl,n,!0)},!0);default:throw Error("Unhandled widget operation.")}(t=sa(bl(e)))&&t()}function _c(e){tu.call(this,hu,void 0,e,"callback")}function wc(e,t,n){if(n.user){var i={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},r=ko(pl(e)),o=r&&r.g;if(o&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,o))!function(e,t,n){var i=iu(t);yl(e,wl(e).then(function(){t.m(),Ca("emailMismatch",e,i,n)},function(e){e.name&&"cancel"==e.name||(e=ac(e.code),t.g(e))}))}(e,t,i);else{var a=r&&r.a;a?yl(e,n.user.linkAndRetrieveDataWithCredential(a).then(function(n){i={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},Ec(e,t,i)},function(n){Cc(e,t,n)})):Ec(e,t,i)}}else n=iu(t),t.m(),Eo(go,pl(e)),fc(e,n)}function Ec(e,t,n){Eo(go,pl(e)),nc(e,t,n)}function Cc(e,t,n){var i=iu(t);Eo(go,pl(e)),n=ac(n),t.m(),fc(e,i,void 0,n)}function Sc(e,t,n,i){var r=iu(t);yl(e,fl(e).fetchProvidersForEmail(n).then(function(o){t.m(),o.length?"password"==o[0]?Ca("passwordLinking",e,r,n):Ca("federatedLinking",e,r,n,o[0],i):(Eo(go,pl(e)),Ca("passwordRecovery",e,r,n,!1,An().toString()))},function(n){Cc(e,t,n)}))}function Tc(e,t,n,i){tu.call(this,mu,{email:e,N:!!n},i,"emailChangeRevoke"),this.i=t,this.a=n||null}function Ic(){return ys(this,"firebaseui-id-new-password")}function Ac(){return ys(this,"firebaseui-id-password-toggle")}function Nc(){this.Ea=!this.Ea;var e=Ac.call(this),t=Ic.call(this);this.Ea?(t.type="text",Ua(e,"firebaseui-input-toggle-off"),ja(e,"firebaseui-input-toggle-on")):(t.type="password",Ua(e,"firebaseui-input-toggle-on"),ja(e,"firebaseui-input-toggle-off")),t.focus()}function kc(){return ys(this,"firebaseui-id-new-password-error")}function Rc(){this.Ea=!1;var e=Ic.call(this);e.type="password";var t=kc.call(this);Es(this,e,function(){As(t)&&(ws(e,!0),Ts(t))});var n=Ac.call(this);Ua(n,"firebaseui-input-toggle-on"),ja(n,"firebaseui-input-toggle-off"),function(e,t,n){Pn(e,P(Ln,t=new Ya(t))),bs(e).Z(t,"focusin",n)}(this,e,function(){Ua(n,"firebaseui-input-toggle-focus"),ja(n,"firebaseui-input-toggle-blur")}),function(e,t,n){Pn(e,P(Ln,t=new Ya(t))),bs(e).Z(t,"focusout",n)}(this,e,function(){Ua(n,"firebaseui-input-toggle-blur"),ja(n,"firebaseui-input-toggle-focus")}),Ss(this,n,O(Nc,this))}function xc(){var e=Ic.call(this),t=kc.call(this);return Ba(e)?(ws(e,!0),Ts(t),t=!0):(ws(e,!1),Is(t,un("Enter your password").toString()),t=!1),t?Ba(e):null}function Dc(e,t,n){tu.call(this,pu,{email:e},n,"passwordReset"),this.a=t}function Oc(e,t,n,i){"auth/weak-password"==(i&&i.code)?(e=ac(i),ws(n.i(),!1),Is(n.B(),e),n.i().focus()):(n&&n.m(),(n=new Gu).render(t),cl(e,n))}function Pc(e,t,n,i,r){tu.call(this,Eu,{Cb:e,pb:t},r,"emailMismatch"),this.s=n,this.i=i}function Lc(e,t,n,i){tu.call(this,du,{email:e,providerId:t},i,"federatedLinking"),this.a=n}function Mc(e,t,n,i){tu.call(this,cu,{email:n,Ga:!!t},i,"passwordRecovery"),this.a=e,this.s=t}function Fc(){return ys(this,"firebaseui-id-name")}function Uc(){return ys(this,"firebaseui-id-name-error")}function jc(e,t,n,i,r,o,a){tu.call(this,uu,{email:r,sb:t,name:o,pa:e,Ga:!!i},a,"passwordSignUp"),this.a=n,this.G=i,this.C=t}function Bc(e,t){var n=aa(bl(e)),i=t.L(),r=null;n&&(r=t.I());var a=t.M();if(i){if(n){if(!r)return void t.B().focus();r=H(r)}if(a){var s=o.auth.EmailAuthProvider.credential(i,a);yl(e,nu(t,O(e.vb,e),[i,a],function(i){var o={user:i.user,credential:s,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};return n?(i=i.user.updateProfile({displayName:r}).then(function(){return nc(e,t,o)}),yl(e,i),i):nc(e,t,o)},function(n){if(!n.name||"cancel"!=n.name){var r=ac(n);switch(n.code){case"auth/email-already-in-use":return function(e,t,n,i){function r(){var e=ac(i);ws(t.i(),!1),Is(t.T(),e),t.i().focus()}var o=fl(e).fetchProvidersForEmail(n).then(function(i){i.length?r():(i=iu(t),t.m(),Ca("passwordRecovery",e,i,n,!1,An().toString()))},function(){r()});return yl(e,o),o}(e,t,i,n);case"auth/too-many-requests":r=un("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":ws(t.s(),!1),Is(t.W(),r);break;default:zr("setAccountInfo: "+Zr(n)),t.g(r)}}}))}else t.s().focus()}else t.i().focus()}function Wc(){return ys(this,"firebaseui-id-phone-confirmation-code")}function Hc(){return ys(this,"firebaseui-id-phone-confirmation-code-error")}function Vc(){return ys(this,"firebaseui-id-resend-countdown")}function qc(e,t,n,i,r,o,a,s){tu.call(this,Tu,{phoneNumber:r,pa:a},s,"phoneSignInFinish"),this.Fa=o,this.i=new Qa(1e3),this.C=o,this.I=e,this.a=t,this.G=n,this.L=i}j(_c,tu),Ea.callback=function(e,t,n){var i=new _c;i.render(t),cl(e,i),t=n||ul(e),yl(e,t.then(function(t){wc(e,i,t)},function(t){if(t&&("auth/account-exists-with-different-credential"==t.code||"auth/email-already-in-use"==t.code)&&t.email&&t.credential){var n=Jr(t),r=pl(e);Co(go,n.fa(),r),Sc(e,i,t.email)}else t&&"auth/user-cancelled"==t.code?(n=ko(pl(e)),r=ac(t),n&&n.a?Sc(e,i,n.g,r):n?dc(e,i,n.g,r):Cc(e,i,t)):t&&"auth/credential-already-in-use"==t.code||(t&&"auth/operation-not-supported-in-this-environment"==t.code&&lc(e)?wc(e,i,{user:null,credential:null}):Cc(e,i,t))}))},j(Tc,tu),Tc.prototype.w=function(){var e=this;Ss(this,ys(this,"firebaseui-id-reset-password-link"),function(){e.i()}),this.a&&(this.B(this.a),this.s().focus()),Tc.o.w.call(this)},Tc.prototype.l=function(){this.i=this.a=null,Tc.o.l.call(this)},L(Tc.prototype,{s:Iu,C:Au,B:Nu}),j(Dc,tu),Dc.prototype.w=function(){this.G(),this.C(this.a),ou(this,this.i(),this.a),this.i().focus(),Dc.o.w.call(this)},Dc.prototype.l=function(){this.a=null,Dc.o.l.call(this)},L(Dc.prototype,{i:Ic,B:kc,I:Ac,G:Rc,s:xc,M:Iu,L:Au,C:Nu}),Ea.passwordReset=function(e,t,n,i){yl(e,fl(e).verifyPasswordResetCode(n).then(function(r){var o=new Dc(r,function(){!function(e,t,n,i,r){var o=n.s();o&&yl(e,nu(n,O(fl(e).confirmPasswordReset,fl(e)),[i,o],function(){n.m();var i=new Ku(r);i.render(t),cl(e,i)},function(i){Oc(e,t,n,i)}))}(e,t,o,n,i)});o.render(t),cl(e,o)},function(){Oc(e,t)}))},Ea.emailChangeRevocation=function(e,t,n){var i=null;yl(e,fl(e).checkActionCode(n).then(function(t){return i=t.data.email,fl(e).applyActionCode(n)}).then(function(){!function(e,t,n){var i=new Tc(n,function(){yl(e,nu(i,O(fl(e).sendPasswordResetEmail,fl(e)),[n],function(){i.m(),(i=new Hu(n)).render(t),cl(e,i)},function(){i.g(un("Unable to send password reset code to specified email").toString())}))});i.render(t),cl(e,i)}(e,t,i)},function(){var n=new zu;n.render(t),cl(e,n)}))},Ea.emailVerification=function(e,t,n,i){yl(e,fl(e).applyActionCode(n).then(function(){var n=new Vu(i);n.render(t),cl(e,n)},function(){var n=new qu;n.render(t),cl(e,n)}))},j(Pc,tu),Pc.prototype.w=function(){this.C(this.s,this.i),this.B().focus(),Pc.o.w.call(this)},Pc.prototype.l=function(){this.i=this.a=null,Pc.o.l.call(this)},L(Pc.prototype,{B:Iu,G:Au,C:Nu}),Ea.emailMismatch=function(e,t,n){var i=ko(pl(e));if(i){var r=new Pc(n.user.email,i.g,function(){var t=r;Eo(go,pl(e)),nc(e,t,n)},function(){var t=n.credential.providerId,o=iu(r);r.m(),i.a?Ca("federatedLinking",e,o,i.g,t):Ca("federatedSignIn",e,o,i.g,t)});r.render(t),cl(e,r)}else fc(e,t)},j(Lc,tu),Lc.prototype.w=function(){this.s(this.a),this.i().focus(),Lc.o.w.call(this)},Lc.prototype.l=function(){this.a=null,Lc.o.l.call(this)},L(Lc.prototype,{i:Iu,s:Nu}),Ea.federatedLinking=function(e,t,n,i,r){var o=ko(pl(e));if(o&&o.a){var a=new Lc(n,i,function(){uc(e,a,i,n)});a.render(t),cl(e,a),r&&a.g(r)}else fc(e,t)},Ea.federatedSignIn=function(e,t,n,i,r){var o=new Lc(n,i,function(){uc(e,o,i,n)});o.render(t),cl(e,o),r&&o.g(r)},Ea.passwordLinking=function(e,t,n){var i=ko(pl(e));Eo(go,pl(e));var r=i&&i.a;if(r){var o=new Ou(n,function(){!function(e,t,n,i){var r=t.B();r?yl(e,nu(t,O(e.ub,e),[n,r],function(n){return n=n.user.linkAndRetrieveDataWithCredential(i).then(function(n){return nc(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),yl(e,n),n},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":ws(t.i(),!1),Is(t.C(),ac(e));break;case"auth/too-many-requests":t.g(ac(e));break;default:zr("signInWithEmailAndPassword: "+e.message),t.g(ac(e))}})):t.i().focus()}(e,o,n,r)},function(){o.m(),Ca("passwordRecovery",e,t,n)});o.render(t),cl(e,o)}else fc(e,t)},j(Mc,tu),Mc.prototype.w=function(){this.G(),this.I(this.a,this.s),Ba(this.i())||this.i().focus(),ou(this,this.i(),this.a),Mc.o.w.call(this)},Mc.prototype.l=function(){this.s=this.a=null,Mc.o.l.call(this)},L(Mc.prototype,{i:Lu,C:Mu,G:Fu,L:Uu,B:ju,T:Iu,M:Au,I:Nu}),Ea.passwordRecovery=function(e,t,n,i,r){var o=new Mc(function(){!function(e,t){var n=t.B();if(n){var i=iu(t);yl(e,nu(t,O(fl(e).sendPasswordResetEmail,fl(e)),[n],function(){t.m();var r=new Hu(n,function(){r.m(),fc(e,i)});r.render(i),cl(e,r)},function(e){ws(t.i(),!1),Is(t.C(),ac(e))}))}else t.i().focus()}(e,o)},i?void 0:function(){o.m(),fc(e,t)},n);o.render(t),cl(e,o),r&&o.g(r)},Ea.passwordSignIn=function(e,t,n){var i=new Bu(function(){!function(e,t){var n=t.G(),i=t.B();if(n)if(i){var r=o.auth.EmailAuthProvider.credential(n,i);yl(e,nu(t,O(e.xb,e),[n,i],function(n){return nc(e,t,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":ws(t.s(),!1),Is(t.T(),ac(e));break;case"auth/too-many-requests":case"auth/wrong-password":ws(t.i(),!1),Is(t.C(),ac(e));break;default:zr("verifyPassword: "+e.message),t.g(ac(e))}}))}else t.i().focus();else t.s().focus()}(e,i)},function(){var n=i.L();i.m(),Ca("passwordRecovery",e,t,n)},n);i.render(t),cl(e,i)},j(jc,tu),jc.prototype.w=function(){this.aa(),this.C&&this.Fa(),this.wa(),this.va(this.a,this.G),this.C?(ru(this,this.i(),this.B()),ru(this,this.B(),this.s())):ru(this,this.i(),this.s()),this.a&&ou(this,this.s(),this.a),Ba(this.i())?this.C&&!Ba(this.B())?this.B().focus():this.s().focus():this.i().focus(),jc.o.w.call(this)},jc.prototype.l=function(){this.G=this.a=null,jc.o.l.call(this)},L(jc.prototype,{i:Lu,T:Mu,aa:Fu,Ra:Uu,L:ju,B:Fc,Ub:Uc,Fa:function(){var e=Fc.call(this),t=Uc.call(this);Es(this,e,function(){As(t)&&(ws(e,!0),Ts(t))})},I:function(){var e=Fc.call(this),t=Uc.call(this),n=Ba(e);return ws(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Ts(t),t=!0):(Is(t,un("Enter your account name").toString()),t=!1),t?W(Ba(e)):null},s:Ic,W:kc,ab:Ac,wa:Rc,M:xc,Qb:Iu,cb:Au,va:Nu}),Ea.passwordSignUp=function(e,t,n,i,r){var o=new jc(oa(bl(e)),aa(bl(e)),function(){Bc(e,o)},r?void 0:function(){o.m(),fc(e,t)},n,i);o.render(t),cl(e,o)},j(qc,tu),qc.prototype.w=function(){var e=this;this.M(this.Fa),ei(this.i,"tick",this.B,!1,this),this.i.start(),Ss(this,ys(this,"firebaseui-id-change-phone-number-link"),function(){e.I()}),Ss(this,this.Ma(),function(){e.L()}),this.wa(this.a),this.W(this.a,this.G),this.s().focus(),qc.o.w.call(this)},qc.prototype.l=function(){this.L=this.G=this.a=this.I=null,Xa(this.i),ii(this.i,"tick",this.B),this.i=null,qc.o.l.call(this)},qc.prototype.B=function(){--this.C,0<this.C?this.M(this.C):(Xa(this.i),ii(this.i,"tick",this.B),this.va(),this.Ra())},L(qc.prototype,{s:Wc,aa:Hc,wa:function(e){var t=Wc.call(this),n=Hc.call(this);Es(this,t,function(){As(n)&&(ws(t,!0),Ts(n))}),e&&Cs(this,t,function(){e()})},T:function(){var e=W(Ba(Wc.call(this))||"");return/^\d{6}$/.test(e)?e:null},Ya:Vc,M:function(e){ft(Vc.call(this),un("Resend code in "+(9<e?"0:":"0:0")+e).toString())},va:function(){Ts(this.Ya())},Ma:function(){return ys(this,"firebaseui-id-resend-link")},Ra:function(){Is(this.Ma())},cb:Iu,ab:Au,W:Nu}),Ea.phoneSignInFinish=function(e,t,n,i,r,o){var a=new qc(function(){a.m(),Ca("phoneSignInStart",e,t,n)},function(){!function(e,t,n,i){function r(e){t.s().focus(),ws(t.s(),!1),Is(t.aa(),e)}var o=t.T();o?(t.ua("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),yl(e,nu(t,O(i.confirm,i),[o],function(n){t.j(),t.ua("firebaseui-icon-done",un("Verified!").toString());var i=setTimeout(function(){t.j(),t.m();var i={user:dl(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};nc(e,t,i,!0)},1e3);yl(e,function(){t&&t.j(),clearTimeout(i)})},function(i){if(i.name&&"cancel"==i.name)t.j();else{var o=ac(i);switch(i.code){case"auth/credential-already-in-use":t.j();break;case"auth/code-expired":i=iu(t),t.j(),t.m(),Ca("phoneSignInStart",e,i,n,o);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.j(),r(o);break;default:t.j(),t.g(o)}}}))):r(un("Wrong code. Try again.").toString())}(e,a,n,r)},function(){a.m(),fc(e,t)},function(){a.m(),Ca("phoneSignInStart",e,t,n)},Vo(n),i,oa(bl(e)));a.render(t),cl(e,a),o&&a.g(o)};var Kc=!(Ce||pe("Safari")&&!(be()||pe("Coast")||pe("Opera")||pe("Edge")||pe("Silk")||pe("Android")));function Gc(e,t){return/-[a-z]/.test(t)?null:Kc&&e.dataset?!pe("Android")||be()||pe("Firefox")||pe("Opera")||pe("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function zc(e,t,n){e=Xt(Bs,{items:e},null,this.v),zs.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(Gc(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||ct(document))||ct(document),i=ds(e),r=ds(n);if(!Ce||9<=Number(Pe)){a=hs(n,"borderLeftWidth");var o=hs(n,"borderRightWidth");s=hs(n,"borderTopWidth"),u=hs(n,"borderBottomWidth"),o=new ls(parseFloat(s),parseFloat(o),parseFloat(u),parseFloat(a))}else{var a=vs(n,"borderLeft");o=vs(n,"borderRight");var s=vs(n,"borderTop"),u=vs(n,"borderBottom");o=new ls(s,o,u,a)}n==ct(document)?(a=i.a-n.scrollLeft,i=i.g-n.scrollTop,!Ce||10<=Number(Pe)||(a+=o.left,i+=o.top)):(a=i.a-r.a-o.left,i=i.g-r.g-o.top),r=e.offsetWidth,o=e.offsetHeight,s=Ae&&!r&&!o,e=b(r)&&!s||!e.getBoundingClientRect?new it(r,o):new it((e=fs(e)).right-e.left,e.bottom-e.top),r=n.clientHeight-e.height,o=n.scrollLeft,s=n.scrollTop,n=new nt(o+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),s+=Math.min(i,Math.max(i-r,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),Ss(this,e,function(e){(e=(e=dt(e.target,"firebaseui-id-list-box-dialog-button"))&&Gc(e,"listboxid"))&&(Ys(),t(e))})}function Yc(){return ys(this,"firebaseui-id-phone-number")}function Qc(){return ys(this,"firebaseui-id-phone-number-error")}function Xc(e){return"firebaseui-flag-"+e.f}function $c(){var e=this;zc.call(this,ie(jo,function(e){return{id:e.c,Ba:"firebaseui-flag "+Xc(e),label:e.name+" +"+e.b}}),function(t){Jc.call(e,t,!0),e.F().focus()},this.oa)}function Jc(e,t){var n=Uo(e);if(n){if(t){var i=W(Ba(Yc.call(this))||"");if((t=Fo(i)).length&&t[0].b!=n.b){i="+"+n.b+i.substr(t[0].b.length+1);var r=(t=Yc.call(this)).type;switch(_(r)&&r.toLowerCase()){case"checkbox":case"radio":t.checked=i;break;case"select-one":if(t.selectedIndex=-1,_(i))for(var o=0;r=t.options[o];o++)if(r.value==i){r.selected=!0;break}break;case"select-multiple":for(_(i)&&(i=[i]),o=0;r=t.options[o];o++)if(r.selected=!1,i)for(var a,s=0;a=i[s];s++)r.value==a&&(r.selected=!0);break;default:t.value=null!=i?i:""}}}t=Uo(this.oa),this.oa=e,e=ys(this,"firebaseui-id-country-selector-flag"),t&&ja(e,Xc(t)),Ua(e,Xc(n)),ft(ys(this,"firebaseui-id-country-selector-code"),"+"+n.b)}}function Zc(e,t){try{var n="number"==typeof e.selectionStart}catch(e){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):Ce&&!Me("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function el(e,t,n,i,r,o){tu.call(this,Su,{eb:n,na:r||null},o,"phoneSignInStart"),this.G=i||null,this.I=n,this.a=e,this.B=t}function tl(e,t,n,i){var r=t.M();r?ba?(t.ua("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),yl(e,nu(t,O(e.yb,e),[Vo(r),n],function(n){var i=iu(t);t.ua("firebaseui-icon-done",un("Code sent!").toString());var o=setTimeout(function(){t.j(),t.m(),Ca("phoneSignInFinish",e,i,r,15,n)},1e3);yl(e,function(){t&&t.j(),clearTimeout(o)})},function(e){if(t.j(),!e.name||"cancel"!=e.name){grecaptcha.reset(wa),ba=null;var n=e&&e.message||"";if(e.code)switch(e.code){case"auth/too-many-requests":n=un("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.F().focus(),void Is(t.C(),Sn().toString());default:n=ac(e)}t.g(n)}}))):_a?Is(t.s(),un("Solve the reCAPTCHA").toString()):!_a&&i&&t.i().click():(t.F().focus(),Is(t.C(),Sn().toString()))}function nl(e,t,n){tu.call(this,Cu,{rb:t},n,"providerSignIn"),this.a=e}function il(e,t,n,i){tu.call(this,au,{email:n,bb:!!t},i,"signIn"),this.i=e,this.s=t}function rl(e,t){this.U=!1;var n=sl(t);if(al[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');al[n]=this,this.h=e,this.V=null,ol(this.h),this.u=o.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),ol(this.u),this.u.setPersistence&&this.u.setPersistence(o.auth.Auth.Persistence.SESSION),this.$=t,this.B=new qo,this.g=this.H=this.i=this.D=null,this.j=[],this.s=!1,this.J=_r.Ia(),this.a=this.A=null,this.v=!1}function ol(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}j(el,tu),el.prototype.w=function(){this.W(this.G),this.L(this.a,this.B),this.I||ru(this,this.F(),this.i()),ou(this,this.i(),this.a),this.F().focus(),Zc(this.F(),(this.F().value||"").length),el.o.w.call(this)},el.prototype.l=function(){this.B=this.a=null,el.o.l.call(this)},L(el.prototype,{F:Yc,C:Qc,W:function(e,t){var n=this,i=Yc.call(this),r=ys(this,"firebaseui-id-country-selector"),o=Qc.call(this);Jc.call(this,e||"1-US-0"),Ss(this,r,function(){$c.call(n)}),Es(this,i,function(){As(o)&&(ws(i,!0),Ts(o));var e=W(Ba(i)||""),t=Uo(this.oa);(e=Fo(e)).length&&e[0].b!=t.b&&(t=e[0],Jc.call(n,"1"==t.b?"1-US-0":t.c))}),t&&Cs(this,i,function(){t()})},M:function(){var e=W(Ba(Yc.call(this))||""),t=Fo(e),n=Uo(this.oa);return t.length&&t[0].b!=n.b&&Jc.call(this,t[0].c),t.length&&(e=e.substr(t[0].b.length+1)),e?new Wo(this.oa,e):null},T:function(){return ys(this,"firebaseui-recaptcha-container")},s:function(){return ys(this,"firebaseui-id-recaptcha-error")},i:Iu,aa:Au,L:Nu}),Ea.phoneSignInStart=function(e,t,n,i){var r=function(e){var t=null;if(ee(Zo(e),function(e){e.provider==o.auth.PhoneAuthProvider.PROVIDER_ID&&N(e.recaptchaParameters)&&!T(e.recaptchaParameters)&&(t=ge(e.recaptchaParameters))}),t){var n=[];ee(Qo,function(e){void 0!==t[e]&&(n.push(e),delete t[e])}),n.length&&Wr&&xr('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(bl(e))||{};ba=null,_a=!(r&&"invisible"===r.size);var a=function(e){var t,n=(e=ea(e,o.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;if(t=n){n=n.toUpperCase(),t=[];for(var i=0;i<jo.length;i++)jo[i].f===n&&t.push(jo[i])}return n=t,t=null,e&&_(e.loginHint)&&(t=Ho(e.loginHint)),n&&n[0]||t&&Uo(t.a)||null}(bl(e)),s=hc(e)?function(e){var t=null;return(e=ea(e,o.auth.PhoneAuthProvider.PROVIDER_ID))&&_(e.loginHint)&&(t=Ho(e.loginHint)),e&&e.defaultNationalNumber||t&&t.na||null}(bl(e)):null,u=new el(function(t){tl(e,u,c,!(!t||!t.keyCode))},function(){c.clear(),u.m(),fc(e,t)},_a,n&&n.a||a&&a.c||null,n&&n.na||s);u.render(t),cl(e,u),i&&u.g(i),r.callback=function(t){u.s()&&Ts(u.s()),ba=t,_a||tl(e,u,c)},r["expired-callback"]=function(){ba=null};var c=new o.auth.RecaptchaVerifier(_a?u.T():u.i(),r,dl(e).app);yl(e,nu(u,O(c.render,c),[],function(e){wa=e},function(n){n.name&&"cancel"==n.name||(n=ac(n),u.m(),fc(e,t,void 0,n))}))},j(nl,tu),nl.prototype.w=function(){this.i(this.a),nl.o.w.call(this)},nl.prototype.l=function(){this.a=null,nl.o.l.call(this)},L(nl.prototype,{i:function(e){function t(t){e(t)}for(var n=this.h?ot("firebaseui-id-idp-button",this.h||this.v.a):[],i=0;i<n.length;i++){var r=n[i];Ss(this,r,P(t,Gc(r,"providerId")))}}}),Ea.providerSignIn=function(e,t,n){var i=new nl(function(n){n==o.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),vc(e,t)):n==o.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),Ca("phoneSignInStart",e,t)):uc(e,i,n),_l(e),e.J.cancel()},ta(bl(e)));i.render(t),cl(e,i),n&&i.g(n),function(e){_l(e);try{(function e(t,n,i){if(t.a&&n){var r=function(){t.h=!0;var r=Promise.resolve(null);return i||(r=t.a.retrieve(n).catch(function(e){if("userCanceled"===e.type||"illegalConcurrentRequest"===e.type)throw e;return null})),r.then(function(e){return e||t.a.hint(n)}).catch(function(r){if("userCanceled"===r.type)t.g=Promise.resolve();else if("illegalConcurrentRequest"===r.type)return t.cancel(),e(t,n,i);return null})};return t.g?t.g.then(r):r()}if(n)return r=Ki(Er.Ia().load().then(function(){return t.a=y.googleyolo,e(t,n,i)}),function(){return null}),Promise.resolve(r);if("undefined"!=typeof Promise)return Promise.resolve(null);throw Error("One-Tap sign in not supported in the current browser!")})(e.J,function(e){var t=[],n=[];ee(Zo(e),function(e){e.authMethod&&(t.push(e.authMethod),e.clientId&&n.push({uri:e.authMethod,clientId:e.clientId}))});var i=null;return"googleyolo"===fa(e)&&t.length&&(i={supportedIdTokenProviders:n,supportedAuthMethods:t}),i}(bl(e)),function(e){var t;return _l(e),(t=e.s)||(e=ia(e=bl(e),o.auth.GoogleAuthProvider.PROVIDER_ID),t=!(!e||"select_account"!==e.prompt)),t}(e)).then(function(t){return!!e.g&&cc(e,e.g,t)})}catch(e){}}(e)},j(il,tu),il.prototype.w=function(){this.C(this.i),this.G(this.i,this.s||void 0),this.a().focus(),Zc(this.a(),(this.a().value||"").length),il.o.w.call(this)},il.prototype.l=function(){this.s=this.i=null,il.o.l.call(this)},L(il.prototype,{a:Lu,L:Mu,C:Fu,I:Uu,B:ju,T:Iu,M:Au,G:Nu}),Ea.signIn=function(e,t,n,i){var r=new il(function(){var t=r,n=t.B()||"";n&&dc(e,t,n)},lc(e)&&fa(bl(e))!=Ko?null:function(){r.m(),fc(e,t,n)},n);r.render(t),cl(e,r),i&&r.g(i)};var al={};function sl(e){return e||"[DEFAULT]"}function ul(e){return _l(e),e.i||(e.i=gl(e,function(t){return t&&!ko(pl(e))?Vi(dl(e).getRedirectResult().then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return El(e,t)})):Vi(fl(e).getRedirectResult().then(function(t){return Jo(bl(e))&&!t.user&&e.a&&!e.a.isAnonymous?dl(e).getRedirectResult():t}))})),e.i}function cl(e,t){_l(e),e.g=t}var ll=null;function hl(){return ll}function fl(e){return _l(e),e.u}function dl(e){return _l(e),e.h}function pl(e){return _l(e),e.$}function vl(e,t){var n=ir(t);if(n.setAttribute("lang","en".replace(/_/g,"-")),ll){var i=ll;_l(i),ko(pl(i))&&Wr&&xr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),ll.reset()}ll=e,e.H=n,function(e,t){e.F=null,e.D=new _i(t),function(e){var t=bi(e.K());vi[t]?ae(vi[t],e)||vi[t].push(e):vi[t]=[e]}(e.D),ei(e.D,"pageEnter",function(t){if(t=t&&t.pageId,e.F!=t){var n=bl(e);(n=ha(n).uiChanged||null)&&n(e.F,t),e.F=t}})}(e,n),so(new uo)&&so(new co)?bc(e,t):(t=ir(t),(n=new Yu(un("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),cl(e,n))}function gl(e,t){if(e.v)return t(ml(e));if(yl(e,function(){e.v=!1}),Jo(bl(e))){var n=new Mi(function(n){yl(e,e.h.onAuthStateChanged(function(i){e.a=i,e.v||(e.v=!0,n(t(ml(e))))}))});return yl(e,n),n}return e.v=!0,t(null)}function ml(e){return _l(e),Jo(bl(e))&&e.a&&e.a.isAnonymous?e.a:null}function yl(e,t){if(_l(e),t){e.j.push(t);var n=function(){ce(e.j,function(e){return e==t})};"function"!=typeof t&&t.then(n,n)}}function bl(e){return _l(e),e.B}function _l(e){if(e.U)throw Error("AuthUI instance is deleted!")}function wl(e){return _l(e),fl(e).signOut()}function El(e,t,n){if(_l(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var i=la(bl(e));return Vi().then(function(){return i(new kn("anonymous-upgrade-merge-conflict",null,n||t.credential))}).then(function(){throw e.g&&(e.g.m(),e.g=null),t})}return qi(t)}(e=rl.prototype).nb=function(){return _l(this),"pending"===wo(mo,pl(this))},e.start=function(e,t){_l(this);var n=this;void 0!==this.h.languageCode&&(this.V=this.h.languageCode);var i="en".replace(/_/g,"-");this.h.languageCode=i,this.u.languageCode=i,this.Ta(t),Eo(mo,pl(this));var r=y.document;this.A?this.A.then(function(){"complete"==r.readyState?vl(n,e):ni(window,"load",function(){vl(n,e)})}):"complete"==r.readyState?vl(n,e):ni(window,"load",function(){vl(n,e)})},e.disableAutoSignIn=function(){_l(this),this.s=!0},e.reset=function(){_l(this);var e=this;this.H&&this.H.removeAttribute("lang"),this.D&&yi(this.D),void 0!==this.h.languageCode&&(this.h.languageCode=this.V),Eo(mo,pl(this)),_l(this),this.J.cancel(),this.i=Vi({user:null,credential:null}),ll==this&&(ll=null),this.H=null;for(var t=0;t<this.j.length;t++)"function"==typeof this.j[t]?this.j[t]():this.j[t].cancel&&this.j[t].cancel();this.j=[],Eo(go,pl(this)),this.g&&(this.g.m(),this.g=null),this.F=null,this.u&&(this.A=wl(this).then(function(){e.A=null},function(){e.A=null}))},e.Ta=function(e){_l(this);var t,n=this.B;for(t in e)try{Oo(n.a,t,e[t])}catch(e){zr('Invalid config: "'+t+'"')}Ne&&Oo(n.a,"popupMode",!1)},e.tb=function(){_l(this);var e=bl(this),t=Po(e.a,"widgetUrl"),n=$o(e,t);if(bl(this).a.get("popupMode")){var i=n||"about:blank";(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||i.target||"google_popup",e.width=e.width||690,e.height=e.height||500,e||(e={}),t=window,n=i instanceof Ge?i:Qe(void 0!==i.href?i.href:String(i)),i=e.target||i.target;var r=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":r.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(o+"="+(e[o]?1:0))}var o=r.join(",");(pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&t.navigator&&t.navigator.standalone&&i&&"_self"!=i?(o=t.document.createElement("A"),n instanceof Ge||n instanceof Ge||(n=n.ja?n.ha():String(n),Ye.test(n)||(n="about:invalid#zClosurez"),n=$e(n)),o.href=ze(n),o.setAttribute("target",i),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,t,1),o.dispatchEvent(e),o={}):e.noreferrer?(o=t.open("",i,o),e=ze(n),o&&(Te&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),o.opener=null,We("b/12014412, meta tag with sanitized URL"),e=tt(e='<META HTTP-EQUIV="refresh" content="0; url='+H(e)+'">',null),o.document.write(Ze(e)),o.document.close())):(o=t.open(ze(n),i,o))&&e.noopener&&(o.opener=null),o&&o.focus()}else tr(n)},e.hb=function(){var e=this;return _l(this),this.u.app.delete().then(function(){var t=sl(pl(e));delete al[t],e.reset(),e.U=!0})},e.xb=function(e,t){_l(this);var n=this;return fl(this).signInAndRetrieveDataWithEmailAndPassword(e,t).then(function(i){return gl(n,function(r){return r?wl(n).then(function(){return El(n,{code:"auth/email-already-in-use"},o.auth.EmailAuthProvider.credential(e,t))}):i})})},e.vb=function(e,t){_l(this);var n=this;return gl(this,function(i){if(i){var r=o.auth.EmailAuthProvider.credential(e,t);return i.linkAndRetrieveDataWithCredential(r)}return fl(n).createUserAndRetrieveDataWithEmailAndPassword(e,t)})},e.wb=function(e){_l(this);var t=this;return gl(this,function(n){return n?n.linkAndRetrieveDataWithCredential(e).then(function(e){return e},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return El(t,n,e)}):fl(t).signInAndRetrieveDataWithCredential(e)})},e.zb=function(e){_l(this);var t=this,n=this.i;return this.i=null,gl(this,function(n){return n&&!ko(pl(t))?n.linkWithRedirect(e):fl(t).signInWithRedirect(e)}).then(function(){},function(e){throw t.i=n,e})},e.yb=function(e,t){_l(this);var n=this;return gl(this,function(i){return i?i.linkWithPhoneNumber(e,t).then(function(e){return new Cr(e,function(e){if("auth/credential-already-in-use"==e.code)return El(n,e);throw e})}):dl(n).signInWithPhoneNumber(e,t).then(function(e){return new Cr(e)})})},e.ub=function(e,t){return _l(this),fl(this).signInAndRetrieveDataWithEmailAndPassword(e,t)},U("firebaseui.auth.AuthUI",rl),U("firebaseui.auth.AuthUI.getInstance",function(e){return e=sl(e),al[e]?al[e]:null}),U("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",rl.prototype.disableAutoSignIn),U("firebaseui.auth.AuthUI.prototype.start",rl.prototype.start),U("firebaseui.auth.AuthUI.prototype.setConfig",rl.prototype.Ta),U("firebaseui.auth.AuthUI.prototype.signIn",rl.prototype.tb),U("firebaseui.auth.AuthUI.prototype.reset",rl.prototype.reset),U("firebaseui.auth.AuthUI.prototype.delete",rl.prototype.hb),U("firebaseui.auth.AuthUI.prototype.isPendingRedirect",rl.prototype.nb),U("firebaseui.auth.AuthUIError",kn),U("firebaseui.auth.AuthUIError.prototype.toJSON",kn.prototype.toJSON),U("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",Ko),U("firebaseui.auth.CredentialHelper.GOOGLE_YOLO","googleyolo"),U("firebaseui.auth.CredentialHelper.NONE","none")}(),"undefined"!=typeof window&&(window.dialogPolyfill=n(23))}(),e.exports=firebaseui}).call(this,n(5))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){var i;!function(){var r=window.CustomEvent;function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function u(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved";n|=r.type.substr(0,o.length)===o,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,r)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var r=0;r<i.length;++r){var o=i[r],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(e){}if(a&&s(a,e)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var n=[];t.forEach(function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))}),n.length&&e(n)}))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var d=f.get;f.get=function(){return u(this)?"dialog":d.call(this)};var p=f.set;f.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):p.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&u(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}o(t)&&(l.formSubmitter=t)}}},!1);var v=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return v.call(this);var e=o(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(u(t)){e.preventDefault();var n=o(t);if(n){var i=l.formSubmitter;i&&i.form===t?n.close(l.useValue||i.value):n.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n(22)?void 0===(i=function(){return l}.call(t,n,t,e))||(e.exports=i):"object"==typeof e.exports?e.exports=l:window.dialogPolyfill=l}()},function(e,t){e.exports={apiKey:"AIzaSyDln_MK9I9ONHUFNwfio8c3wygSwf2n8yE",authDomain:"adtower-server.firebaseapp.com",databaseURL:"https://adtower-server.firebaseio.com",projectId:"adtower-server",storageBucket:"adtower-server.appspot.com",messagingSenderId:"316519654468",appId:"1:316519654468:web:bf7cab1ce578fa08"}},function(e,t,n){var i;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,c=o.concat,l=o.push,h=o.indexOf,f={},d=f.toString,p=f.hasOwnProperty,v=p.toString,g=v.call(Object),m={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},_={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,r,o=(n=n||a).createElement("script");if(o.text=e,t)for(i in _)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[d.call(e)]||"object":typeof e}var C=function(e,t){return new C.fn.init(e,t)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(e){var t=!!e&&"length"in e&&e.length,n=E(e);return!y(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:"3.4.1",constructor:C,length:0,toArray:function(){return u.call(this)},get:function(e){return null==e?u.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(C.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||C.isPlainObject(n)?n:{},r=!1,a[t]=C.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},C.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=s(e))||"function"==typeof(n=p.call(t,"constructor")&&t.constructor)&&v.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(T(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?C.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(T(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return c.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var I=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(e){var t,n,i,r,o,a,s,u,c,l,h,f,d,p,v,g,m,y,b,_="sizzle"+1*new Date,w=e.document,E=0,C=0,S=ue(),T=ue(),I=ue(),A=ue(),N=function(e,t){return e===t&&(h=!0),0},k={}.hasOwnProperty,R=[],x=R.pop,D=R.push,O=R.push,P=R.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+F+"*("+U+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+F+"*\\]",B=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",W=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),V=new RegExp("^"+F+"*,"+F+"*"),q=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),K=new RegExp(F+"|>"),G=new RegExp(B),z=new RegExp("^"+U+"$"),Y={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=_e(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{O.apply(R=P.call(w.childNodes),w.childNodes),R[w.childNodes.length].nodeType}catch(e){O={apply:R.length?function(e,t){D.apply(e,P.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,r){var o,s,c,l,h,p,m,y=t&&t.ownerDocument,E=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return i;if(!r&&((t?t.ownerDocument||t:w)!==d&&f(t),t=t||d,v)){if(11!==E&&(h=Z.exec(e)))if(o=h[1]){if(9===E){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return i.push(c),i}else{if(h[2])return O.apply(i,t.getElementsByTagName(e)),i;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))&&(1!==E||"object"!==t.nodeName.toLowerCase())){if(m=e,y=t,1===E&&K.test(e)){for((l=t.getAttribute("id"))?l=l.replace(ie,re):t.setAttribute("id",l=_),s=(p=a(e)).length;s--;)p[s]="#"+l+" "+be(p[s]);m=p.join(","),y=ee.test(e)&&me(t.parentNode)||t}try{return O.apply(i,y.querySelectorAll(m)),i}catch(t){A(e,!0)}finally{l===_&&t.removeAttribute("id")}}}return u(e.replace(H,"$1"),t,i,r)}function ue(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[_]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function fe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ve(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce(function(t){return t=+t,ce(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Q.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,v=!o(d),w!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(d.getElementsByClassName),n.getById=le(function(e){return p.appendChild(e).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},m=[],g=[],(n.qsa=J.test(d.querySelectorAll))&&(le(function(e){p.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),t=J.test(p.compareDocumentPosition),b=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===d||e.ownerDocument===w&&b(w,e)?-1:t===d||t.ownerDocument===w&&b(w,t)?1:l?L(l,e)-L(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===d?-1:t===d?1:r?-1:o?1:l?L(l,e)-L(l,t):0;if(r===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?fe(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&f(e),n.matchesSelector&&v&&!A[t+" "]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){A(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==d&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==d&&f(e);var r=i.attrHandle[t.toLowerCase()],o=r&&k.call(i.attrHandle,t.toLowerCase())?r(e,t,!v):void 0;return void 0!==o?o:n.attributes||!v?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ie,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],r=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(N),h){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return l=null,e},r=se.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=se.selectors={cacheLength:50,createPseudo:ce,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var c,l,h,f,d,p,v=o!==a?"nextSibling":"previousSibling",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;v;){for(f=t;f=f[v];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=v="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(d=(c=(l=(h=(f=g)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===E&&c[1])&&c[2],f=d&&g.childNodes[d];f=++d&&f&&f[v]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[E,d,b];break}}else if(y&&(b=d=(c=(l=(h=(f=t)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===E&&c[1]),!1===b)for(;(f=++d&&f&&f[v]||(b=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&((l=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]=[E,b]),f!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=L(e,o[a])]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ce(function(e){var t=[],n=[],i=s(e.replace(H,"$1"));return i[_]?ce(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ce(function(e){return function(t){return se(e,t).length>0}}),contains:ce(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}}),lang:ce(function(e){return z.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ve(!1),disabled:ve(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e}),gt:ge(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function _e(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,u){var c,l,h,f=[E,s];if(u){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(l=(h=t[_]||(t[_]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=l[o])&&c[0]===E&&c[1]===s)return f[2]=c[2];if(l[o]=f,f[2]=e(t,n,u))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function Ee(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function Ce(e,t,n,i,r,o){return i&&!i[_]&&(i=Ce(i)),r&&!r[_]&&(r=Ce(r,o)),ce(function(o,a,s,u){var c,l,h,f=[],d=[],p=a.length,v=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?v:Ee(v,f,e,s,u),m=n?r||(o?e:p||i)?[]:a:g;if(n&&n(g,m,s,u),i)for(c=Ee(m,d),i(c,[],s,u),l=c.length;l--;)(h=c[l])&&(m[d[l]]=!(g[d[l]]=h));if(o){if(r||e){if(r){for(c=[],l=m.length;l--;)(h=m[l])&&c.push(g[l]=h);r(null,m=[],c,u)}for(l=m.length;l--;)(h=m[l])&&(c=r?L(o,h):f[l])>-1&&(o[c]=!(a[c]=h))}}else m=Ee(m===a?m.splice(p,m.length):m),r?r(null,a,m,u):O.apply(a,m)})}function Se(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,l=_e(function(e){return e===t},s,!0),h=_e(function(e){return L(t,e)>-1},s,!0),f=[function(e,n,i){var r=!a&&(i||n!==c)||((t=n).nodeType?l(e,n,i):h(e,n,i));return t=null,r}];u<o;u++)if(n=i.relative[e[u].type])f=[_e(we(f),n)];else{if((n=i.filter[e[u].type].apply(null,e[u].matches))[_]){for(r=++u;r<o&&!i.relative[e[r].type];r++);return Ce(u>1&&we(f),u>1&&be(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(H,"$1"),n,u<r&&Se(e.slice(u,r)),r<o&&Se(e=e.slice(r)),r<o&&be(e))}f.push(n)}return we(f)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,a=se.tokenize=function(e,t){var n,r,o,a,s,u,c,l=T[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=i.preFilter;s;){for(a in n&&!(r=V.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=q.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),s=s.slice(n.length)),i.filter)!(r=Y[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):T(e,u).slice(0)},s=se.compile=function(e,t){var n,r=[],o=[],s=I[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Se(t[n]))[_]?r.push(s):o.push(s);(s=I(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,u,l){var h,p,g,m=0,y="0",b=o&&[],_=[],w=c,C=o||r&&i.find.TAG("*",l),S=E+=null==w?1:Math.random()||.1,T=C.length;for(l&&(c=a===d||a||l);y!==T&&null!=(h=C[y]);y++){if(r&&h){for(p=0,a||h.ownerDocument===d||(f(h),s=!v);g=e[p++];)if(g(h,a||d,s)){u.push(h);break}l&&(E=S)}n&&((h=!g&&h)&&m--,o&&b.push(h))}if(m+=y,n&&y!==m){for(p=0;g=t[p++];)g(b,_,a,s);if(o){if(m>0)for(;y--;)b[y]||_[y]||(_[y]=x.call(u));_=Ee(_)}O.apply(u,_),l&&!o&&_.length>0&&m+t.length>1&&se.uniqueSort(u)}return l&&(E=S,c=w),b};return n?ce(o):o}(o,r))).selector=e}return s},u=se.select=function(e,t,n,r){var o,u,c,l,h,f="function"==typeof e&&e,d=!r&&a(e=f.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===t.nodeType&&v&&i.relative[u[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=Y.needsContext.test(e)?0:u.length;o--&&(c=u[o],!i.relative[l=c.type]);)if((h=i.find[l])&&(r=h(c.matches[0].replace(te,ne),ee.test(u[0].type)&&me(t.parentNode)||t))){if(u.splice(o,1),!(e=r.length&&be(u)))return O.apply(n,r),n;break}}return(f||s(e,d))(r,t,!v,n,!t||ee.test(e)&&me(t.parentNode)||t),n},n.sortStable=_.split("").sort(N).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||he(M,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),se}(n);C.find=I,C.expr=I.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=I.uniqueSort,C.text=I.getText,C.isXMLDoc=I.isXML,C.contains=I.contains,C.escapeSelector=I.escape;var A=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&C(e).is(n))break;i.push(e)}return i},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=C.expr.match.needsContext;function R(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return y(t)?C.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?C.grep(e,function(e){return e===t!==n}):"string"!=typeof t?C.grep(e,function(e){return h.call(t,e)>-1!==n}):C.filter(t,e,n)}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)C.find(e,r[t],n);return i>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&k.test(e)?C(e):e||[],!1).length}});var O,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),x.test(i[1])&&C.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=a.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,O=C(a);var L=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&C(e);if(!k.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(C(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return A(e,"parentNode")},parentsUntil:function(e,t,n){return A(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return A(e,"nextSibling")},prevAll:function(e){return A(e,"previousSibling")},nextUntil:function(e,t,n){return A(e,"nextSibling",n)},prevUntil:function(e,t,n){return A(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(R(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(e,t){C.fn[e]=function(n,i){var r=C.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=C.filter(i,r)),this.length>1&&(M[e]||C.uniqueSort(r),L.test(e)&&r.reverse()),this.pushStack(r)}});var U=/[^\x20\t\r\n\f]+/g;function j(e){return e}function B(e){throw e}function W(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(U)||[],function(e,n){t[n]=!0}),t}(e):C.extend({},e);var t,n,i,r,o=[],a=[],s=-1,u=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){C.each(n,function(n,i){y(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==E(i)&&t(i)})}(arguments),n&&!t&&u()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;(n=C.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?C.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return C.Deferred(function(n){C.each(t,function(t,i){var r=y(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,i,r){var o=0;function a(e,t,i,r){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(e<o)){if((n=i.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(c)?r?c.call(n,a(o,t,j,r),a(o,t,B,r)):(o++,c.call(n,a(o,t,j,r),a(o,t,B,r),a(o,t,j,t.notifyWith))):(i!==j&&(s=void 0,u=[n]),(r||t.resolveWith)(s,u))}},l=r?c:function(){try{c()}catch(n){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(n,l.stackTrace),e+1>=o&&(i!==B&&(s=void 0,u=[n]),t.rejectWith(s,u))}};e?l():(C.Deferred.getStackHook&&(l.stackTrace=C.Deferred.getStackHook()),n.setTimeout(l))}}return C.Deferred(function(n){t[0][3].add(a(0,n,y(r)?r:j,n.notifyWith)),t[1][3].add(a(0,n,y(e)?e:j)),t[2][3].add(a(0,n,y(i)?i:B))}).promise()},promise:function(e){return null!=e?C.extend(e,r):r}},o={};return C.each(t,function(e,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=u.call(arguments),o=C.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?u.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(W(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)W(r[n],a(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&H.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){n.setTimeout(function(){throw e})};var V=C.Deferred();function q(){a.removeEventListener("DOMContentLoaded",q),n.removeEventListener("load",q),C.ready()}C.fn.ready=function(e){return V.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||V.resolveWith(a,[C]))}}),C.ready.then=V.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(C.ready):(a.addEventListener("DOMContentLoaded",q),n.addEventListener("load",q));var K=function(e,t,n,i,r,o,a){var s=0,u=e.length,c=null==n;if("object"===E(n))for(s in r=!0,n)K(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,y(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(C(e),n)})),t))for(;s<u;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):u?t(e[0],n):o},G=/^-ms-/,z=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function Q(e){return e.replace(G,"ms-").replace(z,Y)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function $(){this.expando=C.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[Q(t)]=n;else for(i in t)r[Q(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in i?[t]:t.match(U)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||C.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var J=new $,Z=new $,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return Z.hasData(e)||J.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Z.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=Q(i.slice(5)),ne(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Z.set(this,e)}):K(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Z.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each(function(){Z.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Z.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=J.get(e,t),n&&(!i||Array.isArray(n)?i=J.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,r=n.shift(),o=C._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){C.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:C.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each(function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=C.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=a.documentElement,se=function(e){return C.contains(e.ownerDocument,e)},ue={composed:!0};ae.getRootNode&&(se=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(ue)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===C.css(e,"display")},le=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};function he(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return C.css(e,t,"")},u=s(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),l=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+u)&&re.exec(C.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)C.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,C.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}var fe={};function de(e){var t,n=e.ownerDocument,i=e.nodeName,r=fe[i];return r||(t=n.body.appendChild(n.createElement(i)),r=C.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),fe[i]=r,r)}function pe(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ce(i)&&(r[o]=de(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}C.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ce(this)?C(this).show():C(this).hide()})}});var ve=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&R(e,t)?C.merge([e],n):n}function _e(e,t){for(var n=0,i=e.length;n<i;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var we,Ee,Ce=/<|&#?\w+;/;function Se(e,t,n,i,r){for(var o,a,s,u,c,l,h=t.createDocumentFragment(),f=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===E(o))C.merge(f,o.nodeType?[o]:o);else if(Ce.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(ge.exec(o)||["",""])[1].toLowerCase(),u=ye[s]||ye._default,a.innerHTML=u[1]+C.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;C.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(t.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&C.inArray(o,i)>-1)r&&r.push(o);else if(c=se(o),a=be(h.appendChild(o),"script"),c&&_e(a),n)for(l=0;o=a[l++];)me.test(o.type||"")&&n.push(o);return h}we=a.createDocumentFragment().appendChild(a.createElement("div")),(Ee=a.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),we.appendChild(Ee),m.checkClone=we.cloneNode(!0).cloneNode(!0).lastChild.checked,we.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!we.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ae=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function ke(){return!1}function Re(e,t){return e===function(){try{return a.activeElement}catch(e){}}()==("focus"===t)}function xe(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)xe(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ke;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return C().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),e.each(function(){C.event.add(this,t,r,i,n)})}function De(e,t,n){n?(J.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=u.call(arguments),J.set(this,t,o),i=n(this,t),this[t](),o!==(r=J.get(this,t))||i?J.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else o.length&&(J.set(this,t,{value:C.event.trigger(C.extend(o[0],C.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&C.event.add(e,t,Ne)}C.event={global:{},add:function(e,t,n,i,r){var o,a,s,u,c,l,h,f,d,p,v,g=J.get(e);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&C.find.matchesSelector(ae,r),n.guid||(n.guid=C.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(U)||[""]).length;c--;)d=v=(s=Ae.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),d&&(h=C.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=C.event.special[d]||{},l=C.extend({type:d,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(d,a)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),C.event.global[d]=!0)},remove:function(e,t,n,i,r){var o,a,s,u,c,l,h,f,d,p,v,g=J.hasData(e)&&J.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(U)||[""]).length;c--;)if(d=v=(s=Ae.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=C.event.special[d]||{},f=u[d=(i?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!r&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(e,l));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||C.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)C.event.remove(e,d+t[c],n,i,!0);C.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=C.event.fix(e),u=new Array(arguments.length),c=(J.get(this,"events")||{})[s.type]||[],l=C.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=C.event.handlers.call(this,s,c),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((C.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?C(r,this).index(c)>-1:C.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&R(t,"input")&&De(t,"click",Ne),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&R(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&R(t,"input")&&J.get(t,"click")||R(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ie.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(e,t){C.event.special[e]={setup:function(){return De(this,e,Re),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||C.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),C.fn.extend({on:function(e,t,n,i){return xe(this,e,t,n,i)},one:function(e,t,n,i){return xe(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){C.event.remove(this,e,n,t)})}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Fe(e,t){return R(e,"table")&&R(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function je(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,i,r,o,a,s,u,c;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)C.event.add(t,r,c[r][n]);Z.hasData(e)&&(s=Z.access(e),u=C.extend({},s),Z.set(t,u))}}function We(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function He(e,t,n,i){t=c.apply([],t);var r,o,a,s,u,l,h=0,f=e.length,d=f-1,p=t[0],v=y(p);if(v||f>1&&"string"==typeof p&&!m.checkClone&&Le.test(p))return e.each(function(r){var o=e.eq(r);v&&(t[0]=p.call(this,r,o.html())),He(o,t,n,i)});if(f&&(o=(r=Se(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=C.map(be(r,"script"),Ue)).length;h<f;h++)u=r,h!==d&&(u=C.clone(u,!0,!0),s&&C.merge(a,be(u,"script"))),n.call(e[h],u,h);if(s)for(l=a[a.length-1].ownerDocument,C.map(a,je),h=0;h<s;h++)u=a[h],me.test(u.type||"")&&!J.access(u,"globalEval")&&C.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?C._evalUrl&&!u.noModule&&C._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):w(u.textContent.replace(Me,""),u,l))}return e}function Ve(e,t,n){for(var i,r=t?C.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||C.cleanData(be(i)),i.parentNode&&(n&&se(i)&&_e(be(i,"script")),i.parentNode.removeChild(i));return e}C.extend({htmlPrefilter:function(e){return e.replace(Oe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),u=se(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(a=be(s),i=0,r=(o=be(e)).length;i<r;i++)We(o[i],a[i]);if(t)if(n)for(o=o||be(e),a=a||be(s),i=0,r=o.length;i<r;i++)Be(o[i],a[i]);else Be(e,s);return(a=be(s,"script")).length>0&&_e(a,!u&&be(e,"script")),s},cleanData:function(e){for(var t,n,i,r=C.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[J.expando]){if(t.events)for(i in t.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return K(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return K(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!ye[(ge.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return He(this,arguments,function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(be(this)),n&&n.replaceChild(t,this))},e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){C.fn[e]=function(e){for(var n,i=[],r=C(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),C(r[a])[t](n),l.apply(i,n.get());return this.pushStack(i)}});var qe=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ge=new RegExp(oe.join("|"),"i");function ze(e,t,n){var i,r,o,a,s=e.style;return(n=n||Ke(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||se(e)||(a=C.style(e,t)),!m.pixelBoxStyles()&&qe.test(a)&&Ge.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);i="1%"!==e.top,u=12===t(e.marginLeft),l.style.right="60%",s=36===t(e.right),r=36===t(e.width),l.style.position="absolute",o=12===t(l.offsetWidth/3),ae.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,s,u,c=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,C.extend(m,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o}}))}();var Qe=["Webkit","Moz","ms"],Xe=a.createElement("div").style,$e={};function Je(e){var t=C.cssProps[e]||$e[e];return t||(e in Xe?e:$e[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;n--;)if((e=Qe[n]+t)in Xe)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function it(e,t,n){var i=re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function rt(e,t,n,i,r,o){var a="width"===t?1:0,s=0,u=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=C.css(e,n+oe[a],!0,r)),i?("content"===n&&(u-=C.css(e,"padding"+oe[a],!0,r)),"margin"!==n&&(u-=C.css(e,"border"+oe[a]+"Width",!0,r))):(u+=C.css(e,"padding"+oe[a],!0,r),"padding"!==n?u+=C.css(e,"border"+oe[a]+"Width",!0,r):s+=C.css(e,"border"+oe[a]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function ot(e,t,n){var i=Ke(e),r=(!m.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,i),o=r,a=ze(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(qe.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&r||"auto"===a||!parseFloat(a)&&"inline"===C.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===C.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+rt(e,t,n||(r?"border":"content"),o,i,a)+"px"}function at(e,t,n,i,r){return new at.prototype.init(e,t,n,i,r)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=Q(t),u=et.test(t),c=e.style;if(u||(t=Je(s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=re.exec(n))&&r[1]&&(n=he(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=r&&r[3]||(C.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,s=Q(t);return et.test(t)||(t=Je(s)),(a=C.cssHooks[t]||C.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=ze(e,t,i)),"normal"===r&&t in nt&&(r=nt[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),C.each(["height","width"],function(e,t){C.cssHooks[t]={get:function(e,n,i){if(n)return!Ze.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,i):le(e,tt,function(){return ot(e,t,i)})},set:function(e,n,i){var r,o=Ke(e),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===C.css(e,"boxSizing",!1,o),u=i?rt(e,t,i,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-rt(e,t,"border",!1,o)-.5)),u&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),it(0,n,u)}}}),C.cssHooks.marginLeft=Ye(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-le(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(e,t){C.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+oe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(C.cssHooks[e+t].set=it)}),C.fn.extend({css:function(e,t){return K(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Ke(e),r=t.length;a<r;a++)o[t[a]]=C.css(e,t[a],!1,i);return o}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,arguments.length>1)}}),C.Tween=at,at.prototype={constructor:at,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=at.prototype.init,C.fx.step={};var st,ut,ct=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;function ht(){ut&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ht):n.setTimeout(ht,C.fx.interval),C.fx.tick())}function ft(){return n.setTimeout(function(){st=void 0}),st=Date.now()}function dt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=oe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function pt(e,t,n){for(var i,r=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function vt(e,t,n){var i,r,o=0,a=vt.prefilters.length,s=C.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=st||ft(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||ft(),duration:n.duration,tweens:[],createTween:function(t,n){var i=C.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=Q(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=C.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(l,c.opts.specialEasing);o<a;o++)if(i=vt.prefilters[o].call(c,e,l,c.opts))return y(i.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return C.map(l,pt,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return he(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(U);for(var n,i=0,r=e.length;i<r;i++)n=e[i],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,u,c,l,h="width"in t||"height"in t,f=this,d={},p=e.style,v=e.nodeType&&ce(e),g=J.get(e,"fxshow");for(i in n.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],ct.test(r)){if(delete t[i],o=o||"toggle"===r,r===(v?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;v=!0}d[i]=g&&g[i]||C.style(e,i)}if((u=!C.isEmptyObject(t))||!C.isEmptyObject(d))for(i in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=J.get(e,"display")),"none"===(l=C.css(e,"display"))&&(c?l=c:(pe([e],!0),c=e.style.display||c,l=C.css(e,"display"),pe([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===C.css(e,"float")&&(u||(f.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(g?"hidden"in g&&(v=g.hidden):g=J.access(e,"fxshow",{display:c}),o&&(g.hidden=!v),v&&pe([e],!0),f.done(function(){for(i in v||pe([e]),J.remove(e,"fxshow"),d)C.style(e,i,d[i])})),u=pt(v?g[i]:0,i,f),i in g||(g[i]=u.start,v&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=C.isEmptyObject(e),o=C.speed(t,n,i),a=function(){var t=vt(this,C.extend({},e),o);(r||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=C.timers,a=J.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&lt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||C.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=C.timers,a=i?i.length:0;for(n.finish=!0,C.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),C.each(["toggle","show","hide"],function(e,t){var n=C.fn[t];C.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,i,r)}}),C.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){C.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),st=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ut||(ut=!0,ht())},C.fx.stop=function(){ut=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var gt,mt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return K(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(r=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=C.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&R(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(U);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||C.find.attr;mt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=mt[a],mt[a]=r,r=null!=n(e,t,i)?a:null,mt[a]=o),r}});var yt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function _t(e){return(e.match(U)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(U)||[]}C.fn.extend({prop:function(e,t){return K(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(e)||(t=C.propFix[t]||t,r=C.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,u=0;if(y(e))return this.each(function(t){C(this).addClass(e.call(this,t,wt(this)))});if((t=Et(e)).length)for(;n=this[u++];)if(r=wt(n),i=1===n.nodeType&&" "+_t(r)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=_t(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,u=0;if(y(e))return this.each(function(t){C(this).removeClass(e.call(this,t,wt(this)))});if(!arguments.length)return this.attr("class","");if((t=Et(e)).length)for(;n=this[u++];)if(r=wt(n),i=1===n.nodeType&&" "+_t(r)+" "){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=_t(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){C(this).toggleClass(e.call(this,n,wt(this),t),t)}):this.each(function(){var t,r,o,a;if(i)for(r=0,o=C(this),a=Et(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=wt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+_t(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;C.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=y(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,C(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=C.map(r,function(e){return null==e?"":e+""})),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ct,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:_t(C.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:r.length;for(i=o<0?u:a?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(t=C(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=C.makeArray(t),a=r.length;a--;)((i=r[a]).selected=C.inArray(C.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},m.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in n;var St=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,i,r){var o,s,u,c,l,h,f,d,v=[i||a],g=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(s=d=u=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!St.test(g+C.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[C.expando]?e:new C.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:C.makeArray(t,[e]),f=C.event.special[g]||{},r||!f.trigger||!1!==f.trigger.apply(i,t))){if(!r&&!f.noBubble&&!b(i)){for(c=f.delegateType||g,St.test(c+g)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||a)&&v.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=v[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?c:f.bindType||g,(h=(J.get(s,"events")||{})[e.type]&&J.get(s,"handle"))&&h.apply(s,t),(h=l&&s[l])&&h.apply&&X(s)&&(e.result=h.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),t)||!X(i)||l&&y(i[g])&&!b(i)&&((u=i[l])&&(i[l]=null),C.event.triggered=g,e.isPropagationStopped()&&d.addEventListener(g,Tt),i[g](),e.isPropagationStopped()&&d.removeEventListener(g,Tt),C.event.triggered=void 0,u&&(i[l]=u)),e.result}},simulate:function(e,t,n){var i=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(i,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),m.focusin||C.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,t);r||i.addEventListener(e,n,!0),J.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,t)-1;r?J.access(i,t,r):(i.removeEventListener(e,n,!0),J.remove(i,t))}}});var It=n.location,At=Date.now(),Nt=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var kt=/\[\]$/,Rt=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,n,i){var r;if(Array.isArray(t))C.each(t,function(t,r){n||kt.test(e)?i(e,r):Ot(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==E(t))i(e,t);else for(r in t)Ot(e+"["+r+"]",t[r],n,i)}C.param=function(e,t){var n,i=[],r=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){r(this.name,this.value)});else for(n in e)Ot(n,e[n],t,r);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Dt.test(this.nodeName)&&!xt.test(e)&&(this.checked||!ve.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:n.replace(Rt,"\r\n")}}).get()}});var Pt=/%20/g,Lt=/#.*$/,Mt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,jt=/^\/\//,Bt={},Wt={},Ht="*/".concat("*"),Vt=a.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(U)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Kt(e,t,n,i){var r={},o=e===Wt;function a(s){var u;return r[s]=!0,C.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),u}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Gt(e,t){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&C.extend(!0,e,i),e}Vt.href=It.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,C.ajaxSettings),t):Gt(C.ajaxSettings,e)},ajaxPrefilter:qt(Bt),ajaxTransport:qt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,u,c,l,h,f,d,p=C.ajaxSetup({},t),v=p.context||p,g=p.context&&(v.nodeType||v.jquery)?C(v):C.event,m=C.Deferred(),y=C.Callbacks("once memory"),b=p.statusCode||{},_={},w={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Ft.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||E;return i&&i.abort(t),T(0,t),this}};if(m.promise(S),p.url=((e||p.url||It.href)+"").replace(jt,It.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(U)||[""],null==p.crossDomain){c=a.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Vt.protocol+"//"+Vt.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Kt(Bt,p,t,S),l)return S;for(f in(h=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ut.test(p.type),r=p.url.replace(Lt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pt,"+")):(d=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Nt.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Mt,"$1"),d=(Nt.test(r)?"&":"?")+"_="+At+++d),p.url=r+d),p.ifModified&&(C.lastModified[r]&&S.setRequestHeader("If-Modified-Since",C.lastModified[r]),C.etag[r]&&S.setRequestHeader("If-None-Match",C.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ht+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(v,S,p)||l))return S.abort();if(E="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),i=Kt(Wt,p,t,S)){if(S.readyState=1,h&&g.trigger("ajaxSend",[S,p]),l)return S;p.async&&p.timeout>0&&(u=n.setTimeout(function(){S.abort("timeout")},p.timeout));try{l=!1,i.send(_,T)}catch(e){if(l)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,a,s){var c,f,d,_,w,E=t;l||(l=!0,u&&n.clearTimeout(u),i=void 0,o=s||"",S.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(_=function(e,t,n){for(var i,r,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,S,a)),_=function(e,t,n,i){var r,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(p,_,S,c),c?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(C.lastModified[r]=w),(w=S.getResponseHeader("etag"))&&(C.etag[r]=w)),204===e||"HEAD"===p.type?E="nocontent":304===e?E="notmodified":(E=_.state,f=_.data,c=!(d=_.error))):(d=E,!e&&E||(E="error",e<0&&(e=0))),S.status=e,S.statusText=(t||E)+"",c?m.resolveWith(v,[f,E,S]):m.rejectWith(v,[S,E,d]),S.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?f:d]),y.fireWith(v,[S,E]),h&&(g.trigger("ajaxComplete",[S,p]),--C.active||C.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,t){C[t]=function(e,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:r,data:n,success:i},C.isPlainObject(e)&&e))}}),C._evalUrl=function(e,t){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){C(this).wrapInner(e.call(this,t))}):this.each(function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){C(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Yt=C.ajaxSettings.xhr();m.cors=!!Yt&&"withCredentials"in Yt,m.ajax=Yt=!!Yt,C.ajaxTransport(function(e){var t,i;if(m.cors||Yt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),i=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var Qt,Xt=[],$t=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||C.expando+"_"+At++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,a,s=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace($t,"$1"+r):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||C.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?C(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),m.createHTMLDocument=((Qt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qt.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((i=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(i)):t=a),o=!n&&[],(r=x.exec(e))?[t.createElement(r[1])]:(r=Se([e],t,o),o&&o.length&&C(o).remove(),C.merge([],r.childNodes)));var i,r,o},C.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=_t(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&C.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.pseudos.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length},C.offset={setOffset:function(e,t,n){var i,r,o,a,s,u,c=C.css(e,"position"),l=C(e),h={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=C.css(e,"top"),u=C.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(i=l.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),y(t)&&(t=t.call(e,n,C.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):l.css(h)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===C.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),r.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-C.css(i,"marginTop",!0),left:t.left-r.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||ae})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;C.fn[e]=function(i){return K(this,function(e,i,r){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),C.each(["top","left"],function(e,t){C.cssHooks[t]=Ye(m.pixelPosition,function(e,n){if(n)return n=ze(e,t),qe.test(n)?C(e).position()[t]+"px":n})}),C.each({Height:"height",Width:"width"},function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){C.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return K(this,function(t,n,r){var o;return b(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?C.css(t,n,s):C.style(t,n,r,s)},t,a?r:void 0,a)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),C.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=u.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(u.call(arguments)))}).guid=e.guid=e.guid||C.guid++,r},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=R,C.isFunction=y,C.isWindow=b,C.camelCase=Q,C.type=E,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(i=function(){return C}.apply(t,[]))||(e.exports=i);var Jt=n.jQuery,Zt=n.$;return C.noConflict=function(e){return n.$===C&&(n.$=Zt),e&&n.jQuery===C&&(n.jQuery=Jt),C},r||(n.jQuery=n.$=C),C})}]);